(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{382:function(t,s,a){"use strict";a.r(s);var n=a(46),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_3-发布到npm仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-发布到npm仓库"}},[t._v("#")]),t._v(" 3.发布到npm仓库")]),t._v(" "),a("h2",{attrs:{id:"_3-1-完善-package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-完善-package-json"}},[t._v("#")]),t._v(" 3.1.完善 package.json")]),t._v(" "),a("ul",[a("li",[t._v("注意:\n"),a("ul",[a("li",[t._v("name: 必须是唯一的名称(在npm在线中央仓库中没有同名的)")]),t._v(" "),a("li",[t._v("main: 必须指定为打包生成的js文件")]),t._v(" "),a("li",[t._v("keywords: 指定一些方便别的程序员搜索到当前库的关键字")])])])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utils"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xfzhang"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"尚硅谷-前端-自定义工具函数库"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keywords"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"atguigu"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utils"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"array"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"axios"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"event-bus"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pub-sub"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"promise"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist/atguigu-utils.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --watch"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.9.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack-cli"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.2.0"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_3-2-npm配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-npm配置"}},[t._v("#")]),t._v(" 3.2.npm配置")]),t._v(" "),a("ul",[a("li",[t._v("npm配置的中央仓库不能是淘宝镜像")]),t._v(" "),a("li",[t._v("发布前必须执行:  npm config set registry https://registry.npmjs.org/")]),t._v(" "),a("li",[t._v("不用发布时: npm config set registry http://registry.npm.taobao.org/")]),t._v(" "),a("li",[t._v("查看配置: npm config list")])]),t._v(" "),a("h2",{attrs:{id:"_3-3-注册npm中央仓库账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-注册npm中央仓库账号"}},[t._v("#")]),t._v(" 3.3.注册npm中央仓库账号")]),t._v(" "),a("ul",[a("li",[t._v("注册地址: https://www.npmjs.com/")]),t._v(" "),a("li",[t._v("关键信息: 用户名/密码/邮箱("),a("font",{attrs:{color:"red"}},[t._v("需要验证")]),t._v(")")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/9acme/assets@note/jsutils/image-20201204150917555.png",alt:"image-20201204150917555"}})]),t._v(" "),a("h2",{attrs:{id:"_3-4-添加用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-添加用户"}},[t._v("#")]),t._v(" 3.4.添加用户")]),t._v(" "),a("ul",[a("li",[t._v("执行: npm addUser")]),t._v(" "),a("li",[t._v("登陆npm仓库")]),t._v(" "),a("li",[t._v("依次指定用户名/密码/邮箱")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/9acme/assets@note/jsutils/image-20201204151301849.png",alt:"image-20201204151301849"}})]),t._v(" "),a("h2",{attrs:{id:"_3-5-发布仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-发布仓库"}},[t._v("#")]),t._v(" 3.5.发布仓库")]),t._v(" "),a("ul",[a("li",[t._v("执行: npm publish")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/9acme/assets@note/jsutils/image-20201210143938993.png",alt:"image-20201210143938993"}})]),t._v(" "),a("ul",[a("li",[t._v("发布失败, 原因是库的名称重复了, 修改name为一个唯一值, 再发布")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/9acme/assets@note/jsutils/image-20201204153505733.png",alt:"image-20201204153505733"}})]),t._v(" "),a("h2",{attrs:{id:"_3-6-更新代码后再发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-更新代码后再发布"}},[t._v("#")]),t._v(" 3.6.更新代码后再发布")]),t._v(" "),a("ul",[a("li",[t._v("修改项目库的版本号: package.json 中的version 从1.0.0 改为1.0.1, 注意一定要变大")]),t._v(" "),a("li",[t._v("修改代码后重新打包: npm run build")]),t._v(" "),a("li",[t._v("执行发布: npm publish")])]),t._v(" "),a("h2",{attrs:{id:"_3-7-强制删除已发布的库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-强制删除已发布的库"}},[t._v("#")]),t._v(" 3.7.强制删除已发布的库")]),t._v(" "),a("ul",[a("li",[t._v("执行: npm unpublish --force")]),t._v(" "),a("li",[t._v("注意: 必须在72小时内, 否则不能再删除")])])])}),[],!1,null,null,null);s.default=r.exports}}]);
<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. JavaWeb概念 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/css/0.styles.a4590749.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/app.14fc004d.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/2.566dfaa9.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/37.4ce8e76f.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/10.81b842ee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/11.ebfeb9f7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/12.f87cec0f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/13.d1ce78de.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/14.634d8798.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/15.849a5476.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/16.1f6789c6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/17.d72ae9a1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/18.a7d1bb6a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/19.18fab812.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/20.391e1774.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/21.344ff4ef.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/22.478aa888.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/23.60bd51e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/24.82e238c3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/25.20a14ce0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/26.e116a93c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/27.b5fad048.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/28.2e734899.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/29.49ab50a4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/3.335f6690.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/30.13900cdb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/31.f9eab52c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/32.5682fe77.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/33.b8e2439b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/34.25e28d58.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/35.3f068eb1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/36.9820c049.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/38.96891aad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/39.cd3b4e19.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/4.c6f2dbcb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/40.93d39d6b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/41.69f658c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/42.fe8735cc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/43.93f5a671.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/44.71dde7cb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/45.da5a1197.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/46.24fd1618.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/47.75cb5bcd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/48.fafb59cb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/49.7db241d8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/5.15b5abea.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/50.3009775e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/51.97e4f202.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/52.19933c3a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/53.0a0b0d46.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/54.b5bd901e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/55.5dcba331.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/56.7115c596.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/57.8538d355.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/58.95801003.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/59.b40f4cd4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/6.a6b9faac.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/60.91a78e87.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/61.159c0a0b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/62.f28d6c75.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/63.d22fc0d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/64.2cfd8f97.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/65.4afcd57b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/66.451cfc39.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/67.3d4fe828.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/68.6ec7d33c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/69.09279bf4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/7.7a8d11a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/70.9e615b20.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/71.fdb09aa2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/72.72d8deef.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/73.bc251e4e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/74.14797ed5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/75.63a55a44.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/76.623ca41c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/77.c403ce03.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/78.e44cdf03.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/79.bd840209.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/8.9ecafd55.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/80.573518cc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/81.457e9bbc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/82.1e7e05be.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/83.c4783015.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/84.f8083dc0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/85.432a5967.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/9.6a351eab.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/css/0.styles.a4590749.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dist/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dist/webpack/webpack_dev.html" class="sidebar-link">开发环境</a></li><li><a href="/dist/webpack/webpack_prod.html" class="sidebar-link">生产环境</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/dist/typescript/typescript.html" class="sidebar-link">typescript</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自定义工具库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>发布NPM包</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>java</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/dist/javaWeb/javaWeb.html" aria-current="page" class="active sidebar-link">javaWeb</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_1-1-什么是javaweb" class="sidebar-link">1.1 什么是JavaWeb</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_1-2-请求和响应" class="sidebar-link">1.2 请求和响应</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-1-tomcat服务器和servlet版本" class="sidebar-link">4.1 Tomcat服务器和Servlet版本</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-2-tomcat目录" class="sidebar-link">4.2. Tomcat目录</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-3-修改tomcat端口号" class="sidebar-link">4.3 修改Tomcat端口号</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-4-部署web工程到tomcat" class="sidebar-link">4.4 部署Web工程到Tomcat</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-5-手动拖动html页面和输入地址访问的不同" class="sidebar-link">4.5 手动拖动html页面和输入地址访问的不同</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-6-默认访问工程和默认访问资源" class="sidebar-link">4.6 默认访问工程和默认访问资源</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-7-web工程的创建" class="sidebar-link">4.7 Web工程的创建</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-8-web工程目录介绍" class="sidebar-link">4.8 Web工程目录介绍</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-9-给tomcat添加第三方jar包" class="sidebar-link">4.9 给Tomcat添加第三方jar包</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-10-idea部署tomcat工程" class="sidebar-link">4.10 Idea部署Tomcat工程</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_4-11-tomcat热部署" class="sidebar-link">4.11 Tomcat热部署</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-1-servlet概述" class="sidebar-link">5.1 Servlet概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-2-第一个servlet程序" class="sidebar-link">5.2 第一个Servlet程序</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-3-servlet程序启动原理" class="sidebar-link">5.3 Servlet程序启动原理</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-4-servlet生命周期" class="sidebar-link">5.4 Servlet生命周期</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-5-请求的分发处理" class="sidebar-link">5.5 请求的分发处理</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-6-通过实现httpservlet接口" class="sidebar-link">5.6 通过实现HttpServlet接口</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-7-使用idea创建servlet程序" class="sidebar-link">5.7 使用Idea创建Servlet程序</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-8-servlet类的继承体系" class="sidebar-link">5.8 Servlet类的继承体系</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-9-servletconfig类" class="sidebar-link">5.9 ServletConfig类</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-10-servletcontext类" class="sidebar-link">5.10 ServletContext类</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-11-http协议" class="sidebar-link">5.11 Http协议</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-12-httpservletrequest类" class="sidebar-link">5.12 HttpServletRequest类</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-13-httpservletrequest常用api" class="sidebar-link">5.13 HttpServletRequest常用API</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-14-获取请求的参数值" class="sidebar-link">5.14 获取请求的参数值</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-15-解决post请求获取参数乱码" class="sidebar-link">5.15 解决Post请求获取参数乱码</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-16-请求的转发" class="sidebar-link">5.16 请求的转发</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-17-请求转发中的base标签" class="sidebar-link">5.17 请求转发中的base标签</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-18-相对路径和绝对路径" class="sidebar-link">5.18 相对路径和绝对路径</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-19-斜杠的不同意义" class="sidebar-link">5.19 /斜杠的不同意义</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-20-httpservletresponse类" class="sidebar-link">5.20 HttpServletResponse类</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-21-相应的乱码解决" class="sidebar-link">5.21 相应的乱码解决</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_5-22-请求重定向" class="sidebar-link">5.22 请求重定向</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-1-jsp概述" class="sidebar-link">6.1 JSP概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-2-jsp页面的本质" class="sidebar-link">6.2 jsp页面的本质</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-3-jsp头部的page指令" class="sidebar-link">6.3 jsp头部的page指令</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-4-jsp中的常用脚本" class="sidebar-link">6.4 jsp中的常用脚本</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-5-jsp中的三中注释" class="sidebar-link">6.5 jsp中的三中注释</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-6-jsp九大内置对象" class="sidebar-link">6.6 jsp九大内置对象</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-7-jsp四大域对象" class="sidebar-link">6.7 jsp四大域对象</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-8-out输出和response-writer输出" class="sidebar-link">6.8 out输出和response.writer输出</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_6-9-jsp常用标签" class="sidebar-link">6.9 jsp常用标签</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_7-1-什么是listener监听器" class="sidebar-link">7.1 什么是Listener监听器</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_7-2-servletcontextlistener" class="sidebar-link">7.2 ServletContextListener</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-1-el表达式的概述" class="sidebar-link">8.1 EL表达式的概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-2-el表达式搜索域数据的顺序" class="sidebar-link">8.2 EL表达式搜索域数据的顺序</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-3-el表达式输出复杂bean对象" class="sidebar-link">8.3 EL表达式输出复杂Bean对象</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-4-el表达式的运算" class="sidebar-link">8.4 EL表达式的运算</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-5-el表达式中11个隐含对象" class="sidebar-link">8.5 EL表达式中11个隐含对象</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-6-el表达式获取四个特定域的属性" class="sidebar-link">8.6 EL表达式获取四个特定域的属性</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-7-pagecontext" class="sidebar-link">8.7 pageContext</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_8-8-其他el隐含对象实例" class="sidebar-link">8.8 其他EL隐含对象实例</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_9-1-jstl标签库概述" class="sidebar-link">9.1 JSTL标签库概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_9-2-jstl标签库使用步骤" class="sidebar-link">9.2 JSTL标签库使用步骤</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_9-3-core核心库的使用" class="sidebar-link">9.3 core核心库的使用</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_10-1-国际化三要素" class="sidebar-link">10.1 国际化三要素</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_10-2-i18n国际化基础实例" class="sidebar-link">10.2 i18n国际化基础实例</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_10-3-通过请求头实现国际化" class="sidebar-link">10.3 通过请求头实现国际化</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-1-概述" class="sidebar-link">11.1 概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-2-文件的上传介绍" class="sidebar-link">11.2 文件的上传介绍</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-3-上传的http协议内容介绍" class="sidebar-link">11.3 上传的http协议内容介绍</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-4-上传会用到的类和方法的介绍" class="sidebar-link">11.4 上传会用到的类和方法的介绍</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-5-使用fileupload解析上传的数据" class="sidebar-link">11.5 使用fileupload解析上传的数据</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-6-文件下载的实现" class="sidebar-link">11.6 文件下载的实现</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-7-url编码解决谷歌ie浏览器中文下载码乱码" class="sidebar-link">11.7 URL编码解决谷歌IE浏览器中文下载码乱码</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-8-base64编码、解码" class="sidebar-link">11.8 Base64编码、解码</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_11-9-base64解决火狐浏览器中文下载乱码" class="sidebar-link">11.9 Base64解决火狐浏览器中文下载乱码</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-1-概述" class="sidebar-link">12.1 概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-2-cookie的创建" class="sidebar-link">12.2 Cookie的创建</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-3-cookie的获取" class="sidebar-link">12.3 Cookie的获取</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-4-cookie值的修改" class="sidebar-link">12.4 Cookie值的修改</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-5-谷歌和火狐浏览器如何查看cookie" class="sidebar-link">12.5 谷歌和火狐浏览器如何查看Cookie</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-6-cookie的生命控制" class="sidebar-link">12.6 Cookie的生命控制</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-7-cookie的path属性" class="sidebar-link">12.7 Cookie的Path属性</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_12-8-cookie练习-免用户名登录" class="sidebar-link">12.8 Cookie练习----免用户名登录</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_13-1-概述" class="sidebar-link">13.1 概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_13-2-创建session和获取" class="sidebar-link">13.2 创建Session和获取</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_13-3-session域中数据的存取" class="sidebar-link">13.3 Session域中数据的存取</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_13-4-session生命周期的控制" class="sidebar-link">13.4 Session生命周期的控制</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_13-5-浏览器和session之间的技术关联" class="sidebar-link">13.5 浏览器和Session之间的技术关联</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_14-1-概述" class="sidebar-link">14.1 概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_14-2-filter过滤器的基本使用" class="sidebar-link">14.2 Filter过滤器的基本使用</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_14-3-完整的用户登录和权限检查" class="sidebar-link">14.3 完整的用户登录和权限检查</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_14-4-filter生命周期" class="sidebar-link">14.4 Filter生命周期</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_14-5-filterconfig类" class="sidebar-link">14.5 FilterConfig类</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_14-6-filter-chain过滤器链" class="sidebar-link">14.6 Filter-Chain过滤器链</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_14-7-filter的拦截路径" class="sidebar-link">14.7 Filter的拦截路径</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_15-1-概述" class="sidebar-link">15.1 概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_15-2-json在javascript中的使用" class="sidebar-link">15.2 JSON在Javascript中的使用</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_15-3-json两种常用的转换方法" class="sidebar-link">15.3 JSON两种常用的转换方法</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_15-4-json在java中的使用" class="sidebar-link">15.4 JSON在java中的使用</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_16-1-概述" class="sidebar-link">16.1 概述</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_16-2-javascript的ajax请求" class="sidebar-link">16.2 Javascript的AJAX请求</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_16-3-ajax请求的特点" class="sidebar-link">16.3 AJAX请求的特点</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_16-4-jquery中的ajax请求" class="sidebar-link">16.4 jQuery中的AJAX请求</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_16-5-jquery中的get和post方法" class="sidebar-link">16.5 jQuery中的get和post方法</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_16-6-jquery中的getjson方法" class="sidebar-link">16.6 jQuery中的getJson方法</a></li><li class="sidebar-sub-header"><a href="/dist/javaWeb/javaWeb.html#_16-7-jquery中的serialize方法" class="sidebar-link">16.7 jQuery中的serialize方法</a></li></ul></li><li><a href="/dist/jdbc/jdbc.html" class="sidebar-link">JDBC</a></li><li><a href="/dist/spring/spring.html" class="sidebar-link">spring</a></li><li><a href="/dist/springMVC/springMVC.html" class="sidebar-link">springMVC</a></li><li><a href="/dist/mybatis/mybatis.html" class="sidebar-link">mybatis</a></li><li><a href="/dist/maven/maven.html" class="sidebar-link">maven</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-javaweb概念"><a href="#_1-javaweb概念" class="header-anchor">#</a> 1. JavaWeb概念</h1> <h2 id="_1-1-什么是javaweb"><a href="#_1-1-什么是javaweb" class="header-anchor">#</a> 1.1 什么是JavaWeb</h2> <ul><li>JavaWeb是指，所有通过java语言编写可以通过浏览器访问的程序的总称，叫JavaWeb。</li> <li>JavaWeb基于请求和响应来开发</li></ul> <h2 id="_1-2-请求和响应"><a href="#_1-2-请求和响应" class="header-anchor">#</a> 1.2 请求和响应</h2> <ul><li>请求：客户端给服务器发送数据，叫请求Request</li> <li>相应：服务器给客户端回传数据，叫响应Response</li> <li>请求和响应是成对出现的，有请求就有响应</li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409133841952.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h1 id="_2-web资源的分类-√"><a href="#_2-web资源的分类-√" class="header-anchor">#</a> 2. Web资源的分类 √</h1> <p>web资源按实现的技术和呈现的效果不同，又分为静态资源和动态资源</p> <ul><li>静态资源：html、css、js、txt、MP4、jpg</li> <li>动态资源：jsp页面、Servlet程序</li></ul> <h1 id="_3-常用的web服务器-√"><a href="#_3-常用的web服务器-√" class="header-anchor">#</a> 3. 常用的Web服务器 √</h1> <ul><li>Tomcat：Apache组织提供的轻量级的、当前应用最广的Web服务器</li> <li>Jboss：是一个遵从JavaEE规范的、开放源代码的、纯Java的EJB服务器，它支持所有的JavaEE规范（免费〉。</li> <li>GlassFish：由Oracle公司开发的一款JavaWeb服务器，是一款强健的商业服务器，达到产品级质量（应用很少）。</li> <li>Resin：是CAUCHO公司的产品，是一个非常流行的服务器，对servlet和」SP提供了良好的支持，性能也比较优良，resin自身采用JAVA语言开发（收费，应用比较多）。</li> <li>WebLogic：是Oracle公司的产品，是目前应用最广泛的 Web服务器，支持JavaEE规范，而且不断的完善以适应新的开发要求，适合大型项目（收费，用的不多，适合大公司）。</li></ul> <h1 id="_4-tomcat-√"><a href="#_4-tomcat-√" class="header-anchor">#</a> 4. Tomcat √</h1> <h2 id="_4-1-tomcat服务器和servlet版本"><a href="#_4-1-tomcat服务器和servlet版本" class="header-anchor">#</a> 4.1 Tomcat服务器和Servlet版本</h2> <p>当前企业常用的版本：7.*/8.</p> <p><img src="https://img-blog.csdnimg.cn/20210409133930874.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_4-2-tomcat目录"><a href="#_4-2-tomcat目录" class="header-anchor">#</a> 4.2. Tomcat目录</h2> <ul><li>bin：专门存放Tomcat服务器的可执行程序</li> <li>conf：专门存放Tomcat服务器的配置文件</li> <li>lib：专门存放Tomcat服务器的jar包</li> <li>logs：专门存放Tomcat服务器的运行时输出的日志信息</li> <li>temp：专门存放Tomcat运行时产生的临时数据</li> <li>webapps：专门存放部署的web工程</li> <li>work：Tomcat工作时的目录，存放Tomcat运行时jsp翻译为Servlet的源码，和Session钝化的目录</li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409133945187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_4-3-修改tomcat端口号"><a href="#_4-3-修改tomcat端口号" class="header-anchor">#</a> 4.3 修改Tomcat端口号</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134001206.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p>平时上百度：http：//www.baidu.com：80</p> <p>Http协议默认的端口号是：80</p> <h2 id="_4-4-部署web工程到tomcat"><a href="#_4-4-部署web工程到tomcat" class="header-anchor">#</a> 4.4 部署Web工程到Tomcat</h2> <ul><li><p>方式一：将Web工程目录拷贝到Tomcat的Webapps目录下即可</p> <p><img src="https://img-blog.csdnimg.cn/20210409134018317.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul> <p>访问：http://localhost:8080/kuangstudy</p> <ul><li><p>方式二：找到Tomcat下的==\Catalina\localhost==，创建如下的配置文件</p> <p><img src="https://img-blog.csdnimg.cn/20210409134026694.png" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409134034355.png" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409134047558.png" alt=""></p></li></ul> <p>访问：http://localhost:8080/aaa</p> <h2 id="_4-5-手动拖动html页面和输入地址访问的不同"><a href="#_4-5-手动拖动html页面和输入地址访问的不同" class="header-anchor">#</a> 4.5 手动拖动html页面和输入地址访问的不同</h2> <ul><li><p>手动拖动html页面到浏览器，这个时候浏览器中的地址如下：</p> <p><img src="https://img-blog.csdnimg.cn/20210409134102731.png" alt=""></p> <p>他使用的是File：//协议，file协议表示告诉浏览器 我们直接读取file：协议后面的路径，解析展示在浏览器上即可</p></li> <li><p>在地址栏中输入地址访问：http：//ip:port/工程名/资源名</p> <p><img src="https://img-blog.csdnimg.cn/20210409134119640.png" alt=""></p> <p>所使用的协议是Http协议，背后的原因完全不同</p> <p><img src="https://img-blog.csdnimg.cn/20210409134128483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul> <h2 id="_4-6-默认访问工程和默认访问资源"><a href="#_4-6-默认访问工程和默认访问资源" class="header-anchor">#</a> 4.6 默认访问工程和默认访问资源</h2> <p>当我们在浏览器地址栏中输入访问地址如下：http://ip:port/ ------&gt; 没有工程名的时候，默认访问的是root工程</p> <p>当我们在浏览器地址栏中输入访问地址如下：<a href="http://ip:port/%E5%B7%A5%E7%A8%8B%E5%90%8D" target="_blank" rel="noopener noreferrer">http://ip:port/工程名<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ------&gt; 没有资源名的时候，默认访问的是index.html页面</p> <p><img src="https://img-blog.csdnimg.cn/20210409134147898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_4-7-web工程的创建"><a href="#_4-7-web工程的创建" class="header-anchor">#</a> 4.7 Web工程的创建</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134157890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_4-8-web工程目录介绍"><a href="#_4-8-web工程目录介绍" class="header-anchor">#</a> 4.8 Web工程目录介绍</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134225596.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_4-9-给tomcat添加第三方jar包"><a href="#_4-9-给tomcat添加第三方jar包" class="header-anchor">#</a> 4.9 给Tomcat添加第三方jar包</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134244621.png" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409134252891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409134300577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_4-10-idea部署tomcat工程"><a href="#_4-10-idea部署tomcat工程" class="header-anchor">#</a> 4.10 Idea部署Tomcat工程</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134315319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409134323560.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_4-11-tomcat热部署"><a href="#_4-11-tomcat热部署" class="header-anchor">#</a> 4.11 Tomcat热部署</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134338130.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h1 id="_5-servlet-√"><a href="#_5-servlet-√" class="header-anchor">#</a> 5. Servlet √</h1> <h2 id="_5-1-servlet概述"><a href="#_5-1-servlet概述" class="header-anchor">#</a> 5.1 Servlet概述</h2> <ul><li>Servlet是JavaEE规范之一，规范就是接口</li> <li>Servlet就是JavaWeb三大组件之一，三大组件：Servlet程序、Filter过滤器、Listener监听器</li> <li>Servlet是运行在服务器上的一个java小程序，<strong>它可以接收客户端发送过来的请求，并相应数据给客户端</strong></li></ul> <h2 id="_5-2-第一个servlet程序"><a href="#_5-2-第一个servlet程序" class="header-anchor">#</a> 5.2 第一个Servlet程序</h2> <ul><li><p>编写一个类去实现Servlet接口</p></li> <li><p>实现Service方法，处理请求，并响应数据</p></li> <li><p>到web.xml中去配置servlet程序的访问地址</p></li> <li><p>service方法是专门用来处理请求和响应的</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Servlet 被访问了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div></li> <li><p>web.xml实现配置</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--servlet标签给Tomcat配置Servlet程序--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--给servlet程序起一个别名（一般是类名）--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.atguigu.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--servlet-mapping标签给Servlet程序配置访问地址--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--告诉服务器，我当前配置的地址给哪个Servlet使用--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--配置访问地址--&gt;</span>
        <span class="token comment">&lt;!--
            /：        表示地址为：http://ip:port/工程路径
            /hello：   表示地址为：hello://ip:port/工程路径/hello
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h2 id="_5-3-servlet程序启动原理"><a href="#_5-3-servlet程序启动原理" class="header-anchor">#</a> 5.3 Servlet程序启动原理</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134401301.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_5-4-servlet生命周期"><a href="#_5-4-servlet生命周期" class="header-anchor">#</a> 5.4 Servlet生命周期</h2> <ul><li><p>执行Servlet构造器方法：第一次访问创建Servlet程序的时候会调用</p></li> <li><p>执行init初始化方法：第一次访问创建Servlet程序的时候会调用</p></li> <li><p>执行service方法：每次访问都会调用</p></li> <li><p>执行destroy销毁方法：在Web工程停止的时候调用</p></li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409134414178.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_5-5-请求的分发处理"><a href="#_5-5-请求的分发处理" class="header-anchor">#</a> 5.5 请求的分发处理</h2> <p>问题：在客户端对服务器发送的请求有两种类型，一种是get，一种是post，对两种请求的处理方式肯定是不同的，如何分别处理两种不同的请求呢？</p> <ul><li><p>判断请求的方式：ServletRequest的子类HttpServletRequest的方法==getMethod（）==方法即可判断</p></li> <li><p>对不同的请求进行处理：处理的过程中进行分别处理</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;3--------------service方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//类型转换(因为他有getMethod（）方法)</span>
    <span class="token class-name">HttpServletRequest</span> httpServletRequest<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span>
    <span class="token class-name">String</span> method <span class="token operator">=</span> httpServletRequest<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Get请求&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Get请求&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Post请求&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Post请求&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="_5-6-通过实现httpservlet接口"><a href="#_5-6-通过实现httpservlet接口" class="header-anchor">#</a> 5.6 通过实现HttpServlet接口</h2> <p>一般在实际项目开发过程中，都是使用继承HttpServlet方式去实现Servlet程序</p> <ul><li>编写一个类去继承HttpServlet类</li> <li>根据业务需要重写doGet（）和doPost（）方法</li> <li>到web.xml中的配置Servlet程序的访问地址</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet2</span>  <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Servlet2的doGet方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Servlet2的doPost方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-7-使用idea创建servlet程序"><a href="#_5-7-使用idea创建servlet程序" class="header-anchor">#</a> 5.7 使用Idea创建Servlet程序</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134437256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409134445244.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_5-8-servlet类的继承体系"><a href="#_5-8-servlet类的继承体系" class="header-anchor">#</a> 5.8 Servlet类的继承体系</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134459960.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_5-9-servletconfig类"><a href="#_5-9-servletconfig类" class="header-anchor">#</a> 5.9 ServletConfig类</h2> <p>ServletConfig类就是Servlet程序的配置信息类</p> <ul><li><p>ServletConfig类的三大作用</p> <ul><li><p>可以获取Servlet程序的别名Servlet-name的值</p></li> <li><p>获取初始化参数init-param</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--给servlet程序起一个别名（一般是类名）--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--全类名--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.atguigu.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--初始化参数--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--参数名--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--参数值--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>获取ServletContext对象</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//可以获取Servlet程序的别名Servlet-name的值</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HelloServlet程序的别名是：&quot;</span><span class="token operator">+</span>servletConfig<span class="token punctuation">.</span><span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取初始化参数init-param</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;初始化参数username的值是：&quot;</span><span class="token operator">+</span>servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取servletContext对象</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletContext对象是：&quot;</span><span class="token operator">+</span>servletConfig<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="_5-10-servletcontext类"><a href="#_5-10-servletcontext类" class="header-anchor">#</a> 5.10 ServletContext类</h2> <ul><li><p>什么是ServletContext？</p> <ul><li>ServletContext是一个接口，表示Servlet上下文对象</li> <li>一个Web工程只有一个ServletContext对象实例</li> <li>ServletContext对象是一个域对象</li> <li>ServletContext对象是在Web工程部署启动的时候创建，是在Web工程停止的时候销毁（不同的Servlet程序只要在一个工程内可以获取对象创建的值）</li></ul></li> <li><p>什么是域对象</p> <ul><li><p>域对象，是可以像Map一样存取数据的对象</p></li> <li><p>这里的域指的是存取数据的操作范围，即整个Web工程</p> <p>存数据取数据删除数据Mapput（）get（）remove（）域对象setAttribute（）getAttribute（）removeAttribute（）</p></li></ul></li> <li><p>ServletContext类的作用</p> <ul><li><p>获取Web.xml中配置的上下文参数</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//                1.获取Web.xml中配置的上下文参数</span>
        <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;context-param参数username的值是：&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--context-param是上下文参数  只能由context对象调用--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>获取当前的工程路径，格式：/工程路径</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//                2.获取当前的工程路径，格式：/工程路径</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前工程路径&quot;</span><span class="token operator">+</span>context<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>获取工程部署后在服务器磁盘上的绝对路径</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//                3.获取工程部署后在服务器磁盘上的绝对路径</span>
<span class="token comment">//         / 斜杠 表示被服务器解析地址为：http://ip:port/工程名/   映射到IDEA代码的Web目录</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;工程部署的路径是：&quot;</span><span class="token operator">+</span>context<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;工程下css目录的路径是：&quot;</span><span class="token operator">+</span>context<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>像Map一样存取数据</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">/</span>获取<span class="token class-name">ServletContext</span>对象
<span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

context<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;context1中获取域数据key1的值是：&quot;</span><span class="token operator">+</span>context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul> <h2 id="_5-11-http协议"><a href="#_5-11-http协议" class="header-anchor">#</a> 5.11 Http协议</h2> <ul><li><p>什么是Http协议：</p> <p>所谓的Http协议，就是指，客户端和服务器之间通信时，发送的数据需要遵守的规则，叫Http协议</p> <p>HTTP协议中的数据又叫报文</p></li> <li><p>请求的Http协议格式</p> <p>请求又分为Get请求和Post请求两种</p></li> <li><p>Get请求</p> <ul><li><p>请求行</p> <ul><li>请求方式 GET</li> <li>请求的资源路径【+？+请求参数】</li> <li>请求的协议的版本号 HTTP/1.1</li></ul></li> <li><p>请求头</p> <ul><li>key：value 不同的键值对表示不同的含义</li></ul></li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409134544229.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>Post请求</p> <ul><li><p>请求行</p> <ul><li>请求方式 POST</li> <li>请求的资源路径【+？+请求参数】</li> <li>请求的协议的版本号 HTTP/1.1</li></ul></li> <li><p>请求头</p> <ul><li><p>key：value 不同的键值对表示不同的含义</p> <p><strong>空行</strong></p></li></ul></li> <li><p>请求体 ------------&gt;发送给服务器的数据</p></li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409134554602.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>常用请求头</p> <ul><li>Accept：客户端可以接受的类型</li> <li>Accept-Language：客户端可以接受的语言类型</li> <li>User-Agent：客户端浏览器的信息</li> <li>Host：请求时的服务器ip和端口号</li></ul></li> <li><p>哪些是Get请求，哪些是Post请求</p> <ul><li>Get请求
<ul><li>form标签 method=get</li> <li>a标签</li> <li>link标签引入css</li> <li>scrpit标签引入js文件</li> <li>img标签引入图片</li> <li>iframe引入html页面</li> <li>浏览器地址栏中输入地址后敲回车</li></ul></li> <li>Post请求
<ul><li>form标签 method=post</li></ul></li></ul></li> <li><p>相应的Http协议格式</p> <ul><li><p>相应行</p> <ul><li>相应的协议和版本号</li> <li>响应状态码</li> <li>响应状态描述符</li></ul></li> <li><p>响应头</p> <ul><li><p>key：value 不同的响应头对表示不同的含义</p> <p><strong>空行</strong></p></li></ul></li> <li><p>响应体---------&gt; 就是回传给客户端的数据</p></li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409134610268.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>常用的响应码</p> <ul><li>200 表示请求成功</li> <li>302 表示请求重定向</li> <li>404 表示请求收到了，但是你要的数据不存在</li> <li>500 表示服务器已经收到请求，但是服务器内部错误（代码）</li></ul></li> <li><p>MIME数据类型</p> <p><img src="https://img-blog.csdnimg.cn/20210409134620250.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul> <h2 id="_5-12-httpservletrequest类"><a href="#_5-12-httpservletrequest类" class="header-anchor">#</a> 5.12 HttpServletRequest类</h2> <ul><li>作用：
<ul><li>每次只要有请求进入Tomcat服务器，Tomcat服务器就会把请求过来的Http协议信息解析好封装到Request对象中，然后传递到service方法（doGet、doPost）中给我们使用，我们可以通过HttpServletRequest对象获取到所有请求的信息</li></ul></li></ul> <h2 id="_5-13-httpservletrequest常用api"><a href="#_5-13-httpservletrequest常用api" class="header-anchor">#</a> 5.13 HttpServletRequest常用API</h2> <p><img src="https://img-blog.csdnimg.cn/20210409134708906.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//1.获取请求的资源路径</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;URI======&gt;&quot;</span><span class="token operator">+</span>req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//2.获取请求的统一资源定位符</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;URL======&gt;&quot;</span><span class="token operator">+</span>req<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3.获取客户端的ip地址</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;客户端的ip地址为：&quot;</span><span class="token operator">+</span>req<span class="token punctuation">.</span><span class="token function">getRemoteHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//4.获取请求头</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请求头User-Agent为：&quot;</span><span class="token operator">+</span>req<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;User-Agent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//5.获取请求的方式</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请求方式为：&quot;</span><span class="token operator">+</span>req<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20210409134718886.png" alt=""></p> <h2 id="_5-14-获取请求的参数值"><a href="#_5-14-获取请求的参数值" class="header-anchor">#</a> 5.14 获取请求的参数值</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//获取请求的参数</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobby <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">&quot;hobby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//多个hobby 用这个方法</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;密码&quot;</span><span class="token operator">+</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;爱好&quot;</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>hobby<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/02_ServletRequest/parameterservlet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    用户名: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    密码: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    兴趣爱好: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cpp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> C++
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Java
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>JavaScript<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_5-15-解决post请求获取参数乱码"><a href="#_5-15-解决post请求获取参数乱码" class="header-anchor">#</a> 5.15 解决Post请求获取参数乱码</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//设置请求体的字符集为UTF-8，从而解决Post请求中文乱码问题</span>
<span class="token comment">//此API需要在获取请求参数之前调用才有用！！！！！！！！！</span>
req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//获取请求的参数</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobby <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">&quot;hobby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//多个hobby 用这个方法</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20210409134735689.png" alt=""></p> <h2 id="_5-16-请求的转发"><a href="#_5-16-请求的转发" class="header-anchor">#</a> 5.16 请求的转发</h2> <ul><li><p>请求转发是指服务器收到请求后，从一个资源跳到另一个资源的操作叫请求转发</p> <p><img src="https://img-blog.csdnimg.cn/20210409134755645.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>请求转发的特点：</p> <ul><li>浏览器地址栏没有变化</li> <li>他们是一次请求</li> <li>他们是共享Request域中的数据（域数据）</li> <li>可以转发到WEB-INF目录下（若页面在WEB-INF目录下，使用浏览器访问不了，只能使用转发方式进入）</li> <li>不可以访问工程以外的资源，无法出站</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>aiguigu<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">RequestDispatcher</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Servlet1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取请求的参数（办事的材料）</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;在Servlet1(柜台)中查看参数（材料）&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//给材料盖一个章。并传递到Servlet2（柜台2）去查看</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;柜台1的章&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//问路Servlet2（柜台2）怎么走</span>
        <span class="token comment">//请求转发必须要以 斜杠‘/' 开始，斜杠表示：http://ip:port/工程名/  映射到web目录</span>
        <span class="token class-name">RequestDispatcher</span> requestDispatcher <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/servlet2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//走向Servlet2（柜台2）</span>
        requestDispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>aiguigu<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Servlet2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取请求的参数（办事的材料）</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;在Servlet2(柜台)中查看参数（材料）&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//查看柜台1是否有盖章</span>
        <span class="token class-name">Object</span> key1 <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;柜台1是否有章：&quot;</span><span class="token operator">+</span>key1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//处理自己的业务</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Servlet2处理自己的业务&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-17-请求转发中的base标签"><a href="#_5-17-请求转发中的base标签" class="header-anchor">#</a> 5.17 请求转发中的base标签</h2> <p>问题：在首页通过标签和网页c进行来回跳转成功，但是使用请求转发跳转进c后，却跳转不回首页？</p> <p><img src="https://img-blog.csdnimg.cn/20210409134833946.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p>作用：</p> <ul><li>设置页面相对路径工作时参照的地址来进行跳转</li> <li>href属性就是参照的地址值</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    这是web下的index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a/b/c.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>a/b/c.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/02_ServletRequest/forwardc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>请求转发<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/02_ServletRequest/a/b/c.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  这是a下的b下的c.html页面
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../../index.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>跳回首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>aiguigu<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForwardC</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;经过了ForwardC程序&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/a/b/c.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-18-相对路径和绝对路径"><a href="#_5-18-相对路径和绝对路径" class="header-anchor">#</a> 5.18 相对路径和绝对路径</h2> <p>在JavaWeb中，路径分为相对路径和绝对路径：</p> <ul><li>相对路径：
<ul><li>. 表示当前目录</li> <li>… 表示上一级目录</li> <li>资源名 表示当前目录/资源名</li></ul></li> <li>绝对路径：
<ul><li><a href="http://ip:port/%E5%B7%A5%E7%A8%8B%E8%B7%AF%E5%BE%84/%E8%B5%84%E6%BA%90%E5%90%8D" target="_blank" rel="noopener noreferrer">http://ip:port/工程路径/资源名<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <h2 id="_5-19-斜杠的不同意义"><a href="#_5-19-斜杠的不同意义" class="header-anchor">#</a> 5.19 /斜杠的不同意义</h2> <p>在Web中 /斜杠是一种绝对路径</p> <ul><li><p>/ 斜杠如果被浏览器解析，得到的地址是：http://ip:port/</p> <ul><li><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul></li> <li><p>/ 斜杠如果被服务器解析，得到的地址是：<a href="http://ip:port/%E5%B7%A5%E7%A8%8B%E8%B7%AF%E5%BE%84" target="_blank" rel="noopener noreferrer">http://ip:port/工程路径<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servlet1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><div class="language-java extra-class"><pre class="language-java"><code>servletContext<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><div class="language-java extra-class"><pre class="language-java"><code>request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>特殊情况：response.sendRediect(&quot;/&quot;) 把斜杠发送给浏览器解析，得到http://ip:port/</p></li></ul> <h2 id="_5-20-httpservletresponse类"><a href="#_5-20-httpservletresponse类" class="header-anchor">#</a> 5.20 HttpServletResponse类</h2> <ul><li><p>作用：</p> <ul><li>HttpServletResponse类和HttpServletRequest类一样，每次请求进来，Tomcat服务器都会创建一个response对象传递给Servlet程序去使用，HttpServletRequest表示请求过来的信息，HttpServletResponse表示所有相应的信息</li> <li>我们如果需要设置返回给客户端的信息，都可以通过HttpServletResponse对象来进行设置</li></ul></li> <li><p>两个输出流的说明</p> <p>字节流getOutputStream（）常用于下载（传递二进制数据）字符流getWriter（）常用于回传字符串</p> <ul><li><p>两个流只能使用一个，使用了字节流就不能再使用字符流，反之亦然，否则就会报错</p> <p><img src="https://img-blog.csdnimg.cn/20210409134908107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul></li> <li><p>如何往客户端回传数据</p> <ul><li><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;ranhaifeng NB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul> <h2 id="_5-21-相应的乱码解决"><a href="#_5-21-相应的乱码解决" class="header-anchor">#</a> 5.21 相应的乱码解决</h2> <ul><li><p>方式一：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//设置服务器字符集为utf-8</span>
resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//通过响应头，设置浏览器也使用utf-8</span>
resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//默认的是ISO-8859-1</span>
writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;詹姆斯牛逼！！！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>方式二（推荐）：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">/</span>他会同时设置服务器和客户端都使用utf<span class="token operator">-</span><span class="token number">8</span>字符集，同时设置了响应头
<span class="token comment">//此方法一定要在获取流对象之前调用才有效</span>
resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//默认的是ISO-8859-1</span>
writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;詹姆斯牛逼！！！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="_5-22-请求重定向"><a href="#_5-22-请求重定向" class="header-anchor">#</a> 5.22 请求重定向</h2> <p>请求重定向，是指客户端向服务器发请求，然后服务器告诉客户端说，我给你一些地址，你去新地址访问，叫请求重定向（因为之前的地址可能已经废弃）</p> <p><img src="https://img-blog.csdnimg.cn/20210409134937695.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <ul><li><p>请求重定向的特点：</p> <ul><li>浏览器地址栏会发生改变</li> <li>两次请求</li> <li>不共享Request域中的数据</li> <li>不能访问WEB-INF下的资源</li> <li>可以访问工程外的资源，比如百度</li></ul></li> <li><p>方式一：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;曾到此一游 Response1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置响应状态吗  302表示重定向（已搬迁）</span>
    resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//响应头，说明新的地址在哪里</span>
    resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Location&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>方式二（推荐）：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;曾到此一游 Response1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">//状态码默认为302</span>
   resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h1 id="_6-jsp-√"><a href="#_6-jsp-√" class="header-anchor">#</a> 6. JSP √</h1> <h2 id="_6-1-jsp概述"><a href="#_6-1-jsp概述" class="header-anchor">#</a> 6.1 JSP概述</h2> <ul><li>jsp的全称是 java serve page，java的服务器页面</li> <li>jsp的主要作用是代替Servlet程序回传html的数据</li> <li>因为Servlet程序回传hutml页面数据是一件非常繁琐的事情，开发成本和维护成本都极高</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
  <span class="token class-name">Created</span> by <span class="token class-name">IntelliJ</span> <span class="token class-name">IDEA<span class="token punctuation">.</span>
  User</span><span class="token operator">:</span> <span class="token class-name">Lenovo</span>
  <span class="token class-name">Date</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token operator">/</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">5</span>
  <span class="token class-name">Time</span><span class="token operator">:</span> <span class="token number">9</span><span class="token operator">:</span><span class="token number">18</span>
  <span class="token class-name">To</span> change <span class="token keyword">this</span> template use <span class="token class-name">File</span> <span class="token operator">|</span> <span class="token class-name">Settings</span> <span class="token operator">|</span> <span class="token class-name">File</span> <span class="token class-name">Templates</span><span class="token punctuation">.</span>
<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span> language<span class="token operator">=</span><span class="token string">&quot;java&quot;</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span><span class="token class-name">Title</span><span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    这是html页面数据
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_6-2-jsp页面的本质"><a href="#_6-2-jsp页面的本质" class="header-anchor">#</a> 6.2 jsp页面的本质</h2> <ul><li><p>jsp页面本质上是一个Servlet程序</p></li> <li><p>当我们第一次访问jsp页面的时候，Tomcat会帮我们帮jsp页面翻译成一个java源文件，并且把他进行编译为.class字节码程序，我们打开java源文件不难发现其里面的内容是：</p> <p><img src="https://img-blog.csdnimg.cn/20210409135007249.png" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409135013433.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p>​</p> <p>​ 跟踪源代码发现，HttpJspBase类直接继承了HttpServlet类，也就是说，Jsp翻译出来的类，间接继承了HttpServlet类，即翻译出来的是一个Servlet程序，并且在底层实现，也是通过输出流，将html页面数据回传给客户端</p> <p><img src="https://img-blog.csdnimg.cn/20210409135024277.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>总结：通过翻译的java源代码我们可以得知：jsp就是Servlet程序</p></li></ul> <h2 id="_6-3-jsp头部的page指令"><a href="#_6-3-jsp头部的page指令" class="header-anchor">#</a> 6.3 jsp头部的page指令</h2> <p>jsp 的page指令可以修改jsp页面中的一些重要的属性或行为</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span> language<span class="token operator">=</span><span class="token string">&quot;java&quot;</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>language属性：表示jsp翻译后是什么语言文件，暂时只支持java</li> <li>contentType属性：表示jsp返回的数据类型是什么，也是源码中response.setContentType（）参数值</li> <li>oageEncoding属性：表示当前jsp页面本身的字符集</li> <li>import属性：跟java源代码中一样，用于导包导类</li></ul> <p>以下两个属性是给out输出流使用：</p> <ul><li><p>autoFlush属性：设置当out输出流缓冲区满了之后，是否自动刷新缓冲区，默认值是true</p></li> <li><p>buffer属性：设置out缓冲区大小，默认是8kb</p> <p><img src="https://img-blog.csdnimg.cn/20210409135042750.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>errorPage属性：设置当jsp页面运行出错时，自动跳转去的错误页面路径</p></li> <li><p>isErrorPage属性：设置当前jsp页面是否是错误信息页面，默认是false，如果是true，可以获取异常信息</p></li> <li><p>session属性：设置访问当前jsp页面是否会创建Httpsession对象，默认为true</p></li> <li><p>extends属性：设置jsp翻译出来的java类默认继承谁</p></li></ul> <h2 id="_6-4-jsp中的常用脚本"><a href="#_6-4-jsp中的常用脚本" class="header-anchor">#</a> 6.4 jsp中的常用脚本</h2> <ul><li><p>声明脚本（很少使用）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">!</span>声明java代码    <span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div><p>作用：可以给jsp翻译出来的java类定义属性和方法甚至是静态代码块、内部类等</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">1.</span>声明类属性<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">!</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">2.</span>声明<span class="token keyword">static</span>静态代码块<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">!</span>
    <span class="token keyword">static</span><span class="token punctuation">{</span>
        map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">3.</span>声明类的方法<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">!</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">12</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">4.</span>声明内部类<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">!</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> abc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>表达式脚本（常用）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%=</span>表达式<span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>作用：在jsp页面上输出数据</li> <li>特点：
<ul><li>所有的表达式脚本都会被翻译到_jspService（）方法中</li> <li>表达式脚本都会被翻译成为out.print()输出到页面上</li> <li>由于表达式脚本翻译的内容都在_jspService（）方法中，所以_ jspService（）中的所有对象（request、reponse）都可以使用</li> <li>表达式脚本中的表达式不能以分号结束</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">1.</span>输出整型<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%=</span><span class="token number">12</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">2.</span>输出浮点型<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%=</span><span class="token number">12.12</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">3.</span>输出字符串<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%=</span><span class="token string">&quot;我是字符串&quot;</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">4.</span>输出对象<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%=</span>map<span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>代码脚本</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span>
	java语句
<span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>作用：可以在jsp页面中，编写我们自己需要的功能（写的是java语句）</li> <li>特点：
<ul><li>代码脚本翻译之后都在_jspService（）方法中</li> <li>代码脚本由于翻译到__jspService（）方法中，所以在_jspService（）方法中的先有对象都可以直接使用</li> <li>还可以由多个代码脚本块组合完成一个完整的java语句</li> <li>代码脚本还可以和表达式脚本一起组合使用，在jsp上输出使用数据</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token keyword">if</span>语句<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;海锋好帅&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;海锋又骗人了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token keyword">for</span>循环<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span><span class="token number">4</span> <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>翻译后java文件中_jspService方法内的代码都可以写<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名的请求参数是：&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div></li></ul> <h2 id="_6-5-jsp中的三中注释"><a href="#_6-5-jsp中的三中注释" class="header-anchor">#</a> 6.5 jsp中的三中注释</h2> <ul><li><p>html注释</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>这是html注释<span class="token operator">--</span><span class="token operator">&gt;</span>
</code></pre></div><p>html注释会被翻译到java源代码中，在_jspService（）方法中，以out.writer输出到客户端</p></li> <li><p>java注释</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span>
<span class="token comment">// 单行注释 //</span>
<span class="token comment">/* 多行注释 */</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div><p>java注释会被翻译到java源代码中</p></li> <li><p>jsp注释</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> 这是jsp注释 <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div><p>jsp注释可以注释掉jsp页面中所有代码</p></li></ul> <h2 id="_6-6-jsp九大内置对象"><a href="#_6-6-jsp九大内置对象" class="header-anchor">#</a> 6.6 jsp九大内置对象</h2> <p>jsp中的内置对象，是指Tomcat在翻译jsp页面成为Servlet源代码后，内部提供的九大对象，称为内部对象</p> <p>request请求对象response向印度香pageContextjsp的上下文对象session会话对象applicationServletContext对象configServletConfig对象outjsp输出流对象page指向当前jsp的对象exception（需要开启isErrorPage）异常对象</p> <h2 id="_6-7-jsp四大域对象"><a href="#_6-7-jsp四大域对象" class="header-anchor">#</a> 6.7 jsp四大域对象</h2> <p>四个域对象分别是：</p> <ul><li><p>域对象存取范围pageContext（PageContextImpl类）当前jsp页面范围内有效request（HttpServletRequest类）一次请求内有效session（HttpSession类）一个会话范围内有效（打开浏览器访问服务器，直到关闭服务器）application（ServletContext类）整个Web工程范围内都有效（只要Web工程不停止，数据都在）</p></li> <li><p>域对象是可以像Map一样存取数据的对象，四个域对象功能一样，不同的是他们对数据的存取范围</p></li> <li><p>虽然四个域对象都可以存取数据，在使用上他们是有优先顺序的，优先顺序分别是：他们从小到大的存取范围（基于对内存的优化），即：</p> <p>pageContext -------------&gt; request ------------&gt; session -----------------&gt; application</p></li></ul> <p>scope.jsp：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span>scope<span class="token punctuation">.</span>jsp页面<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        <span class="token comment">//往四个域中都保持了数据</span>
        pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
    pageContext域中是否有值：<span class="token operator">&lt;</span><span class="token operator">%=</span>pageContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    request：<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    session：<span class="token operator">&lt;</span><span class="token operator">%=</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    application：<span class="token operator">&lt;</span><span class="token operator">%=</span>application<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">%</span>
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/scope2.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>scope2.jsp：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
pageContext域中是否有值：<span class="token operator">&lt;</span><span class="token operator">%=</span>pageContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
request：<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
session：<span class="token operator">&lt;</span><span class="token operator">%=</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
application：<span class="token operator">&lt;</span><span class="token operator">%=</span>application<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_6-8-out输出和response-writer输出"><a href="#_6-8-out输出和response-writer输出" class="header-anchor">#</a> 6.8 out输出和response.writer输出</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135114366.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p>​ 由于jsp翻译之后，底层源代码都是使用out来进行输出，所以一般情况下我们在jsp页面中统一使用out来进行输出，避免打乱页面输出内容的顺序</p> <ul><li>out.writer（）：输出字符串没有问题，且只适合输出字符串
<ul><li>在源码中，如果输出的是整型，它会转化为char型，因此不能输出整型</li></ul></li> <li>out.print（）：输出任意数据都没有问题（都转换为字符串后调用的writer（）输出）</li></ul> <p>结论：在jsp页面中，可以统一使用==out.print（）==来进行输出</p> <h2 id="_6-9-jsp常用标签"><a href="#_6-9-jsp常用标签" class="header-anchor">#</a> 6.9 jsp常用标签</h2> <ul><li><p>静态包含（推荐）</p> <ul><li>静态包含的特点：
<ul><li>静态包含不会翻译被包含的jsp页面</li> <li>静态包含其实是把被包含的jsp页面代码拷贝到包含的位置执行输出</li></ul></li></ul> <p>main.jsp</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>@ include file<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">%</span><span class="token operator">&gt;</span>  就是静态包含
    file属性指定你要包含的jsp页面的路径
    地址中第一个斜杠表示为htttp：<span class="token comment">//ip:port/工程路径/ 映射到代码的Web目录</span>
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>

    头部信息
    主题内容
    <span class="token operator">&lt;</span><span class="token operator">%</span>@ include file<span class="token operator">=</span><span class="token string">&quot;/include/foot.jsp&quot;</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>foot.jsp：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    页脚信息
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <p>​</p> <ul><li><p>动态包含</p></li> <li><p>特点：</p> <ul><li>动态包含会把被包含的jsp页面也翻译成为java代码</li> <li>动态包含底层代码使用JspRuntimeLibrary.include（request，response，“/include/foot/jsp”，out，false）去调用被包含的jsp页面执行输出</li> <li>动态包含，还可以传递参数</li></ul> <p>main.jsp</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>

    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>include page<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>  这是动态包含
    page属性是指定你要包含的jsp页面的路径
    动态包含也可以像静态包含一样，将被包含内容执行输出到包含位置


    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>

    头部信息
    主题内容
    <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>include page<span class="token operator">=</span><span class="token string">&quot;foot.jsp&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>param name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;ran&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>jsp<span class="token operator">:</span>include<span class="token operator">&gt;</span>



<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>foot.jsp</p> <div class="language-java extra-class"><pre class="language-java"><code>页脚信息
<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre></div></li></ul> <p><img src="https://img-blog.csdnimg.cn/2021040913513895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <ul><li><p>请求转发</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>  <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>forward page<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>jsp<span class="token operator">:</span>forward<span class="token operator">&gt;</span> 是请求转发标签，它的功能就是请求转发<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>forward page<span class="token operator">=</span><span class="token string">&quot;scope2.jsp&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>jsp<span class="token operator">:</span>forward<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <h1 id="_7-listener监听器-√"><a href="#_7-listener监听器-√" class="header-anchor">#</a> 7. Listener监听器 √</h1> <h2 id="_7-1-什么是listener监听器"><a href="#_7-1-什么是listener监听器" class="header-anchor">#</a> 7.1 什么是Listener监听器</h2> <ul><li>Listener监听器是JavaWeb三大组件之一，三大组件分别是：Servlet程序、Filter过滤器、Listener监听器</li> <li>Listener它是javaEE的规范，就是接口</li> <li>监听器的作用就是监听某种事物的变化通过回调函数反馈给客户（程序）去做一些相应的处理</li></ul> <h2 id="_7-2-servletcontextlistener"><a href="#_7-2-servletcontextlistener" class="header-anchor">#</a> 7.2 ServletContextListener</h2> <ul><li><p>ServletContextListener可以监听ServletContext对象的创建和销毁</p></li> <li><p>ServletContext对象在Web工程启动的时候创建，在Web工程停止的时候销毁</p></li> <li><p>监听到创建和销毁之后会分别调用ServletContextListener监听器的方法反馈</p></li> <li><p>两个方法分别是：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//在ServketContext对象创建之后马上调用，做初始化</span>
<span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">//在ServletContext对象销毁之后调用</span>
<span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>使用步骤如下：</p> <ul><li><p>编写一个类去实现ServletContextListener接口</p> <p><img src="https://img-blog.csdnimg.cn/20210409135204148.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>实现其两个回调方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServletContextListener</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ServletContex对象被初始化了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ServletContex对象被销毁了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>到Web.xml中去配置监听器</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>com.atguigu.Listener.MyServletContextListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul></li></ul> <h1 id="_8-el表达式-√"><a href="#_8-el表达式-√" class="header-anchor">#</a> 8. EL表达式 √</h1> <h2 id="_8-1-el表达式的概述"><a href="#_8-1-el表达式的概述" class="header-anchor">#</a> 8.1 EL表达式的概述</h2> <ul><li>EL表达式的全称是：Expression language，表达式语言</li> <li>作用：替代jsp页面中的表达式脚本在jsp页面中进行数据的输出（因为比表达式脚本简洁很多）</li> <li>EL表达式输出的格式是：${key1}</li> <li>EL表达式在输出null值的时候，输出的是空串，jsp表达式脚本输出null值的时候，输出的是null字符串</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
    表达式脚本输出：<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token operator">?</span><span class="token string">&quot;&quot;</span><span class="token operator">:</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    EL表达式输出：$<span class="token punctuation">{</span>key1<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_8-2-el表达式搜索域数据的顺序"><a href="#_8-2-el表达式搜索域数据的顺序" class="header-anchor">#</a> 8.2 EL表达式搜索域数据的顺序</h2> <p>EL表达式在jsp页面中输出数据，输出的数据主要是域对象中的数据</p> <ul><li><p>当四个域中都有相同key的数据的时候，EL表达式会按照四个域的从小到大的数据去进行搜索，找到就输出</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">//四个域中都保存了相同域的数据</span>
    pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{</span>key<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="_8-3-el表达式输出复杂bean对象"><a href="#_8-3-el表达式输出复杂bean对象" class="header-anchor">#</a> 8.3 EL表达式输出复杂Bean对象</h2> <ul><li>在EL表达式中，输出对象的属性首先寻找的是该属性的set方法，属性本身有无初始值不重要</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token class-name">Person</span> person<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    person<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;冉海锋好帅&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    person<span class="token punctuation">.</span><span class="token function">setPhones</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;110&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;119&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;120&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> cities<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;成都&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;西安&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;广州&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    person<span class="token punctuation">.</span><span class="token function">setCities</span><span class="token punctuation">(</span>cities<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    person<span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>

    pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>输出person<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
输出<span class="token class-name">Person</span>：$<span class="token punctuation">{</span>person<span class="token punctuation">}</span>
输出<span class="token class-name">Person</span>的<span class="token class-name">Name</span>属性：$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
输出<span class="token class-name">Person</span>的phones属性：$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>phones<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
输出<span class="token class-name">Person</span>的cities属性：$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>cities<span class="token punctuation">}</span>
输出<span class="token class-name">Person</span>的<span class="token class-name">List</span>集合中的个别元素值：$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>cities<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
输出<span class="token class-name">Person</span>的map属性：$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>map<span class="token punctuation">}</span>
输出<span class="token class-name">Person</span>的map集合中某个key的值：$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>map<span class="token punctuation">.</span>key1<span class="token punctuation">}</span>
输出<span class="token class-name">Person</span>的age属性：$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>age<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-4-el表达式的运算"><a href="#_8-4-el表达式的运算" class="header-anchor">#</a> 8.4 EL表达式的运算</h2> <ul><li>关系运算</li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409135228146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>

    $<span class="token punctuation">{</span><span class="token number">12</span><span class="token operator">==</span><span class="token number">12</span><span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><ul><li>逻辑运算</li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409135240111.png" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>

    $<span class="token punctuation">{</span><span class="token number">12</span><span class="token operator">==</span><span class="token number">12</span> <span class="token operator">&amp;&amp;</span> <span class="token number">12</span><span class="token operator">&gt;</span><span class="token number">11</span><span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><ul><li>算术运算</li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409135248708.png" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>

    $<span class="token punctuation">{</span><span class="token number">12</span><span class="token operator">+</span><span class="token number">12</span><span class="token punctuation">}</span>
    $<span class="token punctuation">{</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">}</span>
    $<span class="token punctuation">{</span><span class="token number">12</span><span class="token operator">*</span><span class="token number">12</span><span class="token punctuation">}</span>
    $<span class="token punctuation">{</span><span class="token number">12</span><span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token number">1.0</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    $<span class="token punctuation">{</span><span class="token number">18</span><span class="token operator">%</span><span class="token number">12</span><span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><ul><li><p>empty运算</p> <p>empty运算可以判断一个数据是否为空，如果为空，输出true，不为空输出false</p> <p>以下几种情况为空：</p> <ul><li>值为null值</li> <li>值为空串</li> <li>值是Object类型数组，长度为0</li> <li>list集合，元素个数为0</li> <li>map集合，元素个数为0</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">//1.值为null</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.值为空串</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;null1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//3.值是Object类型数组，长度为0</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;null2&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//4.值是List集合，个数为0</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;null3&quot;</span><span class="token punctuation">,</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//5.值是Map集合，个数为0</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;null4&quot;</span><span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{</span>empty <span class="token keyword">null</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>empty null1<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>empty null2<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>empty null3<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>empty null4<span class="token punctuation">}</span>
</code></pre></div><ul><li>三元运算</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>$<span class="token punctuation">{</span><span class="token number">12</span><span class="token operator">==</span><span class="token number">12</span><span class="token operator">?</span><span class="token string">&quot;冉海锋死了&quot;</span><span class="token operator">:</span><span class="token string">&quot;冉海锋没死&quot;</span><span class="token punctuation">}</span>
</code></pre></div><ul><li><p>点运算和中括号运算</p> <ul><li><p>.点运算：可以输出Bean对象中某个属性的值</p></li> <li><p>【】中括号运算：可以输出有序集合中某个元素的值，并且还可以输出map集合中key里含有特殊字符的key的值</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token comment">//单引号双引号都可以</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;a.a.a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;aaavalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;b+b+b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bbbvalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;c-c-c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;cccvalue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>

    $<span class="token punctuation">{</span>map<span class="token punctuation">[</span><span class="token string">'a.a.a'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    $<span class="token punctuation">{</span>map<span class="token punctuation">[</span><span class="token string">'b+b+b'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    $<span class="token punctuation">{</span>map<span class="token punctuation">[</span><span class="token string">'c-c-c'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li></ul></li></ul> <h2 id="_8-5-el表达式中11个隐含对象"><a href="#_8-5-el表达式中11个隐含对象" class="header-anchor">#</a> 8.5 EL表达式中11个隐含对象</h2> <p>EL表达式中11个隐含对象，是EL表达式自己定义的，可以直接使用</p> <p>变量类型作用pageContextPageContextImpl可以获取jsp中的九大内置对象pageScopeMap可以获取PageContext域中的数据requestScopeMap可以获取reques域中的数据sessionScopeMap可以获取session域中的数据applicationScopeMap可以获取ServletContext域中的数据paramMap可以获取请求参数的值paramValuesMap可以获取请求参数的值，获取多个值的时候使用headerMap可以获取请求头的信息headerValuesMap可以获取请求头的信息，获取多个值的时候使用cookieMap可以获取当前请求的Cookie信息initParamMap可以获取在Web.xml中配置的上下文参数</p> <h2 id="_8-6-el表达式获取四个特定域的属性"><a href="#_8-6-el表达式获取四个特定域的属性" class="header-anchor">#</a> 8.6 EL表达式获取四个特定域的属性</h2> <ul><li><p>pageScope ----------------&gt; pageContext域</p></li> <li><p>requestScope ----------------&gt;Request域</p></li> <li><p>sessionScope ----------------&gt; Session域</p></li> <li><p>applicationScope ----------------&gt; ServletContext域</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageContext2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>


    $<span class="token punctuation">{</span>pageScope<span class="token punctuation">.</span>key1<span class="token punctuation">}</span>
    $<span class="token punctuation">{</span>requestScope<span class="token punctuation">.</span>key2<span class="token punctuation">}</span>
    $<span class="token punctuation">{</span>sessionScope<span class="token punctuation">.</span>key2<span class="token punctuation">}</span>
    $<span class="token punctuation">{</span>applicationScope<span class="token punctuation">.</span>key2<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <h2 id="_8-7-pagecontext"><a href="#_8-7-pagecontext" class="header-anchor">#</a> 8.7 pageContext</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;req&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
    $<span class="token punctuation">{</span>pageContext<span class="token punctuation">}</span>
    <span class="token number">1.</span>协议：$<span class="token punctuation">{</span>req<span class="token punctuation">.</span>scheme<span class="token punctuation">}</span>
    <span class="token number">2.</span>服务器ip：$<span class="token punctuation">{</span>pageContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>serverName<span class="token punctuation">}</span>
    <span class="token number">3.</span>服务器端口：$<span class="token punctuation">{</span>pageContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>serverPort<span class="token punctuation">}</span>
    <span class="token number">4.</span>获取工程路径<span class="token operator">:</span> $<span class="token punctuation">{</span>pageContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>contextPath<span class="token punctuation">}</span>
    <span class="token number">5.</span>获取请求方式<span class="token operator">:</span>  $<span class="token punctuation">{</span>pageContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>method<span class="token punctuation">}</span>
    <span class="token number">6.</span>获取客户端ip地址 $<span class="token punctuation">{</span>pageContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>remoteHost<span class="token punctuation">}</span>
    <span class="token number">7.</span>获取会话id编号 $<span class="token punctuation">{</span>pageContext<span class="token punctuation">.</span>session<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_8-8-其他el隐含对象实例"><a href="#_8-8-其他el隐含对象实例" class="header-anchor">#</a> 8.8 其他EL隐含对象实例</h2> <ul><li><p>param、paramValues</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    输出请求参数username的值：$<span class="token punctuation">{</span>param<span class="token punctuation">.</span>username<span class="token punctuation">}</span>
    输出请求参数hobby的值：$<span class="token punctuation">{</span>paramValues<span class="token punctuation">.</span>hobby<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    输出请求参数hobby的值：$<span class="token punctuation">{</span>paramValues<span class="token punctuation">.</span>hobby<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20210409135328805.png" alt=""></p></li></ul> <p>​</p> <ul><li><p>header、headerValues</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    输出请求头【<span class="token class-name">User</span><span class="token operator">-</span><span class="token class-name">Agent</span>】的值：$<span class="token punctuation">{</span>header<span class="token punctuation">[</span><span class="token string">'User-Agent'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    输出请求头【<span class="token class-name">Connection</span>】的值：$<span class="token punctuation">{</span>header<span class="token punctuation">[</span><span class="token string">'Connection'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    输出请求头【<span class="token class-name">User</span><span class="token operator">-</span><span class="token class-name">Agent</span>】的值：$<span class="token punctuation">{</span>headerValues<span class="token punctuation">[</span><span class="token string">'User-Agent'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20210409135338356.png" alt=""></p></li> <li><p>cookie</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    获取cookie的名称：$<span class="token punctuation">{</span>cookie<span class="token punctuation">.</span>JSESSIONID<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
    获取cookie的值：$<span class="token punctuation">{</span>cookie<span class="token punctuation">.</span>JSESSIONID<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20210409135346116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>initParam</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
    $<span class="token punctuation">{</span>initParam<span class="token punctuation">}</span>
    输出username的值：$<span class="token punctuation">{</span>initParam<span class="token punctuation">.</span>username<span class="token punctuation">}</span>
    输出password的值：$<span class="token punctuation">{</span>initParam<span class="token punctuation">.</span>password<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>123456<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20210409135354563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul> <h1 id="_9-jstl标签库-√"><a href="#_9-jstl标签库-√" class="header-anchor">#</a> 9. JSTL标签库 √</h1> <h2 id="_9-1-jstl标签库概述"><a href="#_9-1-jstl标签库概述" class="header-anchor">#</a> 9.1 JSTL标签库概述</h2> <ul><li><p>JSTL标签库，全程是指JSP Standard Tag Library jsp标准标签库，是一个不断完善的开放源代码的jsp标签库</p></li> <li><p>EL表达式是为了替换JSP中的表达式脚本，而标签库是为了替换代码脚本，这样使得整个jsp页面变得更加简洁</p></li> <li><p>JSTL由五个不同功能的标签库组成</p> <p><img src="https://img-blog.csdnimg.cn/20210409135424313.png" alt=""></p></li></ul> <p><img src="https://img-blog.csdnimg.cn/20210409135431138.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_9-2-jstl标签库使用步骤"><a href="#_9-2-jstl标签库使用步骤" class="header-anchor">#</a> 9.2 JSTL标签库使用步骤</h2> <ul><li><p>先导入JSTL标签库的jar包</p> <p><img src="https://img-blog.csdnimg.cn/20210409135441647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>使用taglib指令引入标签库</p></li></ul> <h2 id="_9-3-core核心库的使用"><a href="#_9-3-core核心库的使用" class="header-anchor">#</a> 9.3 core核心库的使用</h2> <ul><li><p>set标签</p> <ul><li><p>作用：set标签可以往域中保存数据</p> <p><img src="https://img-blog.csdnimg.cn/20210409135458962.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    set标签可以往域中保存数据
    域对象<span class="token punctuation">.</span>setAttribute（key<span class="token punctuation">,</span>value）
    scope属性：设置保存到哪个域（默认）
        page表示pageContext域
        request表示<span class="token class-name">Request</span>域
        session表示<span class="token class-name">Session</span>域
        application表示<span class="token class-name">ServletContext</span>域
    <span class="token keyword">var</span>属性：设置key是多少
    value属性：设置value是多少
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    保存之前：$<span class="token punctuation">{</span>requestScope<span class="token punctuation">.</span>abc<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>c<span class="token operator">:</span>set scope<span class="token operator">=</span><span class="token string">&quot;request&quot;</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;abcValue&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    保存之后：$<span class="token punctuation">{</span>requestScope<span class="token punctuation">.</span>abc<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li></ul></li></ul> <p>注：导入jar包之后，一定要在Artifical里面查看lib是否存在以及包是否导入了！</p> <ul><li><p>if标签</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
       <span class="token keyword">if</span>标签用来做判断
       test属性表示判断的条件（使用EL表达式输出）
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>c<span class="token operator">:</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">&quot;${12!=12}&quot;</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span><span class="token number">12</span>等于<span class="token number">12</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>choose、when、otherwise</p> <p>作用：多路判断，跟switch、case、default非常接近</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
        choose标签开始选择判断
        when标签表示每一种判断情况
            test表示当前这种判断情况的值
        otherwise表示剩下的情况
        注：标签里必能使用html注释
            when标签的父标签一定要是choose标签

    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span><span class="token number">167</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>c<span class="token operator">:</span>choose<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>c<span class="token operator">:</span>when test<span class="token operator">=</span><span class="token string">&quot;${requestScope.height&gt;190}&quot;</span><span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>小巨人<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>when<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>c<span class="token operator">:</span>when test<span class="token operator">=</span><span class="token string">&quot;${requestScope.height&gt;180}&quot;</span><span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>很高<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>when<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>c<span class="token operator">:</span>when test<span class="token operator">=</span><span class="token string">&quot;${requestScope.height&gt;170}&quot;</span><span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>还可以<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>when<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>c<span class="token operator">:</span>otherwise<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>c<span class="token operator">:</span>choose<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>c<span class="token operator">:</span>when test<span class="token operator">=</span><span class="token string">&quot;${requestScope.height&gt;160}&quot;</span><span class="token operator">&gt;</span>
                    <span class="token generics"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>大于<span class="token number">160</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>when<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>c<span class="token operator">:</span>when test<span class="token operator">=</span><span class="token string">&quot;${requestScope.height&gt;150}&quot;</span><span class="token operator">&gt;</span>
                    <span class="token generics"><span class="token punctuation">&lt;</span>h2<span class="token punctuation">&gt;</span></span>大于<span class="token number">150</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>when<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>choose<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>otherwise<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>choose<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>foreach标签</p> <p>作用：遍历输出使用</p> <ul><li><p>遍历1-10</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    遍历<span class="token number">1</span><span class="token operator">-</span><span class="token number">10</span>
    begin属性设置开始的索引
    end属性设置结束的索引
    <span class="token keyword">var</span>属性表示循环的变量（也是当前正在遍历到的数据）
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach begin<span class="token operator">=</span><span class="token string">&quot;1&quot;</span> end<span class="token operator">=</span><span class="token string">&quot;10&quot;</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">&quot;i&quot;</span><span class="token operator">&gt;</span>
        $<span class="token punctuation">{</span>i <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>遍历Object数组</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    遍历<span class="token class-name">Object</span>数组
    items表示遍历的数据源（遍历的集合）
    <span class="token keyword">var</span>表示当前遍历到的数据
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;arr&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;110&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;119&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;120&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach items<span class="token operator">=</span><span class="token string">&quot;${requestScope.arr}&quot;</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">&quot;i&quot;</span><span class="token operator">&gt;</span>
        $<span class="token punctuation">{</span>i<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>遍历List集合，List集合中存放Person类，有属性：编号、用户名、密码、年龄、电话信息</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    遍历<span class="token class-name">Map</span>
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span><span class="token number">10</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            studentList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;username&quot;</span><span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token string">&quot;pass&quot;</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token string">&quot;phone&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;stus&quot;</span><span class="token punctuation">,</span>studentList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>table<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>tr<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>编号<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>用户名<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>密码<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>年龄<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>电话<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>操作<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach items<span class="token operator">=</span><span class="token string">&quot;${requestScope.stus}&quot;</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">&quot;stu&quot;</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>tr<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>password<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>phone<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>删除、修改<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>遍历Map集合</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    遍历<span class="token class-name">Map</span>
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach items<span class="token operator">=</span><span class="token string">&quot;${requestScope.map}&quot;</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">&quot;entry&quot;</span><span class="token operator">&gt;</span>
        $<span class="token punctuation">{</span>entry<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li></ul></li> <li><p>foreach标签所有属性组合使用</p> <p><img src="https://img-blog.csdnimg.cn/20210409135518364.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    遍历<span class="token class-name">Map</span>
    step表示遍历的步长
    varStatus表示当前遍历到的数据的状态
    <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span><span class="token number">10</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            studentList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;username&quot;</span><span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token string">&quot;pass&quot;</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token string">&quot;phone&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;stus&quot;</span><span class="token punctuation">,</span>studentList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>table<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>tr<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>编号<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>用户名<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>密码<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>年龄<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>电话<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>th<span class="token punctuation">&gt;</span></span>操作<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach begin<span class="token operator">=</span><span class="token string">&quot;2&quot;</span> end<span class="token operator">=</span><span class="token string">&quot;7&quot;</span> step<span class="token operator">=</span><span class="token string">&quot;2&quot;</span> varStatus<span class="token operator">=</span><span class="token string">&quot;status&quot;</span> items<span class="token operator">=</span><span class="token string">&quot;${requestScope.stus}&quot;</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">&quot;stu&quot;</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>tr<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>password<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>stu<span class="token punctuation">.</span>phone<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>status<span class="token punctuation">.</span>current<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h1 id="_10-i18n国际化-√"><a href="#_10-i18n国际化-√" class="header-anchor">#</a> 10. i18n国际化 √</h1> <p><img src="https://img-blog.csdnimg.cn/20210409135538428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_10-1-国际化三要素"><a href="#_10-1-国际化三要素" class="header-anchor">#</a> 10.1 国际化三要素</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135551163.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_10-2-i18n国际化基础实例"><a href="#_10-2-i18n国际化基础实例" class="header-anchor">#</a> 10.2 i18n国际化基础实例</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//获取系统默认的语言和国家信息</span>
<span class="token class-name">Locale</span> locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//获取中文、中国常量的locale对象</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>locale<span class="token punctuation">.</span>CHINA<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取英文、美国常量的locale对象</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>locale<span class="token punctuation">.</span>US<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//得到我们需要的Locale对象</span>
    <span class="token class-name">Locale</span> locale<span class="token operator">=</span><span class="token class-name">Locale</span><span class="token punctuation">.</span>CHINA<span class="token punctuation">;</span>
    <span class="token comment">//通过指定的basename和Locale对象读取相应的配置文件</span>
    <span class="token class-name">ResourceBundle</span> bundle <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">&quot;i18n&quot;</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_10-3-通过请求头实现国际化"><a href="#_10-3-通过请求头实现国际化" class="header-anchor">#</a> 10.3 通过请求头实现国际化</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135612317.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h1 id="_11-文件的上传和下载-√"><a href="#_11-文件的上传和下载-√" class="header-anchor">#</a> 11. 文件的上传和下载 √</h1> <h2 id="_11-1-概述"><a href="#_11-1-概述" class="header-anchor">#</a> 11.1 概述</h2> <p>文件的上传和下载，是非常常见的功能，很多的系统或者软件中都经常使用，比如：qq头像就使用了上传</p> <h2 id="_11-2-文件的上传介绍"><a href="#_11-2-文件的上传介绍" class="header-anchor">#</a> 11.2 文件的上传介绍</h2> <ul><li><p>要有一个form标签，method=post请求</p></li> <li><p>form便签的encType属性值必须为multipart/form-data值</p> <ul><li>表示提交的数据以多段（每一个表单项一个数据段）的形式进行拼接，然后以二进制流的形式发送给服务器</li></ul></li> <li><p>在form标签中使用input type=file添加上传的文件</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;http://localhost:8080/04_EL_JSTL/uploadservlet&quot;</span> method<span class="token operator">=</span><span class="token string">&quot;post&quot;</span> enctype<span class="token operator">=</span><span class="token string">&quot;multipart/form-data&quot;</span><span class="token operator">&gt;</span>
        用户名：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        头像：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;photo&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;上传&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>编写服务器代码接受、处理上传的文件</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件上传进来了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="_11-3-上传的http协议内容介绍"><a href="#_11-3-上传的http协议内容介绍" class="header-anchor">#</a> 11.3 上传的http协议内容介绍</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135635597.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <ul><li><p>必须使用流的形式来进行接受：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件上传进来了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ServletInputStream</span> inputStream <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">102400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> read <span class="token operator">=</span> inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>read<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="_11-4-上传会用到的类和方法的介绍"><a href="#_11-4-上传会用到的类和方法的介绍" class="header-anchor">#</a> 11.4 上传会用到的类和方法的介绍</h2> <ul><li><p>需要导入两个jar包</p> <p><img src="https://img-blog.csdnimg.cn/20210409135651135.png" alt=""></p></li> <li><p>常用的类</p> <ul><li><p>ServletFileUpload类：用于解析上传的数据</p></li> <li><p>FileItem类：表示每一个表单项</p> <p><img src="https://img-blog.csdnimg.cn/20210409135714869.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <p><img src="https://img-blog.csdnimg.cn/20210409135723793.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul></li></ul> <h2 id="_11-5-使用fileupload解析上传的数据"><a href="#_11-5-使用fileupload解析上传的数据" class="header-anchor">#</a> 11.5 使用fileupload解析上传的数据</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//1.先判断上传的数据是否为多段数据（只有是多段数据才是文件上传的）</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">ServletFileUpload</span><span class="token punctuation">.</span><span class="token function">isMultipartContent</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//创建FileItemFactory工厂实现类</span>
    <span class="token class-name">DiskFileItemFactory</span> fileItemFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DiskFileItemFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建用于解析上传数据的工具类ServletFileUpload类</span>
    <span class="token class-name">ServletFileUpload</span> servletfileupload <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletFileUpload</span><span class="token punctuation">(</span>fileItemFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">//解析上传的数据，得到每一个表单项FileItem</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileItem</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> servletfileupload<span class="token punctuation">.</span><span class="token function">parseRequest</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//循环判断每一个表单项是普通类型还是上传的文件</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">FileItem</span> fileItem <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>fileItem<span class="token punctuation">.</span><span class="token function">isFormField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//普通表单项</span>

                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;表单项的name属性值&quot;</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getFieldName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//参数UTF-8解决乱码属性</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;表单项的value属性值&quot;</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">//上传的文件</span>

                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;表单项的name属性值&quot;</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getFieldName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;上传的文件名&quot;</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                fileItem<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;E:\\&quot;</span><span class="token operator">+</span>fileItem<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileUploadException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_11-6-文件下载的实现"><a href="#_11-6-文件下载的实现" class="header-anchor">#</a> 11.6 文件下载的实现</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135744913.png" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//1.获取要下载的文件名</span>
    <span class="token class-name">String</span> downloadFileName<span class="token operator">=</span><span class="token string">&quot;1.jpg&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//2.读取要下载的文件内容(通过ServletContext对象可以读取)</span>
    <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获取要下载的文件类型</span>
    <span class="token class-name">String</span> mimeType <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getMimeType</span><span class="token punctuation">(</span><span class="token string">&quot;/file/&quot;</span> <span class="token operator">+</span> downloadFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;下载的文件类型：&quot;</span><span class="token operator">+</span>mimeType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//4.在回传前，通过响应头告诉客户端返回的数据类型</span>
    resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span>mimeType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//5.告诉客户端收到的数据是用于下载的（使用响应头）</span>
    <span class="token comment">//Content-Disposition响应头：表示收到的数据怎么处理   Content-Disposition:表示附件,下载使用    filenma=表示指定下载的文件名</span>
    resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Disposition&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;attachment;filename&quot;</span><span class="token operator">=</span><span class="token string">&quot;美女.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;/file/&quot;</span> <span class="token operator">+</span> downloadFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获取相应的输出流</span>
    <span class="token class-name">OutputStream</span> outputStream<span class="token operator">=</span>resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//3.将下载的文件内容回传给客户端</span>
    <span class="token comment">//读取输入流中全部的数据，复制给输出流，输出给客户端</span>
    <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>resourceAsStream<span class="token punctuation">,</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//4.</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_11-7-url编码解决谷歌ie浏览器中文下载码乱码"><a href="#_11-7-url编码解决谷歌ie浏览器中文下载码乱码" class="header-anchor">#</a> 11.7 URL编码解决谷歌IE浏览器中文下载码乱码</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//5.告诉客户端收到的数据是用于下载的（使用响应头）</span>
<span class="token comment">//Content-Disposition响应头：表示收到的数据怎么处理   Content-Disposition:表示附件,下载使用    filenma=表示指定下载的文件名</span>
resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Disposition&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;attachment; filename=&quot;</span><span class="token operator">+</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;美女.jpg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;/file/&quot;</span> <span class="token operator">+</span> downloadFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_11-8-base64编码、解码"><a href="#_11-8-base64编码、解码" class="header-anchor">#</a> 11.8 Base64编码、解码</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> content<span class="token operator">=</span><span class="token string">&quot;内容&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//创建Base64编码器</span>
    <span class="token class-name">BASE64Encoder</span> base64Encoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BASE64Encoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//执行Base64编码操作</span>
    <span class="token class-name">String</span> encode <span class="token operator">=</span> base64Encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>encode<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//创建base64解码器</span>
    <span class="token class-name">BASE64Decoder</span> base64Decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BASE64Decoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//解码操作</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> base64Decoder<span class="token punctuation">.</span><span class="token function">decodeBuffer</span><span class="token punctuation">(</span>encode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_11-9-base64解决火狐浏览器中文下载乱码"><a href="#_11-9-base64解决火狐浏览器中文下载乱码" class="header-anchor">#</a> 11.9 Base64解决火狐浏览器中文下载乱码</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135804190.png" alt=""></p> <h1 id="_12-cookie-√"><a href="#_12-cookie-√" class="header-anchor">#</a> 12. Cookie √</h1> <h2 id="_12-1-概述"><a href="#_12-1-概述" class="header-anchor">#</a> 12.1 概述</h2> <ul><li>Cookie是服务器通知客户端保存键值对的一种技术</li> <li>客户端有了Cookie后，每次请求都发送给服务器</li> <li>每个Cookie的大小不能超过4kb</li></ul> <h2 id="_12-2-cookie的创建"><a href="#_12-2-cookie的创建" class="header-anchor">#</a> 12.2 Cookie的创建</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135844731.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">createcookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//1.创建Cookie对象</span>
    <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.通知客户端保存Cookie</span>
    resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;Cookie创建成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 解决post请求中文乱码问题</span>
<span class="token comment">// 一定要在获取请求参数之前调用才有效</span>
req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//解决中文乱码问题</span>
resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_12-3-cookie的获取"><a href="#_12-3-cookie的获取" class="header-anchor">#</a> 12.3 Cookie的获取</h2> <p>服务器获取客户端的Cookie只需要一行代码：req.getCookies（）：Cookie[ ]</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//getName()方法：返回cookie的key</span>
    <span class="token comment">//getValue()方法：返回cookie的值</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;cookie[&quot;</span><span class="token operator">+</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;=&quot;</span><span class="token operator">+</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>找某一个单一的Cookie：写一个工具类也可，直接写代码也可：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">getcookie</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Cookie</span> iwantcookie<span class="token operator">=</span> <span class="token class-name">CookieUtils</span><span class="token punctuation">.</span><span class="token function">findcookie</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span>cookies<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        for (Cookie cookie : cookies) {</span>
<span class="token comment">//            if(&quot;key1&quot;.equals(cookie.getName())){</span>
<span class="token comment">//                iwantcookie=cookie;</span>
<span class="token comment">//                break;</span>
<span class="token comment">//            }</span>
<span class="token comment">//        }</span>

        <span class="token comment">//如果不等于null，说明赋过值也就是找到了需要的Cookie</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>iwantcookie<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;找到了需要的Cookie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Cookie</span> <span class="token function">findcookie</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>name<span class="token operator">==</span><span class="token keyword">null</span> <span class="token operator">||</span> cookies<span class="token operator">==</span><span class="token keyword">null</span> <span class="token operator">||</span> cookies<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> cookie<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_12-4-cookie值的修改"><a href="#_12-4-cookie值的修改" class="header-anchor">#</a> 12.4 Cookie值的修改</h2> <ul><li><p>方案一：</p> <ul><li>先创建一个要修改的同名的Cookie</li> <li>在构造器，同时赋于新的Cookie值</li> <li>调用response.addCookie（Cookie）</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//1.先创建一个要修改的同名的Cookie</span>
<span class="token comment">//2.在构造器中，同时赋予新的Cookie值</span>
<span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;newValua1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3.调用response.addCookie（）方法通知客户端保存修改</span>
resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1.先创建一个要修改的同名的Cookie</span>
<span class="token comment">//2.在构造器中，同时赋予新的Cookie值</span>
<span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;newValua2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;key1的Cookie已经修改好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>方案二：</p> <ul><li>先查找到需要修改的Cookie对象</li> <li>调用setValue（）方法赋予新的Cookie值</li> <li>调用response.addCookie（）通知客户端保存修改</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//        1.先查找到需要修改的Cookie对象</span>
        <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token class-name">CookieUtils</span><span class="token punctuation">.</span><span class="token function">findcookie</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>cookie<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//        2.调用setValue（）方法赋予新的Cookie值</span>
            cookie<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;newValue2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        3.调用response.addCookie（）通知客户端保存修改</span>
            resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <p>注意：cookie的value不能为中文，除非用Base64编码</p> <h2 id="_12-5-谷歌和火狐浏览器如何查看cookie"><a href="#_12-5-谷歌和火狐浏览器如何查看cookie" class="header-anchor">#</a> 12.5 谷歌和火狐浏览器如何查看Cookie</h2> <ul><li><p>谷歌浏览器：</p> <p><img src="https://img-blog.csdnimg.cn/20210409135919272.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li> <li><p>火狐浏览器</p> <p><img src="https://img-blog.csdnimg.cn/20210409135925778.png" alt=""></p></li></ul> <h2 id="_12-6-cookie的生命控制"><a href="#_12-6-cookie的生命控制" class="header-anchor">#</a> 12.6 Cookie的生命控制</h2> <p>Cookie的生命控制指的是如何管理Cookie什么时候被销毁（删除）</p> <ul><li><p>setMaxAge（）</p> <ul><li>正数，表示在指定的秒数后过期</li> <li>负数，表示浏览器一关，Cookie就会被删除</li> <li>零，表示马上删除Cookie</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">defaultlife</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;defaultLife&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;defaultLife&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置存活时间</span>
    resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">deletenow</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
   <span class="token comment">//先找到你要删除的cookie对象</span>
    <span class="token class-name">Cookie</span> cookie<span class="token operator">=</span><span class="token class-name">CookieUtils</span><span class="token punctuation">.</span><span class="token function">findcookie</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span>req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cookie<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//调用setMaxAge（0）</span>
        cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//表示马上删除，不需要等待浏览器关闭</span>
        <span class="token comment">//调用response.addCookie（cookie）</span>
        resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;key1的Cookie已经被删除了！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">life3600</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Cookie</span> cookie<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;life3600&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;life3600&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//设置Cookie一小时之后被删除，无效</span>
    resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;已经创建了一个存活一小时的Cookie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="_12-7-cookie的path属性"><a href="#_12-7-cookie的path属性" class="header-anchor">#</a> 12.7 Cookie的Path属性</h2> <p>Cookie的Path属性可以有效地过滤哪些Cookie可以发送给服务器，哪些不发，path属性是通过请求的地址来进行有效地过滤</p> <ul><li>CookieA path=/工程路径</li> <li>CookieB path=/工程路径/abc</li></ul> <p>请求地址如下：</p> <p><a href="http://ip:port/%E5%B7%A5%E7%A8%8B%E8%B7%AF%E5%BE%84/a.html" target="_blank" rel="noopener noreferrer">http://ip:port/工程路径/a.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ---------------------&gt; CookieA发送，CookieB不发送</p> <p><a href="http://ip:port/%E5%B7%A5%E7%A8%8B%E8%B7%AF%E5%BE%84/a.html" target="_blank" rel="noopener noreferrer">http://ip:port/工程路径/abc/a.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ----------------&gt; CookieA发送，CookieB发送</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">testPath</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Cookie</span> cookie<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;path1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;path1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//getContextPath 得到工程路径</span>
    cookie<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//=========&gt;  /工程路径/abc</span>
    resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;创建了一个带有Path路径的Cookie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_12-8-cookie练习-免用户名登录"><a href="#_12-8-cookie练习-免用户名登录" class="header-anchor">#</a> 12.8 Cookie练习----免用户名登录</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> username<span class="token operator">=</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password<span class="token operator">=</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;ranhaifeng&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//登录成功</span>
            <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;登录成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//登录失败</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;登录失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;http://localhost:8080/06_cookie_session/loginservlet&quot;</span> method<span class="token operator">=</span><span class="token string">&quot;get&quot;</span><span class="token operator">&gt;</span>
        用户名：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;${cookie.username.value}&quot;</span><span class="token operator">&gt;</span>
        密码：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;登录&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h1 id="_13-session-√"><a href="#_13-session-√" class="header-anchor">#</a> 13. Session √</h1> <h2 id="_13-1-概述"><a href="#_13-1-概述" class="header-anchor">#</a> 13.1 概述</h2> <ul><li>Session就是一个接口（HttpSession）</li> <li>Session就是会话，它是用来维护一个客户端和服务器之间关联的一种技术</li> <li>每个客户端都有自己的一个Session会话</li> <li>Session会话中，我们经常用来保存用户登录之后的信息</li></ul> <h2 id="_13-2-创建session和获取"><a href="#_13-2-创建session和获取" class="header-anchor">#</a> 13.2 创建Session和获取</h2> <p>创建和获取Session，他们的API是一样的</p> <ul><li><p>request.getSession()</p> <ul><li>第一次调用：创建Session会话</li> <li>之后调用都是：获取前面创建好的Session会话对象</li></ul></li> <li><p>isNew（）：判断到底是不是刚创建出来的</p> <ul><li>true：表示刚创建</li> <li>false：获取之前创建的</li></ul></li></ul> <p>每个会话都有一个身份号码，即ID值，且每个ID值唯一</p> <ul><li>getId（）：得到Session的会话id值</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">createorgetsession</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//创建和获取Session会话对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//判断当前Session会话是否是新创建出来的</span>
    <span class="token keyword">boolean</span> aNew <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">isNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获取session会话的唯一标识</span>
    <span class="token class-name">String</span> id <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;得到的Session它的id是：&quot;</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">&quot;&lt;br/&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;这个Session是否是新创建的：&quot;</span><span class="token operator">+</span>aNew<span class="token operator">+</span><span class="token string">&quot;&lt;br/&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_13-3-session域中数据的存取"><a href="#_13-3-session域中数据的存取" class="header-anchor">#</a> 13.3 Session域中数据的存取</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">setattribute</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;已经往Session中保存了数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">getattribute</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span> attribute <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;从Session中获取出key1的数据是：&quot;</span><span class="token operator">+</span>attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_13-4-session生命周期的控制"><a href="#_13-4-session生命周期的控制" class="header-anchor">#</a> 13.4 Session生命周期的控制</h2> <p><img src="https://img-blog.csdnimg.cn/20210409135954633.png" alt=""></p> <ul><li><p>值为正数的时候，设定Session的超时时长；值为负数表示永不超时（极少使用）</p></li> <li><p>public void invalidated（）：让当前session会话马上超时无效</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//先获取Session对象</span>
<span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//让Session会话马上超时</span>
session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;session已经设置为超时（无效）&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Session默认的超时时长为30分钟（在Tomcat配置文件中默认配置）</p> <ul><li><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-config</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-timeout</span><span class="token punctuation">&gt;</span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-timeout</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-config</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>如果你希望你的Web工程默认的Session的超时时长为其他时长，你可以在你自己的Web.xml配置文件中做以上相同的配置，就可以修改你的Web工程所有Session的默认超时时长</p></li> <li><p>如果你想只修改个别Session的超时时长，就需要使用上面的API：setMaxInactiveInterval（interval）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">life3</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//先获取Session对象</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置当前session3秒后超时</span>
    session<span class="token punctuation">.</span><span class="token function">setMaxInactiveInterval</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;当前Session已经设置为3秒后超时&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Session超时的概念介绍</p> <p><img src="https://img-blog.csdnimg.cn/20210409140005744.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p></li></ul></li></ul> <h2 id="_13-5-浏览器和session之间的技术关联"><a href="#_13-5-浏览器和session之间的技术关联" class="header-anchor">#</a> 13.5 浏览器和Session之间的技术关联</h2> <p>Session技术，底层其实是基于Cookie技术来实现的</p> <p><img src="https://img-blog.csdnimg.cn/20210409140020923.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h1 id="_14-filter过滤器-√"><a href="#_14-filter过滤器-√" class="header-anchor">#</a> 14. Filter过滤器 √</h1> <h2 id="_14-1-概述"><a href="#_14-1-概述" class="header-anchor">#</a> 14.1 概述</h2> <ul><li><p>Filter过滤器她是JavaWeb三大组件之一。三大组件分别是：Servlet、Listener、Filter</p></li> <li><p>Filter过滤器它是javaEE的规范，也就是接口</p></li> <li><p>Filter过滤器的作用：<strong>拦截请求</strong>，过滤响应</p></li> <li><p>拦截请求常见的应用场景：</p> <ul><li>权限检查</li> <li>日记操作</li> <li>事务管理</li></ul></li></ul> <h2 id="_14-2-filter过滤器的基本使用"><a href="#_14-2-filter过滤器的基本使用" class="header-anchor">#</a> 14.2 Filter过滤器的基本使用</h2> <p>要求在你的Web工程下有一个admin目录，这个目录下的所有资源（html页面、jpg图片、jsp文件等）都必须是用户登录之后才允许访问</p> <p>思考：根据之前学过的内容知道，用户登录都会把用户登录的信息保存到Session域中，所以要检查用户是否登陆，可以判断Session中是否包含有用户登录的信息即可！</p> <p><img src="https://img-blog.csdnimg.cn/20210409140037528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token class-name">HttpServletRequest</span> httpServletRequest<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span>
    <span class="token class-name">HttpSession</span> session<span class="token operator">=</span>httpServletRequest<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> user <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        servletRequest<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/login.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//让程序继续往下访问用户的目标资源</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>AdminFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>com.atguigu.filter.AdminFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>AdminFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--拦截路径--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/admin/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_14-3-完整的用户登录和权限检查"><a href="#_14-3-完整的用户登录和权限检查" class="header-anchor">#</a> 14.3 完整的用户登录和权限检查</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;ranhaifeng&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;登录成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/login.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_14-4-filter生命周期"><a href="#_14-4-filter生命周期" class="header-anchor">#</a> 14.4 Filter生命周期</h2> <p>Filter的生命周期包含几个方法：</p> <ul><li>构造器方法：Web工程启动时候执行</li> <li>init初始化方法：Web工程启动时候执行</li> <li>doFilter过滤方法：每次拦截到请求就会执行</li> <li>destroy销毁方法：停止Web工程时候就会执行（停止Web工程，也会销毁Web过滤器）</li></ul> <h2 id="_14-5-filterconfig类"><a href="#_14-5-filterconfig类" class="header-anchor">#</a> 14.5 FilterConfig类</h2> <ul><li><p>FilterConfig类，见名知意它是Filter过滤器的配置文件类</p></li> <li><p>Tomcat每次创建Filter的时候，也会创建一个FilterConfig类，这里包含了Filter配置文件的配置信息</p></li> <li><p>FilterConfig类的作用是获取Filter过滤器的配置内容</p> <ul><li><p>获取Filter的名称filter-name的内容</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Filter-name的值是：&quot;</span><span class="token operator">+</span>filterConfig<span class="token punctuation">.</span><span class="token function">getFilterName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>获取在Filter中配置的init-param初始化参数</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;初始化参数username参数的值是：&quot;</span><span class="token operator">+</span>filterConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>获取ServletContext对象</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;获取ServletContext对象&quot;</span><span class="token operator">+</span>filterConfig<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul> <h2 id="_14-6-filter-chain过滤器链"><a href="#_14-6-filter-chain过滤器链" class="header-anchor">#</a> 14.6 Filter-Chain过滤器链</h2> <p><img src="https://img-blog.csdnimg.cn/20210409140058459.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5eXJoZg==,size_16,color_FFFFFF,t_70" alt=""></p> <h2 id="_14-7-filter的拦截路径"><a href="#_14-7-filter的拦截路径" class="header-anchor">#</a> 14.7 Filter的拦截路径</h2> <ul><li><p>精确匹配</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/target.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>以上配置的路径，表示请求地址为：<a href="http://ip:port/%E5%B7%A5%E7%A8%8B%E8%B7%AF%E5%BE%84/target.jsp" target="_blank" rel="noopener noreferrer">http://ip:port/工程路径/target.jsp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>目录匹配</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/admin/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>以上配置的路径，表示请求地址为：<a href="http://ip:port/%E5%B7%A5%E7%A8%8B%E8%B7%AF%E5%BE%84/admin/*" target="_blank" rel="noopener noreferrer">http://ip:port/工程路径/admin/*<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>后缀名匹配</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>以上配置的路径，表示请求地址必须以.html结尾才可拦截到</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.do<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>以上配置的路径，表示请求地址必须以.do结尾才可拦截到(.abc)</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.action<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>以上配置的路径，表示请求地址必须以.do结尾才可拦截到(.action)</p></li></ul> <p>注：Filter过滤器只关心请求的地址是否匹配，不关心请求的资源是否存在！！！！</p> <h1 id="_15-json-√"><a href="#_15-json-√" class="header-anchor">#</a> 15. JSON √</h1> <h2 id="_15-1-概述"><a href="#_15-1-概述" class="header-anchor">#</a> 15.1 概述</h2> <ul><li><p>JSON(JavaScr ipt Object Notaticn)是一种轻量级的数据交换格式。易于人阅读和编写。同时也易于机器解析和生成。JSON采用完全独立于语言的文本格式，而且很多语言都提供了对json的支持(包括C，C++，C#，Java，JavaScript, Perl, Python等）。这样就使得JSON成为理想的数据交换格式。</p></li> <li><p>JSON(JavaScr ipt Object Notaticn)是一种轻量级的数据交换格式。</p></li> <li><p>json的轻量级指的是跟xml作比较，数据交换指的是客户端和服务器之间业务数据的传递格式</p></li></ul> <h2 id="_15-2-json在javascript中的使用"><a href="#_15-2-json在javascript中的使用" class="header-anchor">#</a> 15.2 JSON在Javascript中的使用</h2> <ul><li><p>json的创建</p> <p>json是由键值对组成，并且由大括号包围，每个键由引号引起来，键和值之间使用冒号进行分隔，多组键值对之间使用逗号进行分隔</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> jsonObj<span class="token operator">=</span><span class="token punctuation">{</span>
   <span class="token string">&quot;key1&quot;</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
   <span class="token string">&quot;key2&quot;</span><span class="token operator">:</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;key3&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token string">&quot;key4&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token string">&quot;arr&quot;</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token string">&quot;key5&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token string">&quot;key5_1&quot;</span><span class="token operator">:</span><span class="token number">551</span><span class="token punctuation">,</span>
      <span class="token string">&quot;key5_2&quot;</span><span class="token operator">:</span><span class="token string">&quot;key5_2_value&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;key6&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token string">&quot;key_6_1_1&quot;</span><span class="token operator">:</span><span class="token number">6611</span><span class="token punctuation">,</span>
      <span class="token string">&quot;key_6_1_2&quot;</span><span class="token operator">:</span><span class="token string">&quot;key_6_1_2_value&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
      <span class="token string">&quot;key_6_2_1&quot;</span><span class="token operator">:</span><span class="token number">6621</span><span class="token punctuation">,</span>
      <span class="token string">&quot;key_6_2_2&quot;</span><span class="token operator">:</span><span class="token string">&quot;key_6_2_2_value&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>json的访问</p> <p>json本身就是一个对象，json中的key我们可以理解为对象中的一个属性，json中的key访问就跟访问对象的属性一样：json对象.key</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// json就是一个对象</span>
json的访问
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key4<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//得到数组</span>

json中数组值的遍历
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>jsonObj<span class="token punctuation">.</span>key4<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key4<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key5<span class="token punctuation">.</span>key5_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">.</span>key5<span class="token punctuation">.</span>key5_2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> jsonitem<span class="token operator">=</span>jsonObj<span class="token punctuation">.</span>key6<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonitem<span class="token punctuation">.</span>key_6_1_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonitem<span class="token punctuation">.</span>key_6_1_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="_15-3-json两种常用的转换方法"><a href="#_15-3-json两种常用的转换方法" class="header-anchor">#</a> 15.3 JSON两种常用的转换方法</h2> <p>json的存在有两种形式：</p> <ul><li><p>对象的形式存在，我们叫它json对象</p></li> <li><p>字符串的形式存在，我们叫它json字符串</p></li> <li><p>一般我们要操作json中的数据的时候，需要json对象的格式</p></li> <li><p>一般我们需要在客户端和服务器之间进行数据交换的时候，使用json字符串的格式</p></li> <li><p>json.stringfy（）：将json对象转换称为json字符串</p></li> <li><p>json.parse（）：将json字符串转换为json对象</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// json对象转字符串</span>
<span class="token keyword">var</span> jsonObjString<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>jsonObj<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//特别像toString（）</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObjString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// json字符串转json对象</span>
<span class="token keyword">var</span> jsonObj2<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonObjString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>jsonObj2<span class="token punctuation">.</span>key1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_15-4-json在java中的使用"><a href="#_15-4-json在java中的使用" class="header-anchor">#</a> 15.4 JSON在java中的使用</h2> <ul><li><p>javaBean和json的互转</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//javaBean和json的互转</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;锋哥好帅&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//创建Gson对象实例</span>
    <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//toJson（）方法可以吧Java对象转换称为Json字符串</span>
    <span class="token class-name">String</span> personJsonString <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personJsonString <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//fromJason()方法吧json字符串方法转换为java对象</span>
    <span class="token comment">//第一个参数为json字符串   第二个参数为转换回去的java对象类型</span>
    <span class="token class-name">Person</span> person1 <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>personJsonString<span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>List和json的互转</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonListType</span> <span class="token keyword">extends</span> <span class="token class-name">TypeToken</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personList<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    personList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;LBJ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    personList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;KD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//吧list集合转化为Json字符串</span>
    <span class="token class-name">String</span> personListJasonString <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>personList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personListJasonString<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list<span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>personListJasonString<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PersonListType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> person<span class="token operator">=</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Map和json的互转</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Map和json的互转</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personMap<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    personMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;LBJ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    personMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;AD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//吧Map集合转化称为json字符串</span>
    <span class="token class-name">String</span> personMapJsonString <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>personMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personMapJsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personMap2 <span class="token operator">=</span>gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>personMapJsonString<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token class-name">TypeToken</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HashMap</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//匿名内部类</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>personMap2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> p<span class="token operator">=</span>personMap2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h1 id="_16-ajax-√"><a href="#_16-ajax-√" class="header-anchor">#</a> 16. AJAX √</h1> <h2 id="_16-1-概述"><a href="#_16-1-概述" class="header-anchor">#</a> 16.1 概述</h2> <ul><li><p>AJAX即“Asynchronous JavascriptcAnd XML”(异步JavaScript和XML)，是指一种创建交互式网页应用的网页开发技术。</p></li> <li><p>ajax是一种浏览器通过js异步发起请求。局部更新页面的技术。</p></li></ul> <h2 id="_16-2-javascript的ajax请求"><a href="#_16-2-javascript的ajax请求" class="header-anchor">#</a> 16.2 Javascript的AJAX请求</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
         <span class="token comment">//在这里使用javaScript语言发起Ajax请求，访问服务器AjaxServlet中javascriptajax</span>
         <span class="token keyword">function</span> <span class="token function">ajaxRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//              1、我们首先要创建XMLHttpRequest</span>
            <span class="token keyword">var</span> xmlHttpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//              2、调用open方法设置请求参数</span>
            xmlHttpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;http://localhost:8080/05_json_ajax_i18n/ajaxservlet?action=javascriptajax&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//              4、在send方法前绑定onreadystatechange事件，处理请求完成后的操作。</span>
            xmlHttpRequest<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xmlHttpRequest<span class="token punctuation">.</span>readyState<span class="token operator">==</span><span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xmlHttpRequest<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

               <span class="token keyword">var</span> jsonObj<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xmlHttpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>

               <span class="token comment">//吧相应的数据显示在页面上</span>
                  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">&quot;编号：&quot;</span><span class="token operator">+</span>jsonObj<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">&quot;,姓名：&quot;</span><span class="token operator">+</span>jsonObj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
<span class="token comment">//              3、调用send方法发送请求</span>
            xmlHttpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">javascriptajax</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Ajax请求过来啦~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;冉海锋&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//json格式的字符串</span>
    <span class="token class-name">Gson</span> gson<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> personJsonString <span class="token operator">=</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>personJsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_16-3-ajax请求的特点"><a href="#_16-3-ajax请求的特点" class="header-anchor">#</a> 16.3 AJAX请求的特点</h2> <ul><li>AJAX请求的局部更新，浏览器地址栏不会发生变化</li> <li>局部更新不会舍弃原来页面的内容</li></ul> <h2 id="_16-4-jquery中的ajax请求"><a href="#_16-4-jquery中的ajax请求" class="header-anchor">#</a> 16.4 jQuery中的AJAX请求</h2> <ul><li>$ajax方法
<ul><li>url 请求的地址</li> <li>type 请求的类型是GET或POST</li> <li>data 发送给服务器的数据
<ul><li>​ 格式有两种：1.name=value &amp;&amp; name=value 2.{key：value}</li></ul></li> <li>success 请求成功，相应的回调函数</li> <li>dataType 相应的数据类型：常用的数据类型有：text（纯文本）、xml（xml数据）、json（json对象）</li></ul></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="token string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pragma<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cache-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Insert title here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>script/jquery-1.7.2.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
         <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// ajax请求</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#ajaxBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  url<span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/05_json_ajax_i18n/ajaxservlet&quot;</span><span class="token punctuation">,</span>
                  data<span class="token operator">:</span><span class="token string">&quot;action=jqueryajax&quot;</span><span class="token punctuation">,</span>
                  type<span class="token operator">:</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
                  <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                     $<span class="token punctuation">{</span><span class="token string">&quot;#msg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;编号：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">&quot;,姓名：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  dataType<span class="token operator">:</span><span class="token string">&quot;json&quot;</span>
               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ajax--get请求</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#getBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

               <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot; get btn &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ajax--post请求</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#postBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token comment">// post请求</span>
               <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;post btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ajax--getJson请求</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#getJSONBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token comment">// 调用</span>
               <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;getJSON btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ajax请求</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#submit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token comment">// 把参数序列化</span>
               <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;serialize()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ajaxBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>$.ajax请求<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>$.get请求<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>postBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>$.post请求<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getJSONBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>$.getJSON请求<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form01<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
         用户名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
         密码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
         下拉单选：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>single<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Single<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Single<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Single2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Single2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
         下拉多选：
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multiple<span class="token punctuation">&quot;</span></span> <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multiple<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Multiple<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Multiple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Multiple2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Multiple2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">selected</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Multiple3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Multiple3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
         复选：
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>check<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>check1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> check1
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>check<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>check2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> check2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
         单选：
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> radio1
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> radio2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交--serialize()<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_16-5-jquery中的get和post方法"><a href="#_16-5-jquery中的get和post方法" class="header-anchor">#</a> 16.5 jQuery中的get和post方法</h2> <ul><li>url 请求的url地址</li> <li>data 发送的数据</li> <li>callback 成功的回调函数</li> <li>type 返回的数据类型</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ajax--get请求</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#getBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

   $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/05_json_ajax_i18n/ajaxservlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;action=jqueryget&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      $<span class="token punctuation">{</span><span class="token string">&quot;#msg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;get编号：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">&quot;,姓名：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ajax--post请求</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#postBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/05_json_ajax_i18n/ajaxservlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;action=jqueryget&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      $<span class="token punctuation">{</span><span class="token string">&quot;#msg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;post编号：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">&quot;,姓名：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_16-6-jquery中的getjson方法"><a href="#_16-6-jquery中的getjson方法" class="header-anchor">#</a> 16.6 jQuery中的getJson方法</h2> <ul><li><p>url 请求的url地址</p></li> <li><p>data 发送的数据</p></li> <li><p>callback 成功的回调函数</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ajax--getJson请求</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#getJSONBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">// 调用</span>
   $<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/05_json_ajax_i18n/ajaxservlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;action=jquerygetjson&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;getJson编号：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">&quot;,姓名：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_16-7-jquery中的serialize方法"><a href="#_16-7-jquery中的serialize方法" class="header-anchor">#</a> 16.7 jQuery中的serialize方法</h2> <p>表单序列化serialize（）：</p> <p>serialize（）可以把表单中的所有表单项内容都获取到，并以name=value&amp;name=value的形式进行拼接</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ajax请求</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#submit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">// 把参数序列化</span>
   <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   $<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/05_json_ajax_i18n/ajaxservlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;action=jqueryserialize&amp;&quot;</span><span class="token operator">+</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;Serialize编号：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>id<span class="token operator">+</span><span class="token string">&quot;,姓名：&quot;</span><span class="token operator">+</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/app.14fc004d.js" defer></script><script src="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/2.566dfaa9.js" defer></script><script src="https://cdn.jsdelivr.net/gh/9acme/note/dist/assets/js/37.4ce8e76f.js" defer></script>
  </body>
</html>

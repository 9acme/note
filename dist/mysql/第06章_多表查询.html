<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第06章_多表查询 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/css/0.styles.6499bbea.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/app.73e52d88.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/3.536cd329.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/6.995a6a8f.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/10.d58ccbec.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/11.b3c4989d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/12.b14344c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/13.81bff849.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/14.703bc39f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/15.a2ade047.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/16.edfb25ac.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/17.1b2735f1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/18.94197a05.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/19.a0b43549.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/2.99d15e50.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/20.04ace2cc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/21.ea1ef9d2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/22.a24a0de9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/23.c0ce6a35.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/24.ff881fc4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/25.d8f2de5e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/26.fca3e023.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/27.0f8d0885.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/28.0889bd94.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/29.e714b390.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/30.291882f8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/31.4918020e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/32.042c4bc5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/33.01b01362.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/34.491c0db7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/35.18ce08f6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/36.5e2336f3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/37.a743b037.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/38.45e42ba5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/39.9930c94c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/4.31546521.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/40.76a4645f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/41.3e8a1baa.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/42.8e480a15.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/43.e5869a53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/44.4c741e95.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/45.73009c1d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/46.c9cfebb6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/47.701926a7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/48.50c642f3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/49.180208d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/5.22910901.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/50.cbfd0dbb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/51.fd8525c2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/52.9511a869.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/53.13125be4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/54.94ca2b32.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/55.ee7f0be2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/56.ce6da91b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/57.d3bd02f5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/58.a6888354.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/59.99ee6835.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/60.d25881d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/61.45cf720b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/62.e3157c4a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/63.0c2ee505.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/64.64e6c5e4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/65.1729a6d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/66.da0dcdb8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/67.d396d777.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/7.9c473912.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/8.b6d6dac1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/9.f58a3a75.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/css/0.styles.6499bbea.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dist/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/dist/typescript/typescript.html" class="sidebar-link">typescript</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自定义工具库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>发布NPM包</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dist/mysql/第00章_写在前面.html" class="sidebar-link">总纲</a></li><li><a href="/dist/mysql/第01章_数据库概述.html" class="sidebar-link">概述</a></li><li><a href="/dist/mysql/第02章_MySQL环境搭建.html" class="sidebar-link">环境搭建</a></li><li><a href="/dist/mysql/第03章_基本的SELECT语句.html" class="sidebar-link">基本的SELECT语句</a></li><li><a href="/dist/mysql/第04章_运算符.html" class="sidebar-link">运算符</a></li><li><a href="/dist/mysql/第05章_排序与分页.html" class="sidebar-link">排序与分页</a></li><li><a href="/dist/mysql/第06章_多表查询.html" class="active sidebar-link">多表查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_1-一个案例引发的多表连接" class="sidebar-link">1. 一个案例引发的多表连接</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_1-1-案例说明" class="sidebar-link">1.1 案例说明</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_1-2-笛卡尔积-或交叉连接-的理解" class="sidebar-link">1.2 笛卡尔积（或交叉连接）的理解</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_1-3-案例分析与问题解决" class="sidebar-link">1.3 案例分析与问题解决</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_2-多表查询分类讲解" class="sidebar-link">2. 多表查询分类讲解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#分类1-等值连接-vs-非等值连接" class="sidebar-link">分类1：等值连接 vs 非等值连接</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#分类2-自连接-vs-非自连接" class="sidebar-link">分类2：自连接 vs 非自连接</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#分类3-内连接-vs-外连接" class="sidebar-link">分类3：内连接 vs 外连接</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_3-sql99语法实现多表查询" class="sidebar-link">3. SQL99语法实现多表查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_3-1-基本语法" class="sidebar-link">3.1 基本语法</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_3-2-内连接-inner-join-的实现" class="sidebar-link">3.2 内连接(INNER JOIN)的实现</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_3-3-外连接-outer-join-的实现" class="sidebar-link">3.3 外连接(OUTER JOIN)的实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_4-union的使用" class="sidebar-link">4. UNION的使用</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_5-7种sql-joins的实现" class="sidebar-link">5. 7种SQL JOINS的实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_5-7-1-代码实现" class="sidebar-link">5.7.1 代码实现</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_5-7-2-语法格式小结" class="sidebar-link">5.7.2 语法格式小结</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_6-sql99语法新特性" class="sidebar-link">6. SQL99语法新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_6-1-自然连接" class="sidebar-link">6.1 自然连接</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_6-2-using连接" class="sidebar-link">6.2 USING连接</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#_7-章节小结" class="sidebar-link">7. 章节小结</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第06章_多表查询.html#附录-常用的-sql-标准有哪些" class="sidebar-link">附录：常用的 SQL 标准有哪些</a></li></ul></li><li><a href="/dist/mysql/第07章_单行函数.html" class="sidebar-link">单行函数</a></li><li><a href="/dist/mysql/第08章_聚合函数.html" class="sidebar-link">聚合函数</a></li><li><a href="/dist/mysql/第09章_子查询.html" class="sidebar-link">子查询</a></li><li><a href="/dist/mysql/第10章_创建和管理表.html" class="sidebar-link">创建和管理表</a></li><li><a href="/dist/mysql/第11章_数据处理之增删改.html" class="sidebar-link">数据处理之增删改</a></li><li><a href="/dist/mysql/第12章_MySQL数据类型精讲.html" class="sidebar-link">数据类型精讲</a></li><li><a href="/dist/mysql/第13章_约束.html" class="sidebar-link">约束</a></li><li><a href="/dist/mysql/第14章_视图.html" class="sidebar-link">视图</a></li><li><a href="/dist/mysql/第15章_存储过程与函数.html" class="sidebar-link">存储过程与函数</a></li><li><a href="/dist/mysql/第16章_变量、流程控制与游标.html" class="sidebar-link">变量、流程控制与游标</a></li><li><a href="/dist/mysql/第17章_触发器.html" class="sidebar-link">触发器</a></li><li><a href="/dist/mysql/第18章_MySQL8其它新特性.html" class="sidebar-link">MySQL8其它新特性</a></li></ul></section></li><li><a href="/dist/jdbc/jdbc.html" class="sidebar-link">JDBC</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第06章-多表查询"><a href="#第06章-多表查询" class="header-anchor">#</a> 第06章_多表查询</h1> <p>多表查询，也称为关联查询，指两个或更多个表一起完成查询操作。</p> <p>前提条件：这些一起查询的表之间是有关系的（一对一、一对多），它们之间一定是有关联字段，这个关联字段可能建立了外键，也可能没有建立外键。比如：员工表和部门表，这两个表依靠“部门编号”进行关联。</p> <h2 id="_1-一个案例引发的多表连接"><a href="#_1-一个案例引发的多表连接" class="header-anchor">#</a> 1. 一个案例引发的多表连接</h2> <h3 id="_1-1-案例说明"><a href="#_1-1-案例说明" class="header-anchor">#</a> 1.1 案例说明</h3> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554974984600.823bc640.png" alt="1554974984600"></p> <p>从多个表中获取数据：</p> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554975020388.bab18cff.png" alt="1554975020388"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#案例：查询员工的姓名及其部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span> department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span> departments<span class="token punctuation">;</span>
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554975097631.d5a9cbb6.png" alt="1554975097631"></p> <p>查询结果：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token operator">+</span><span class="token comment">-----------+----------------------+</span>
<span class="token operator">|</span> last_name <span class="token operator">|</span> department_name      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+----------------------+</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Administration       <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Marketing            <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Purchasing           <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Human Resources      <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Shipping             <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> IT                   <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> <span class="token keyword">Public</span> Relations     <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Sales                <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Executive            <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Finance              <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Accounting           <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Treasury             <span class="token operator">|</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> IT Support           <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> NOC                  <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> IT Helpdesk          <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Government Sales     <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Retail Sales         <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Recruiting           <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Payroll              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+----------------------+</span>
<span class="token number">2889</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre></div><p><strong>分析错误情况：</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token comment">#输出107行</span>

<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>department_id<span class="token punctuation">)</span><span class="token keyword">FROM</span> departments<span class="token punctuation">;</span>
<span class="token comment">#输出27行</span>

<span class="token keyword">SELECT</span> <span class="token number">107</span><span class="token operator">*</span><span class="token number">27</span> <span class="token keyword">FROM</span> dual<span class="token punctuation">;</span>
</code></pre></div><p>我们把上述多表查询中出现的问题称为：笛卡尔积的错误。</p> <h3 id="_1-2-笛卡尔积-或交叉连接-的理解"><a href="#_1-2-笛卡尔积-或交叉连接-的理解" class="header-anchor">#</a> 1.2 笛卡尔积（或交叉连接）的理解</h3> <p>笛卡尔乘积是一个数学运算。假设我有两个集合 X 和 Y，那么 X 和 Y 的笛卡尔积就是 X 和 Y 的所有可能组合，也就是第一个对象来自于 X，第二个对象来自于 Y 的所有可能。组合的个数即为两个集合中元素个数的乘积数。</p> <img src="https://images0.cnblogs.com/i/595518/201403/302046364841977.jpg" alt="img" style="zoom:80%;"> <p>SQL92中，笛卡尔积也称为<code>交叉连接</code>，英文是 <code>CROSS JOIN</code>。在 SQL99 中也是使用 CROSS JOIN表示交叉连接。它的作用就是可以把任意表进行连接，即使这两张表不相关。在MySQL中如下情况会出现笛卡尔积：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#查询员工姓名和所在部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> departments<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token keyword">JOIN</span> departments<span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-3-案例分析与问题解决"><a href="#_1-3-案例分析与问题解决" class="header-anchor">#</a> 1.3 案例分析与问题解决</h3> <ul><li><p><strong>笛卡尔积的错误会在下面条件下产生</strong>：</p> <ul><li>省略多个表的连接条件（或关联条件）</li> <li>连接条件（或关联条件）无效</li> <li>所有表中的所有行互相连接</li></ul></li> <li><p>为了避免笛卡尔积， 可以<strong>在 WHERE 加入有效的连接条件。</strong></p></li> <li><p>加入连接条件后，查询语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>	table1<span class="token punctuation">.</span><span class="token keyword">column</span><span class="token punctuation">,</span> table2<span class="token punctuation">.</span><span class="token keyword">column</span>
<span class="token keyword">FROM</span>	table1<span class="token punctuation">,</span> table2
<span class="token keyword">WHERE</span>	table1<span class="token punctuation">.</span>column1 <span class="token operator">=</span> table2<span class="token punctuation">.</span>column2<span class="token punctuation">;</span>  <span class="token comment">#连接条件</span>
</code></pre></div><ul><li><strong>在 WHERE子句中写入连接条件。</strong></li></ul></li> <li><p>正确写法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#案例：查询员工的姓名及其部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span> department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span> departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre></div></li> <li><p><strong>在表中有相同列时，在列名之前加上表名前缀。</strong></p></li></ul> <h2 id="_2-多表查询分类讲解"><a href="#_2-多表查询分类讲解" class="header-anchor">#</a> 2. 多表查询分类讲解</h2> <h3 id="分类1-等值连接-vs-非等值连接"><a href="#分类1-等值连接-vs-非等值连接" class="header-anchor">#</a> 分类1：等值连接 vs 非等值连接</h3> <h4 id="等值连接"><a href="#等值连接" class="header-anchor">#</a> 等值连接</h4> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554975496900.2b679447.png" alt="1554975496900"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>
       employees<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>
       departments<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span>   employees<span class="token punctuation">,</span> departments
<span class="token keyword">WHERE</span>  employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvcAAADOCAYAAAC6lS33AAAdM0lEQVR4nO3dXXLrxpmH8RcEQZYudD2TDSSrCBq3SbyM48ROahaQVEkqitlCbI/tmr1QWpJOSgWCOJwLB3KjCTQ+SALN7udXxfIRGgRaQhf9Z/NFMzoej0cBAAAAcPMWc3cAAAAAwGUQ7gEAAABPLM0Nu91ujn4AAAAAGOHl5UX+8Y9/SBzHp+FeREQpNXWfAAAAAIzw+vr68W/KcgAAAABPNM7cVzabzVT9gAeyLPv41IexEw6uO1ynlBKllERRJM/Pz8IicXCNPka32618+fJl7i7hBqRpKkopWSzqc/XWcC8i8tVXv7lap+CXz5/rPzN2wsB1h+s+f45qP//pT7+RKGrZGZiB+TrKGEUf5mtbhbIcAAAAwBOEewAAAMAThHsAAADAE50199f0lx+bt//vn0/bq21t27uOpe+jb+vTrz7H0LcP+b3aztPVN9ux+hznVo25hk372v5ubdfHdrymYw8ZN0Paxo5/H33zo4h5a+QPfxaJOvbR9+tqbztf7/N8LRJFIt/8JGK7j/OHr0W+/fnXfarnidSf23U8s73pOOa52vpjq/k1j9/Un65jhKDP36XvtWxr1337k8iX/+z7/dcii6i5TVft19au7/e3n5uP33TevudrOo55rrb+LCzjyzx+U3+6juGrv/4sUn4R+e6TSGyZ5q32q7Ttb+7XtK++j97W9FzzOP/zf8397epf0+/Z93fX9/3XJ5Hl4pcxeTD6WrW5ZNZwX7lkADFD0F9+HHb8pvA89BhNfRnTPuZc5/Q3FG3hu/q7jXlD2Haeqa9DqNddD+rf/NgczJu2tbXbjtPZFyNMf/PTL9t++PrXfZqC91h9QnjTPtfuj/67hx7wRfr9Xbr+Vm1ja+jf1wzT3/70y7bvtTHRFLzH6hPCm/a5dn/03z3EgN/FDMF//fmXR98A3bRvk+8+2Y91bv+qffscsy897P/tZ/cCvkNdsatCVtes6iXOoQckc2a0aab0nAB4aX1nn33W59MNkxnqpzCkn1OMfx90zcafozrmNc9RO99/AnfXjL+r+n5iEZpr/l36zFRf43zXPs+1TPV3ukVNIVsP0dVseVsY/+7TL/9va5st75qtv1T/rs02oz+nmwn3LjFnyfVtuB1TBGXCOFxAwIbrCNi4tilD/9ycKMux1bhXP5t1xrcQmrp+r652XIc+fq755uxS43TI+GdMtfvG+NuMKbmZSlUTb/7cFNC/+en0uXqZhnksuKvrWrqkqok3f24K6N8av5dZBmMeC7i0qm4/FE6E+0sGkKnCjR6w2s4xZc09fmFek+o6mfXvZkC+Zn18UxDv28+hGFPtusK8LfybJTk//Lm9Ln/qgNb3+Ga/4J4+90+07V99OlMF5++/bq8p7wrbl9b3+Ga/4AezhOa7T8Nq8i/dlxA4Ee4viXCDvsxa92sE/Fv5lAmXm8l3sdb8h6/d6g/GudQbRRdrzas3I670B/6p3lSEUJpzU+GekIS+hoyVOQP4kPMy/udnzu7bVIH6nBVjmG3HUENmv22z+9c4H8IWyqy5C24q3F9bU2nErd0we2v9vSTb765f16n/Rk0lQG3nZynT85jlM9c+pl6a47qpZ+8vubymT67xdzFLcnR6eHfd1LP3l1xe0zdNpTNtK9Q0ldj0WR//nNKcvv1re96lZu+rVXJcWwrTiXDfp06+CkiXCD228+kB39afc8/Tp33suUIIhuf87Zqu8dBjTK3v+L+l3+mS9Bn1tmA/xw2158zeV8/9/tP4Ouw56P2Zuy8u6fN3meNanjN7Xz33X5+617E3nzdnmNb7M3df5mbOprcF96Z2fZu5X7W9+vKpa+jbv2vQbwB3LdiLiETHY30eZ7fbiVJKREQ2m4189dVvZukYbs/nz79j7ASI6w7Xff78O0nTVKIokufnZ/njH/+bNx1wyufPv5U0VRJFkWy3W/nDH/6LMYpOnz//Vn7/+1QWi4X885//lL///e8SxzHr3AMAAAC+cKIsB7+y3TQZSomF67hGCIGtPp9yG7jAVp8ferkN+rHV30+9TOclEe4dQzh0H9cIIfjhBm7ARNhu4SZhuO27T3P34Dqs4T7LMvn8eaquwCeMnTBx3eG6LMvk3/9mMXW4SynFGMVZrOG+ukkOGIqxEyauO1yXpuncXQCsGKM4141WEwEAAAAwWWfuN5vNVP2AB7Isqy2JiDBw3eE6pZQopT6WwjxO9U1eQE/6GN1ut/Lly5UWh4dX0jQVpZQsFvW5+s4bap+enq7WKfhlt9vVfmbshIHrDte9vLzUfn58fJSI5X7gEHOMPjw8nAQ2wPT6+tq4nZEDAAAAeIJwDwAAAHiCcA8AAAB4gnAfiCiKao9LtPU975jtY+thqaMF/BPH8ckNhnEc116buAERc0qSRA6Hw8k2fYya7fDHer2W/X5f+9nMT1EUfexjttueq7f1RbgPQBRFcjweaw89RI9pu0R/COIAurQF+6Ioaq9NSZIQ8DGLtmD//v5eG6N3d3cEfA+ZwV5EJM/z2rVfrVaS57msVitZr9fy9vZWa7+/v5f9fm9tG4JwH4A5l30bEuKr0A8AIr+GeFYNgauqEL9cdi4+CA9VYXy1Ws3dlRpGI5xWvTEwQ7/+hsH2hqBtP/PTA95UAO4py3LuLgBWRVHM3QXMKM/zzn3meANAuIez9Jn8tn83/dy23fYznxoAAAAf8FlngKYOsk11/Lbt+vPajnepfgEAAFzDXGU7zNwHxpcZ6iF1/AAAAKEg3AfEp2Bvlte08eH3BQAAt2XOm20pywnE3MG+KsFpKr05p29DZuaZxQcAAL5j5j4AbV8M1bZ2fVNNvNk2J3OVm7bQbra50HcA5yvL8mT9+7IsWTITziiK4mT9+6IoWDITkuf5ydr41Rr4trYhGGUB6Aq1tvZLBuIhN8h23Vyr/9z27yHnJPgD7mpaEpNlMuGSpiUxWSYzHE1LYtqWyRzb1hfTHAAAAIAnCPcAAACAJwj3AAAAgCesNfdZlslut5uqL/AIYydMXHe4LssyeXl5mbsbQCullLy+vs7dDdwwa7hXSk3VD3iGsRMmrjtcl6bp3F0ArBijOBdlOQAAAIAnrDP3m81mqn7AA1mWfczcMnbCwXWH65RSopSSKIrk+fmZpW/hHH2Mbrfb2nc4AG3SNBWl1Ml3fHSuc//09HS1TsEvZq01YycMXHe4zqyxf3x85Bur4RRzjD48PPClbOjUdm8GIwcAAADwBOEeAAAA8AThHgAAAPAE4T4QURTVHn3b9H3OOfelj3kNrvUHCF0cx7XXJv0mQ1sbMJUkSWrj8HA49GqDX9brtez3+5Nt+vXX28e29UW4D0AURXI8HmuPKsja2vTnu2RIf4bsywoagDviOJaiKGqvTUmSyJcvX6xtwFSSJJH39/faOLy7u5PD4WBtg1/agv3b21vt+t/f38t+vx/dNgThPgDnhNYq/APAlMqyZLUQOK0oClkuOxcdhMeqML5arebuSg2jElZTBnt9ll0/b/UGQ28333Q0Pdf8dKLveZrOyRscAACgy/N87i40ItxjEl3lMU0BvCt4d+1bhfO+x7X1iU8wAABAH3men5Tr5Hk+2Qw/n3kGaI6gatb1m+fv6s+Q/l7qdyPMA+6o6uwp1YGrqjp7SnVwqdr5sRiBgXF5BnrsjbtmyU7X7+faDcIA7Aj2cB3BHi5hFAbE9WDfVhffR99SG3NfAG4j2MN1BHu4hlfLQLgc7E1Dg/011uAHMD+CPVxHsIeLGI0B0FeN0bWtaz/HmwBzZZohN+B2leUM2ReAG+I4/ljTXleWpZRl+dGub+dNAKaUJMnHmva6oiikKIqPdn07bwLCYLuhdmzbEIyyAFziZtVzQnDbc2031bb9u+14fc/Rd9+hN/wCuKyyLM9qB66tKIqz2uGPpiUxbctkjm3ri2kOAAAAwBOEewAAAMAThHsAAADAE9aa+yzLZLfbTdUXeISxEyauO1yXZZm8vLzM3Q2glVJKXl9f5+4Gbpg13CulpuoHPMPYCRPXHa5L03TuLgBWjFGci7IcAAAAwBPWmfvNZjNVP+CBLMs+Zm4ZO+HgusN1SilRSkkURfL8/MzStnCOPka3223tOxyANmmailLq5Ds+Ote5f3p6ulqn4Bez1pqxEwauO1xn1tg/Pj7y7dRwijlGHx4e+FI2dGq7N4ORAwAAAHiCcA8AAAB4gnAPAAAAeIJwH4goimqPS7SNPfc5xwIQjjiOa68Z+k2GtjZgKkmS1Mbh4XDo1Qa/rNdr2e/3J9v066+3j23ri3AfgCiK5Hg81h5VuB7bNpR5HFarAGATx7EURVF7zUiSRL58+WJtA6aSJIm8v7/XxuHd3Z0cDgdrG/zSFuzf3t5q1//+/l72+/3otiEI9wEYG6QJ4ADmUpYlq4XAaUVRyHLZueggPFaF8dVqNXdXahiVcIL+iYD+pqL69KDtZwAAgDnkeT53FxoR7jEJs5yHAA8AAHyU5/lJuU6e55PN8POZZ4DGhudzQret3t52zKZ7AACEp6qzp1QHrqrq7CnVwaVq58diBAZmjmDf9/gA0IRgD9cR7OESRmFAXA72ZlkOAIgQ7OE+gj1cw6tlIFwN9k3nM1WlOZTkAGEh2MN1BHu4iNEYAL1mXde2dn0Vom3PuyS9D+espQ/AH3Ecf6xpryvLUsqy/GjXt/MmAFNKkuRjTXtdURRSFMVHu76dNwFhsN1QO7ZtCEZZALrCeFv7pUJ8n+Po+zBDD6Asy7PagWsriuKsdvijaUlM2zKZY9v6YpoDAAAA8AQz93CaXq4DAAAAO8I9nEaoBwAA6M8a7rMsk91uN1Vf4BHGTpi47nBdlmXy8vIydzeAVkopeX19nbsbuGHWcK+Umqof8AxjJ0xcd7guTdO5uwBYMUZxLm6oBQAAADxhnbnfbDZT9QMeyLLsY+aWsRMOrjtcp5QSpZREUSTPz8/cywPn6GN0u93WvsMBaJOmqSilTr7jo/OG2qenp6t1Cn4xa60ZO2HgusN1Zo394+MjX5YHp5hj9OHhgS9lQ6e2ezMYOQAAAIAnCPcAAACAJwj3AAAAgCcI94FpqjONoqj2GPLcsee8xHEB+C2O45PXp+pGQ7ONGxAxhyRJTsbo4XBobKu2wz/r9Vr2+/3JNnNsVPuYbfpzbW19Ee4D0hbsj8dj7dG236XPfYnjAvBbWZa116fFYiFxHEtRFLXtSZIQ8DELcywul0tJkkTe399r2+/u7gj4HmoK9pU8z2tjYLVayXq9lre3t9r2+/t72e/31rYhCPeBqEK8iSXhAAAAhqvC+Gq1mrsrNZ1LYcIP54T46o3BObPs1fP1frQdV/+5af+mn/Vj6dts5246R1cbgGlUs/MsBwhXVbPzyyVRKlR5njdunzv086oJp5hlQkPeUDSF/bY3D23nOOf8AC6Lunq4jrp6tLlE7fxYhHvU2GbHz6WH5UseVz/+kO3nHBPA9Zn19tTVwzVmvT119aiY9fZjaufH4rMkfLhG4L415mx96H8PYC5lWc7dBcCqKIq5uwBHtZXrTIVwDxFpDvb6LLttP99c65MLAACAa6MsB9aVdPRHte0cTTe3XtvQun0A84vjmBIcOC1JEkpw0Mi2POYUmLkPXNPsvMh85Si2spghN7jq+zYds+85mLUH5lGW5UnAL8tSFouFtQ2YSlEUJwG/KApZLpfWNvgvz/OTgJ/nuaxWq9FtQzDKAmOG1SHhdWzQ7TrnkD4NuWl2zHG62gBMx1Z3T00+XGCru6cmPxxNNfa2uvuxbX0xzQEvUV4DAABCxMw9vER5DQAACBHhHt4i0AMAgNBYw32WZbLb7abqCzzC2AkT1x2uy7JMXl5e5u4G0EopJa+vr3N3AzfMGu6VUlP1A55h7ISJ6w7XpWk6dxcAK8YozsUNtQAAAIAnrDP3m81mqn7AA1mWfczcMnbCwXWH65RSopSSKIrk+fmZ+3HgHH2MbrdbvsANvaRpKkqpk+/46Lyh9unp6Wqdgl/MWmvGThi47nCdWWP/+PjIcrlwijlGHx4e+FI2dGq7N4ORAwAAAHiCcA8AAAB4gnAPAAAAeIJwH5iuOtO29nPqU6MoanwMeT6A8MRxfPK6Ud1oaLZxAyLmkCTJyRg9HA6NbdV2+Ge9Xst+vz/ZZo6Nah+zTX+ura0vwn1A5gj2lePxePLoe1xWtgDCVZZl7XVjsVhIHMdSFEVte5IkBHzMwhyLy+VSkiSR9/f32va7uzsCvoeagn0lz/PaGFitVrJer+Xt7a22/f7+Xvb7vbVtCMJ9IKIoGhWSxz4PAADAZ1UYX61Wc3elpnMpTPihK6BXId6cTZ8y2Ovn1s9rvsFo2w+AP6rZeZYDhKuq2fnlkigVqjzPG7fPHfp51YQTqgDfVbLTdz8At4+6eriOunq0uUTt/FiEe0xSetN0Q61+zrHnZ+Ye8JdZb09dPVxj1ttTV4+KWW8/pnZ+LD5LwiRsZTb69j7HoSwH8F9ZlnN3AbAqimLuLsBRbeU6UyHcB64KynpgvvZMfhXQ+9bVNz2/7XkAAAAhoywncObylNW2OdmCPTX2QBjiOKYEB05LkoQSHDSyLY85BWbuMQtz9l4vt7HdKEtZDhCGsixPAn5ZlrJYLKxtwFSKojgJ+EVRyHK5tLbBf3menwT8PM9ltVqNbhuCURaYrjDc1n5OiO57zL432BLogTDY6u6pyYcLbHX31OSHo6nG3lZ3P7atL6Y5AAAAAE8wcw9n6WU6AAAA6Ea4h7MI9QAAAMNYw32WZbLb7abqCzzC2AkT1x2uy7JMXl5e5u4G0EopJa+vr3N3AzfMGu6VUlP1A55h7ISJ6w7XpWk6dxcAK8YozsUNtQAAAIAnrDP3m81mqn7AA1mWfczcMnbCwXWH65RSopSSKIrk+fmZ+3ngHH2MbrdbvsANvaRpKkqpk+/46Lyh9unp6Wqdgl/MWmvGThi47nCdWWP/+PjIt13DKeYYfXh44EvZ0Knt3gxGDgAAAOAJwj0AAADgCcI9AAAA4AnCfWC66kzN9iiKao+x57zEcWz9BOCfOI5PXjuqGw3NNm5AxBySJDkZo4fDobGt2g7/rNdr2e/3J9vMsVHtY7bpz7W19UW4D8iYYH88HmuPsaH6UsfRjwfAf2VZ1l47FouFxHEsRVHUtidJQsDHLMyxuFwuJUkSeX9/r22/u7sj4HuoKdhX8jyvjYHVaiXr9Vre3t5q2+/v72W/31vbhiDcB6IK6kNcM0BfIuADAADMpQrjq9Vq7q7UdC6FCT90BfUq/M8ZuPVzV/0135To/TS3m8/t0wbATdXsPMsBwlXV7PxySZQKVZ7njdvnDv28asIJZgnQkDcZtueec1wA86KuHq6jrh5tLlE7PxbhHr1LdsaU9vTVdlw9kF/i/MzcA7fDrLenrh6uMevtqatHxay3H1M7PxafJaGXawZ7/RyXfq45W0+4B25DWZZzdwGwKopi7i7AUW3lOlMh3AdOnxXXtzXVuV+7H2019H3Y+jf17wIAADAXynICZy5RWW2rXCsM245rBvumG2i7jt12LAC3IY5jSnDgtCRJKMFBI9vymFNg5h6tmmb1RcaVtnQdQy+fGXrjq630hrIc4DaVZXkS8MuylMViYW0DplIUxUnAL4pClsultQ3+y/P8JODneS6r1Wp02xCMssB0hVszGE9xzj7nHvrzmPMDcIut7p6afLjAVndPTX44mmrsbXX3Y9v6YpoDAAAA8AThHgAAAPAE4R4AAADwhLXmPssy2e12U/UFHmHshInrDtdlWSYvLy9zdwNopZSS19fXubuBG2YN90qpqfoBzzB2wsR1h+vSNJ27C4AVYxTnoiwHAAAA8IR15n6z2UzVD3ggy7KPmVvGTji47nCdUkqUUhJFkTw/P7M8Lpyjj9HtdssXuKGXNE1FKXXyHR+d69w/PT1drVPwi1lrzdgJA9cdrjNr7B8fH/n2ajjFHKMPDw98KRs6td2bwcgBAAAAPEG4BwAAADxBuAcAAAA8QbgPTFedqdkeRVHtMcU5AUBEJI7jk9eg6kZDs40bEDGHJElOxujhcGhsq7bDP+v1Wvb7/ck2c2xU+5ht+nNtbX0R7gMyJtgfj8fa49IBf8jxeBMAhKcsy9pr0GKxkDiOpSiK2vYkSQj4mIU5FpfLpSRJIu/v77Xtd3d3BHwPNQX7Sp7ntTGwWq1kvV7L29tbbfv9/b3s93tr2xCE+0BUQX0IlosDAABoVoXx1Wo1d1dqOpfChB+6gnoV/q81O14dW+9H2zn1n6v9q21NxzD37dMGwG3V7DzLAcJV1ez8ckmUClWe543b5w79vGqik177de2QbJYCVQG9Om/Tm4OmkiFbG4DbQF09XEddPdpconZ+LMI9OkP7pUKy/vy2c17rzQMz98DtMevtqauHa8x6e+rqUTHr7cfUzo/FZ0lwziVm2c03IoR74LaUZTl3FwCroijm7gIc1VauMxXCfeD0mXR921xh2FZTP1RTCQ8AAIDPKMsJnLnUZbVN5DpLTzbdWNvmnPNTYw/ctjiOKcGB05IkoQQHjWzLY06BmXu0aqqxv/bst3kTbdva+03tet8oywFuW1mWJwG/LEtZLBbWNmAqRVGcBPyiKGS5XFrb4L88z08Cfp7nslqtRrcNwSgLTFfINdsvEYq7jmn7ue3fffpHoAdum63unpp8uMBWd09Nfjiaauxtdfdj2/pimgMAAADwBOEeAAAA8AThHgAAAPCEteY+yzLZ7XZT9QUeYeyEiesO12VZJi8vL3N3A2illJLX19e5u4EbZg33Sqmp+gHPMHbCxHWH69I0nbsLgBVjFOeiLAcAAADwhHXmfrPZTNUPeCDLso+ZW8ZOOLjucJ1SSpRSEkWRPD8/s0wunKOP0e12yxe4oZc0TUUpdfIdH53r3D89PV2tU/CLWWvN2AkD1x2uM2vsHx8f+RZrOMUcow8PD3wpGzq13ZvByAEAAAA8QbgHAAAAPEG4BwAAADxBuA9MV52prX1Mjeo55wMQtjiOJYqi2qO60dBs4wZEzCFJkpMxejgcGtuq7fDPer2W/X5/ss0cG9U+Zpv+XFtbX4T7gEwd7AHgXGVZyvF4/HgsFguJ41iKoqhtT5KEgI9ZmGNxuVxKkiTy/v5e2353d0fA91BTsK/keV4bA6vVStbrtby9vdW239/fy36/t7YNQbgPRBRFsyz/djweW98YzNUnAACAc1VhfLVazd2Vms6lMOGHrhBdBe2mIG5ruyT9+Hp/9fNX26t9ze2243S1AXBHNTvPcoBwVTU7v1wSpUKV53nj9rlDP6+auLqmNwZNgVz/GMq2v75v235N7V3nAOAW6urhOurq0eYStfNjEe5hLY+ZqnSm6xxt7eb2IX1l5h5wm1lvT109XGPW21NXj4pZbz+mdn4sPkvCJPTymbY3DJeaSW87jjlbT7gH3FWW5dxdAKyKopi7C3BUW7nOVAj3gavCblP5iq3tGv1oq5u/5HGaSoEAAAB8QVlO4PSPjKqgq/+3rW3sufoE6iHBfsjyndTYA7cjjmNKcOC0JEkowUEj2/KYU2DmHk7QPynoutnVtm/ftupnAG4qy/Ik4JdlKYvFwtoGTKUoipOAXxSFLJdLaxv8l+f5ScDP81xWq9XotiEYZYEZe+Nqn+eee369re3f5xyn63kA3GKru6cmHy6w1d1Tkx+Ophp7W9392La+mObAzaG8BgAAoBkz97g5lNcAAAA0I9zjJhHoAQAATlnDfZZlstvtpuoLPMLYCRPXHa7LskxeXl7m7gbQSiklr6+vc3cDN8wa7pVSU/UDnmHshInrDtelaTp3FwArxijOxQ21AAAAgCesM/ebzWaqfsADWZZ9zNwydsLBdYfrlFKilJIoiuT5+Zl7duAcfYxut1u+wA29pGkqSqmT7/jovKH26enpap2CX8xaa8ZOGLjucJ1ZY//4+MiSunCKOUYfHh74UjZ0ars34/8BsdyWBfdukusAAAAASUVORK5CYII=" alt="1554975522600"></p> <p><img src="data:image/png;base64,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" alt="1554975526339"></p> <p><strong>拓展1：多个连接条件与 AND 操作符</strong></p> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554975606231.dc2daf94.png" alt="1554975606231"></p> <p><strong>拓展2：区分重复的列名</strong></p> <ul><li><strong>多个表中有相同列时，必须在列名之前加上表名前缀。</strong></li> <li>在不同表中具有相同列名的列可以用<code>表名</code>加以区分。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>department_id
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span> departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre></div><p><strong>拓展3：表的别名</strong></p> <ul><li><p>使用别名可以简化查询。</p></li> <li><p>列名前使用表名前缀可以提高查询效率。</p></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>
       d<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span>   employees e <span class="token punctuation">,</span> departments d
<span class="token keyword">WHERE</span>  e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>需要注意的是，如果我们使用了表的别名，在查询字段中、过滤条件中就只能使用别名进行代替，不能使用原有的表名，否则就会报错。</p></blockquote> <blockquote><p><code>阿里开发规范</code>：</p> <p>【<code>强制</code>】对于数据库中表记录的查询和变更，只要涉及多个表，都需要在列名前加表的别名（或 表名）进行限定。</p> <p><code>说明</code>：对多表进行查询记录、更新记录、删除记录时，如果对操作列没有限定表的别名（或表名），并且操作列在多个表中存在时，就会抛异常。</p> <p><code>正例</code>：select t1.name from table_first as t1 , table_second as t2 where t1.id=t2.id;</p> <p><code>反例</code>：在某业务中，由于多表关联查询语句没有加表的别名（或表名）的限制，正常运行两年后，最近在 某个表中增加一个同名字段，在预发布环境做数据库变更后，线上查询语句出现出 1052 异常：Column  'name' in field list is ambiguous。</p></blockquote> <p><strong>拓展4：连接多个表</strong></p> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554978354431.20265260.png" alt="1554978354431"></p> <p>**总结：连接 n个表,至少需要n-1个连接条件。**比如，连接三个表，至少需要两个连接条件。</p> <p>练习：查询出公司员工的 last_name,department_name, city</p> <h4 id="非等值连接"><a href="#非等值连接" class="header-anchor">#</a> 非等值连接</h4> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554978442447.5c62416f.png" alt="1554978442447"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>salary<span class="token punctuation">,</span> j<span class="token punctuation">.</span>grade_level
<span class="token keyword">FROM</span>   employees e<span class="token punctuation">,</span> job_grades j
<span class="token keyword">WHERE</span>  e<span class="token punctuation">.</span>salary <span class="token operator">BETWEEN</span> j<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> j<span class="token punctuation">.</span>highest_sal<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554978477013"></p> <p><img src="data:image/png;base64,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" alt="1554978482652"></p> <h3 id="分类2-自连接-vs-非自连接"><a href="#分类2-自连接-vs-非自连接" class="header-anchor">#</a> 分类2：自连接 vs 非自连接</h3> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554978514321.ad1327cf.png" alt="1554978514321"></p> <ul><li>当table1和table2本质上是同一张表，只是用取别名的方式虚拟成两张表以代表不同的意义。然后两个表再进行内连接，外连接等查询。</li></ul> <p><strong>题目：查询employees表，返回“Xxx  works for Xxx”</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>worker<span class="token punctuation">.</span>last_name <span class="token punctuation">,</span><span class="token string">' works for '</span>
       <span class="token punctuation">,</span> manager<span class="token punctuation">.</span>last_name<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   employees worker<span class="token punctuation">,</span> employees manager
<span class="token keyword">WHERE</span>  worker<span class="token punctuation">.</span>manager_id <span class="token operator">=</span> manager<span class="token punctuation">.</span>employee_id <span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554978684947"></p> <p><img src="data:image/png;base64,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" alt="1554978690764"></p> <p>练习：查询出last_name为 ‘Chen’ 的员工的 manager 的信息。</p> <h3 id="分类3-内连接-vs-外连接"><a href="#分类3-内连接-vs-外连接" class="header-anchor">#</a> 分类3：内连接 vs 外连接</h3> <p>除了查询满足条件的记录以外，外连接还可以查询某一方不满足条件的记录。</p> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554978955659.2b056d67.png" alt="1554978955659"></p> <ul><li><p>内连接: 合并具有同一列的两个以上的表的行, <strong>结果集中不包含一个表与另一个表不匹配的行</strong></p></li> <li><p>外连接: 两个表在连接过程中除了返回满足连接条件的行以外<strong>还返回左（或右）表中不满足条件的行</strong> <strong>，这种连接称为左（或右） 外连接</strong>。没有匹配的行时, 结果表中相应的列为空(NULL)。</p></li> <li><p>如果是左外连接，则连接条件中左边的表也称为<code>主表</code>，右边的表称为<code>从表</code>。</p> <p>如果是右外连接，则连接条件中右边的表也称为<code>主表</code>，左边的表称为<code>从表</code>。</p></li></ul> <h4 id="sql92-使用-创建连接"><a href="#sql92-使用-创建连接" class="header-anchor">#</a> SQL92：使用(+)创建连接</h4> <ul><li><p>在 SQL92 中采用（+）代表从表所在的位置。即左或右外连接中，(+) 表示哪个是从表。</p></li> <li><p>Oracle 对 SQL92 支持较好，而 MySQL 则不支持 SQL92 的外连接。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#左外连接</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#右外连接</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>而且在 SQL92 中，只有左外连接和右外连接，没有满（或全）外连接。</p></li></ul> <h2 id="_3-sql99语法实现多表查询"><a href="#_3-sql99语法实现多表查询" class="header-anchor">#</a> 3. SQL99语法实现多表查询</h2> <h3 id="_3-1-基本语法"><a href="#_3-1-基本语法" class="header-anchor">#</a> 3.1 基本语法</h3> <ul><li><p>使用JOIN...ON子句创建连接的语法结构：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> table1<span class="token punctuation">.</span><span class="token keyword">column</span><span class="token punctuation">,</span> table2<span class="token punctuation">.</span><span class="token keyword">column</span><span class="token punctuation">,</span>table3<span class="token punctuation">.</span><span class="token keyword">column</span>
<span class="token keyword">FROM</span> table1
    <span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> table1 和 table2 的连接条件
        <span class="token keyword">JOIN</span> table3 <span class="token keyword">ON</span> table2 和 table3 的连接条件
</code></pre></div><p>它的嵌套逻辑类似我们使用的 FOR 循环：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">for</span> t1 <span class="token operator">in</span> table1:
    <span class="token keyword">for</span> t2 <span class="token operator">in</span> table2:
       <span class="token keyword">if</span> condition1:
           <span class="token keyword">for</span> t3 <span class="token operator">in</span> table3:
              <span class="token keyword">if</span> condition2:
                  output t1 <span class="token operator">+</span> t2 <span class="token operator">+</span> t3
</code></pre></div><p>SQL99 采用的这种嵌套结构非常清爽、层次性更强、可读性更强，即使再多的表进行连接也都清晰可见。如果你采用 SQL92，可读性就会大打折扣。</p></li> <li><p>语法说明：</p> <ul><li><strong>可以使用</strong> <strong>ON</strong> <strong>子句指定额外的连接条件</strong>。</li> <li>这个连接条件是与其它条件分开的。</li> <li><strong>ON</strong> <strong>子句使语句具有更高的易读性</strong>。</li> <li>关键字 JOIN、INNER JOIN、CROSS JOIN 的含义是一样的，都表示内连接</li></ul></li></ul> <h3 id="_3-2-内连接-inner-join-的实现"><a href="#_3-2-内连接-inner-join-的实现" class="header-anchor">#</a> 3.2 内连接(INNER JOIN)的实现</h3> <ul><li>语法：</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表
<span class="token keyword">FROM</span> A表 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> B表
<span class="token keyword">ON</span> 关联条件
<span class="token keyword">WHERE</span> 等其他子句<span class="token punctuation">;</span>
</code></pre></div><p>题目1：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>
       d<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span>   employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span>     <span class="token punctuation">(</span>e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554979073996"></p> <p><img src="data:image/png;base64,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" alt="1554979079395"></p> <p>题目2：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span> city<span class="token punctuation">,</span> department_name
<span class="token keyword">FROM</span>   employees e
<span class="token keyword">JOIN</span>   departments d
<span class="token keyword">ON</span>     d<span class="token punctuation">.</span>department_id <span class="token operator">=</span> e<span class="token punctuation">.</span>department_id
<span class="token keyword">JOIN</span>   locations l
<span class="token keyword">ON</span>     d<span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554979110008"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvEAAAAXCAYAAACCuhBXAAAJTklEQVR4nO3dbWjV5R/H8fc529k5c9vZ3SldQpBZRIFQ7UmOihgUkcNsCXKMxGbF6M5ZrjJlD8wQyugGNh3MlEKUVConQkREy4zVAyGoB4MY0tnxtPud+7Pfzf/B4VzsOGf1j6z9/5/XI3+7rt+dj76/L5/rOh7XdV1ERERERGTR8P7TDyAiIiIiIn+OingRERERkUVGRbyIiIiIyCKjIl5EREREZJEpvdLgzMwMVVVVeDwe87dYLGb+XVZWRm1t7d/3dFdZPB7H7/dTVlZ21e/tOA6JRGLe/7eIiIiIyKUW7MR/9913NDc3k8lkALBtm/Pnz7N69WqamppoamoiHA4zMzNz1R7277ZhwwZOnTr1l64xMzODbdt/+rwLFy7Q3NxMIpH4S/cXERERkf998zrxtm3z888/8+ijj2JZFiUlJQD89NNPPPXUU3z99dd4vfna/4cffuChhx5iYGDg6j7132R8fNx8tPy37r//fj788ENuuummP3WebduMjo6iHT9FRERE5PfMK+IjkQjbt2+nr6+PrVu3YlkWZWVlWJbF1NQUy5cvN3MbGhoYHR297IVzuRyWZREIBJiamqKurg7Hccz8JUuWUFVVRTabZXZ2lsrKSgAymQy2bVNRUQFAOp3GcRwqKirIZrNMTU0BUF1dTSAQWPDFUqkU8XgcgLq6Onw+nxlLJBIkk0kAQqGQ+VDx+XzmAwVgenraFPVLly4tuv7k5CS5XK5oLBqNEo1G+fXXX1mxYoW57tjYGLZt4/V6ueaaa4qu89tvv+H1eikrK8Pv9y/4PiIiIiIiBfPiNMuXL+ejjz5i5cqV87rCl2a1I5HIgvnxL7/8knA4zKeffkp7ezu5XI7+/n4TxXnxxRdJpVIcPnyYzZs3m/N6e3tpb283x++88w4dHR1ks1m6u7vN+W+99ZYp0i+VTCbZvXu3mXvo0CFTtCcSCbZv327GPvnkE1OMzxWPx3nyySfNvK+++grLsoB8ZCYcDtPU1MTq1av5/vvvsSyLxx9/nGg0SltbGxcvXsR1XWKxGGvWrKGpqYnm5maGh4dxXRfXdRkeHuaee+6hpaWFX375Ba/Xqzy8iIiIiPyueUV8SUkJ9fX1WJZVVMSXlpYSDAYZGRkhFovx7bff8swzzxR1rucqLS3l9OnTHD16lO7ubj777DPee+89BgYGGBgY4LbbbuP555+nqqqKZDJJKpUil8sxPT1NKpUilUqZznt1dTU9PT38+OOPDA4OMjg4SDweZ9++fZe993PPPYfH4zFzz507x5EjRwB44oknuPnmm81YX18fH3/8sTm3UES3traybt06M2/Xrl2cPXsWgJaWFtrb2827vPLKKwwNDXHkyBGuv/56+vr6WLZsGclkkjVr1tDT08Pg4CAnT56ktbWVyclJJicneeSRR+jv7+fw4cNs2rSJ6elpSkuvuNZYREREROTKu9PMdeutt3LgwAHuvvtuPB4Pq1atYv/+/ezateuy81OpFKtWreLAgQPU1NSQTqdJp9M0NDQAUFFRwfDwMK2trYyMjNDZ2cldd91FJBLh3nvvpauri1tuuYWRkRF6e3vZu3cvruuaj4bOzs4F4zSu6+LxeMzcN99808RzpqenyWazZmx0dJR0Oj3vGhMTE8zOzpp5Fy9eNB370dFRQqGQeZdjx45RXV2Nz+fD5/PR0NBASUkJrusyNjZW9NyRSMR8HE1MTLB06VKqqqo4duwYGzduNN1+EREREZGF/OF94ktKSrjjjjv45ptvGBgY4ODBgyxbtmzBhaCu6+L3+6mpqcnfyOs1GXHIb6lYyIKXlpYyNTVFJpMhk8mY43Q6TTabpby8nB07dnD77bfT2NhIY2MjH3zwQVHOfa79+/fj8XjM3DNnzph719fXs2/fPjM2MjJSlPMvCAaDvPzyy2ZeMpkkFAoBmDUCBaFQCJ/PRy6Xw3VdZmdngXzG3nEc1q1bR2NjIw888IDJ8ruui8/nI5vNAvkYk9fr1cJWEREREfldf7gTb1kW8XjcdJ8h352ur69f8Jy5BanjOEVbL3q9XlMIBwIBAoEAlmWZItfv92PbtvkIcByHjRs38thjjwHw2muv8eqrr142UmNZFh0dHWzbtg2ALVu2MDY2xtatWxkfH2fbtm08/fTTQH6B6qWLTSGfe9+7dy8tLS1AvmteKPZnZ2eLYi8TExMEg0FzXPi4KHTyjx8/zg033IDjOExOTlJeXs709DSzs7P/yJ70IiIiIrK4LdiJd123aMHn0NAQ69evN5n4zz//nHfffZfTp09f9nzHcUxHGvKFenl5ObFYjFgsRjKZND8UtWnTJm688UbOnDnDG2+8QTgcpq6ujnPnzvH2228D8P777/P666/j9XrNAtCFutY7d+6kt7fXzJ07LxgMUl5ebsa6urr44osvgHzR7TgOALW1tfj9fjPvpZde4vz580C+mz8+Pk4sFiMajbJ+/XqGhoZMNz4ajWLbNh6Ph/r6ekpKSvB6vSQSCZ599llmZmYIBALU1tYSiUSIxWJEIhFyuRwejwfbtk0MR0RERETkUgt24ktLSwmFQmah58qVK9mzZ4/JxK9YsYKjR49SXV192fP9fj91dXXmeO3atZSVldHU1ATAfffdx6FDh4B8gV/owBey64Viu7D1ZHt7Oz09PTQ2NgLQ1tbGCy+8cNl7d3V1sWfPHjN3x44dhMNhAA4ePEhnZ6cZ2717Nw8++CCQ34qysM3jiRMn2LJlCzt37gSgu7ubO++8E4BTp06xYcMGOjo6cF23aDefYDDI5s2bOXv2LNdddx39/f08/PDDjI2NsWTJEo4fP04wGMTj8XDy5EnWrl1LKpXCtm0qKyuprKzkwoULtLW10d/ff8VtNEVERETk/5PHXaDda9s2iUTCFJwF0WgUyOfCrxSlyeVyZDKZopiJ4zjEYjEgv7B17lgmk8GyLFO0p9NpU9gWZLNZJiYmgHyn/EoFbjKZNL8mW8isF8TjcfPLqNdee63Jyxc65IWISyGXDxTFiCAfoSnk2eeOTU1Nkc1mi/afHx0dxbIsvF7vvP3mY7EYjuPg8XgIBALU1NRg2zYTExNFH1EiIiIiIgULFvEiIiIiIvLv9Id3pxERERERkX8HFfEiIiIiIouMingRERERkUVGRbyIiIiIyCKjIl5EREREZJH5D8c199bnJrSfAAAAAElFTkSuQmCC" alt="1554979115642"></p> <h3 id="_3-3-外连接-outer-join-的实现"><a href="#_3-3-外连接-outer-join-的实现" class="header-anchor">#</a> 3.3 外连接(OUTER JOIN)的实现</h3> <h4 id="_3-3-1-左外连接-left-outer-join"><a href="#_3-3-1-左外连接-left-outer-join" class="header-anchor">#</a> 3.3.1 左外连接(LEFT OUTER JOIN)</h4> <ul><li>语法：</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#实现查询结果是A</span>
<span class="token keyword">SELECT</span> 字段列表
<span class="token keyword">FROM</span> A表 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> B表
<span class="token keyword">ON</span> 关联条件
<span class="token keyword">WHERE</span> 等其他子句<span class="token punctuation">;</span>
</code></pre></div><ul><li>举例：</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span>   employees e
<span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span>   <span class="token punctuation">(</span>e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554979200961.8a96ce79.png" alt="1554979200961"></p> <h4 id="_3-3-2-右外连接-right-outer-join"><a href="#_3-3-2-右外连接-right-outer-join" class="header-anchor">#</a> 3.3.2 右外连接(RIGHT OUTER JOIN)</h4> <ul><li>语法：</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#实现查询结果是B</span>
<span class="token keyword">SELECT</span> 字段列表
<span class="token keyword">FROM</span> A表 <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> B表
<span class="token keyword">ON</span> 关联条件
<span class="token keyword">WHERE</span> 等其他子句<span class="token punctuation">;</span>
</code></pre></div><ul><li>举例：</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span>   employees e
<span class="token keyword">RIGHT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span>    <span class="token punctuation">(</span>e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554979243194.9610e69f.png" alt="1554979243194"></p> <blockquote><p>需要注意的是，LEFT JOIN 和 RIGHT JOIN 只存在于 SQL99 及以后的标准中，在 SQL92 中不存在，只能用 (+) 表示。</p></blockquote> <h4 id="_3-3-3-满外连接-full-outer-join"><a href="#_3-3-3-满外连接-full-outer-join" class="header-anchor">#</a> 3.3.3 满外连接(FULL OUTER JOIN)</h4> <ul><li>满外连接的结果 = 左右表匹配的数据 + 左表没有匹配到的数据 + 右表没有匹配到的数据。</li> <li>SQL99是支持满外连接的。使用FULL JOIN 或 FULL OUTER JOIN来实现。</li> <li>需要注意的是，MySQL不支持FULL JOIN，但是可以用 LEFT JOIN <strong>UNION</strong> RIGHT join代替。</li></ul> <h2 id="_4-union的使用"><a href="#_4-union的使用" class="header-anchor">#</a> 4. UNION的使用</h2> <p><strong>合并查询结果</strong>
利用UNION关键字，可以给出多条SELECT语句，并将它们的结果组合成单个结果集。合并时，两个表对应的列数和数据类型必须相同，并且相互对应。各个SELECT语句之间使用UNION或UNION ALL关键字分隔。</p> <p>语法格式：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> table1
<span class="token keyword">UNION</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span><span class="token punctuation">]</span>
<span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> table2
</code></pre></div><p><strong>UNION操作符</strong></p> <img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554979317187.e03d24d5.png" alt="1554979317187" style="zoom:67%;"> <p>UNION 操作符返回两个查询的结果集的并集，去除重复记录。</p> <p><strong>UNION ALL操作符</strong></p> <img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554979343634.80daf5af.png" alt="1554979343634" style="zoom:67%;"> <p>UNION ALL操作符返回两个查询的结果集的并集。对于两个结果集的重复部分，不去重。</p> <blockquote><p>注意：执行UNION ALL语句时所需要的资源比UNION语句少。如果明确知道合并数据后的结果数据不存在重复数据，或者不需要去除重复的数据，则尽量使用UNION ALL语句，以提高数据查询的效率。</p></blockquote> <p>举例：查询部门编号&gt;90或邮箱包含a的员工信息</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#方式1</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> email <span class="token operator">LIKE</span> <span class="token string">'%a%'</span> <span class="token operator">OR</span> department_id<span class="token operator">&gt;</span><span class="token number">90</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#方式2</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees  <span class="token keyword">WHERE</span> email <span class="token operator">LIKE</span> <span class="token string">'%a%'</span>
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees  <span class="token keyword">WHERE</span> department_id<span class="token operator">&gt;</span><span class="token number">90</span><span class="token punctuation">;</span>
</code></pre></div><p>举例：查询中国用户中男性的信息以及美国用户中年男性的用户信息</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>cname <span class="token keyword">FROM</span> t_chinamale <span class="token keyword">WHERE</span> csex<span class="token operator">=</span><span class="token string">'男'</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>tname <span class="token keyword">FROM</span> t_usmale <span class="token keyword">WHERE</span> tGender<span class="token operator">=</span><span class="token string">'male'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-7种sql-joins的实现"><a href="#_5-7种sql-joins的实现" class="header-anchor">#</a> 5. 7种SQL JOINS的实现</h2> <img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554979255233.d5f70616.png" alt="1554979255233" style="zoom:80%;"> <h3 id="_5-7-1-代码实现"><a href="#_5-7-1-代码实现" class="header-anchor">#</a> 5.7.1 代码实现</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#中图：内连接 A∩B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#左上图：左外连接</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#右上图：右外连接</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#左中图：A - A∩B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#右中图：B-A∩B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#左下图：满外连接</span>
<span class="token comment"># 左中图 + 右上图  A∪B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>  <span class="token comment">#没有去重操作，效率高</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#右下图</span>
<span class="token comment">#左中图 + 右中图  A ∪B- A∩B 或者 (A -  A∩B) ∪ （B - A∩B）</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre></div><h3 id="_5-7-2-语法格式小结"><a href="#_5-7-2-语法格式小结" class="header-anchor">#</a> 5.7.2 语法格式小结</h3> <ul><li>左中图</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#实现A -  A∩B</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">left</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句<span class="token punctuation">;</span>
</code></pre></div><ul><li>右中图</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#实现B -  A∩B</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">right</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句<span class="token punctuation">;</span>
</code></pre></div><ul><li>左下图</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#实现查询结果是A∪B</span>
<span class="token comment">#用左外的A，union 右外的B</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">left</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 等其他子句

<span class="token keyword">union</span>

<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">right</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 等其他子句<span class="token punctuation">;</span>
</code></pre></div><ul><li>右下图</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#实现A∪B -  A∩B  或   (A -  A∩B) ∪ （B - A∩B）</span>
<span class="token comment">#使用左外的 (A -  A∩B)  union 右外的（B - A∩B）</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">left</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句

<span class="token keyword">union</span>

<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">right</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句
</code></pre></div><h2 id="_6-sql99语法新特性"><a href="#_6-sql99语法新特性" class="header-anchor">#</a> 6. SQL99语法新特性</h2> <h3 id="_6-1-自然连接"><a href="#_6-1-自然连接" class="header-anchor">#</a> 6.1 自然连接</h3> <p>SQL99 在 SQL92 的基础上提供了一些特殊语法，比如 <code>NATURAL JOIN</code> 用来表示自然连接。我们可以把自然连接理解为 SQL92 中的等值连接。它会帮你自动查询两张连接表中<code>所有相同的字段</code>，然后进行<code>等值连接</code>。</p> <p>在SQL92标准中：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span>
<span class="token operator">AND</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>manager_id<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>manager_id<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><p>在 SQL99 中你可以写成：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">NATURAL</span> <span class="token keyword">JOIN</span> departments d<span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-2-using连接"><a href="#_6-2-using连接" class="header-anchor">#</a> 6.2 USING连接</h3> <p>当我们进行连接的时候，SQL99还支持使用 USING 指定数据表里的<code>同名字段</code>进行等值连接。但是只能配合JOIN一起使用。比如：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">USING</span> <span class="token punctuation">(</span>department_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>你能看出与自然连接 NATURAL JOIN 不同的是，USING 指定了具体的相同的字段名称，你需要在 USING 的括号 () 中填入要指定的同名字段。同时使用 <code>JOIN...USING</code> 可以简化 JOIN ON 的等值连接。它与下面的 SQL 查询结果是相同的：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token punctuation">,</span>departments d
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-章节小结"><a href="#_7-章节小结" class="header-anchor">#</a> 7. 章节小结</h2> <p>表连接的约束条件可以有三种方式：WHERE, ON, USING</p> <ul><li><p>WHERE：适用于所有关联查询</p></li> <li><p><code>ON</code>：只能和JOIN一起使用，只能写关联条件。虽然关联条件可以并到WHERE中和其他条件一起写，但分开写可读性更好。</p></li> <li><p>USING：只能和JOIN一起使用，而且要求<strong>两个</strong>关联字段在关联表中名称一致，而且只能表示关联字段值相等</p></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#关联条件</span>
<span class="token comment">#把关联条件写在where后面</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">#把关联条件写在on后面，只能和JOIN一起使用</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> departments
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token keyword">JOIN</span> departments
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">#把关联字段写在using()中，只能和JOIN一起使用</span>
<span class="token comment">#而且两个表中的关联字段必须名称相同，而且只能表示=</span>
<span class="token comment">#查询员工姓名与基本工资</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_title
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> jobs <span class="token keyword">USING</span><span class="token punctuation">(</span>job_id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#n张表关联，需要n-1个关联条件</span>
<span class="token comment">#查询员工姓名，基本工资，部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_title<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">,</span>jobs
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> jobs<span class="token punctuation">.</span>job_id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_title<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> jobs
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> jobs<span class="token punctuation">.</span>job_id<span class="token punctuation">;</span>
</code></pre></div><p><strong>注意：</strong></p> <p>我们要<code>控制连接表的数量</code>。多表连接就相当于嵌套 for 循环一样，非常消耗资源，会让 SQL 查询性能下降得很严重，因此不要连接不必要的表。在许多 DBMS 中，也都会有最大连接表的限制。</p> <blockquote><p>【强制】超过三个表禁止 join。需要 join 的字段，数据类型保持绝对一致；多表关联查询时， 保证被关联的字段需要有索引。</p> <p>说明：即使双表 join 也要注意表索引、SQL 性能。</p> <p>来源：阿里巴巴《Java开发手册》</p></blockquote> <h2 id="附录-常用的-sql-标准有哪些"><a href="#附录-常用的-sql-标准有哪些" class="header-anchor">#</a> 附录：常用的 SQL 标准有哪些</h2> <p>在正式开始讲连接表的种类时，我们首先需要知道 SQL 存在不同版本的标准规范，因为不同规范下的表连接操作是有区别的。</p> <p>SQL 有两个主要的标准，分别是 <code>SQL92</code> 和 <code>SQL99</code>。92 和 99 代表了标准提出的时间，SQL92 就是 92 年提出的标准规范。当然除了 SQL92 和 SQL99 以外，还存在 SQL-86、SQL-89、SQL:2003、SQL:2008、SQL:2011 和 SQL:2016 等其他的标准。</p> <p>这么多标准，到底该学习哪个呢？<strong>实际上最重要的 SQL 标准就是 SQL92 和 SQL99</strong>。一般来说 SQL92 的形式更简单，但是写的 SQL 语句会比较长，可读性较差。而 SQL99 相比于 SQL92 来说，语法更加复杂，但可读性更强。我们从这两个标准发布的页数也能看出，SQL92 的标准有 500 页，而 SQL99 标准超过了 1000 页。实际上从 SQL99 之后，很少有人能掌握所有内容，因为确实太多了。就好比我们使用 Windows、Linux 和 Office 的时候，很少有人能掌握全部内容一样。我们只需要掌握一些核心的功能，满足日常工作的需求即可。</p> <p>**SQL92 和 SQL99 是经典的 SQL 标准，也分别叫做 SQL-2 和 SQL-3 标准。**也正是在这两个标准发布之后，SQL 影响力越来越大，甚至超越了数据库领域。现如今 SQL 已经不仅仅是数据库领域的主流语言，还是信息领域中信息处理的主流语言。在图形检索、图像检索以及语音检索中都能看到 SQL 语言的使用。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/app.73e52d88.js" defer></script><script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/3.536cd329.js" defer></script><script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/6.995a6a8f.js" defer></script>
  </body>
</html>

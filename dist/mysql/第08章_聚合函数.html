<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第08章_聚合函数 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/css/0.styles.6499bbea.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/app.4583570a.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/3.536cd329.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/9.431357e0.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/10.06f957c2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/11.514da0ec.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/12.80480d8f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/13.0465a000.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/14.b83a23cd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/15.fb92ef4c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/16.90f09959.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/17.687d2d86.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/18.af34c783.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/19.f4ca0fea.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/2.4ece67d3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/20.964d7281.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/21.fe33b713.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/22.89b8cec3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/23.677f425d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/24.27c0fae1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/25.b27df2e2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/26.fca3e023.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/27.0f8d0885.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/28.0889bd94.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/29.8fe053b9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/30.291882f8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/31.f120d148.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/32.550b9013.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/33.710092d6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/34.46b4d086.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/35.18ce08f6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/36.8594ef63.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/37.a743b037.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/38.6c17b358.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/39.9930c94c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/4.3914c1a3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/40.76a4645f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/41.3e8a1baa.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/42.8e480a15.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/43.e5869a53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/44.4c741e95.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/45.5f913a28.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/46.c9cfebb6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/47.e4ed51c3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/48.144fd8b6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/49.180208d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/5.a84db935.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/50.cbfd0dbb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/51.fd8525c2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/52.9511a869.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/53.13125be4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/54.94ca2b32.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/55.ee7f0be2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/56.d15b36b2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/57.f37c6373.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/58.a6888354.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/59.379d585c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/6.169cea82.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/60.b3cde43c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/61.9d314b0e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/62.4452d4de.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/63.f0ca4a38.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/64.2b1c40cb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/65.1729a6d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/66.410f45ae.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/67.d396d777.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/7.cb18a83d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/8.4425cf8b.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/css/0.styles.6499bbea.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dist/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/dist/typescript/typescript.html" class="sidebar-link">typescript</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自定义工具库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>发布NPM包</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dist/mysql/第00章_写在前面.html" class="sidebar-link">总纲</a></li><li><a href="/dist/mysql/第01章_数据库概述.html" class="sidebar-link">概述</a></li><li><a href="/dist/mysql/第02章_MySQL环境搭建.html" class="sidebar-link">环境搭建</a></li><li><a href="/dist/mysql/第03章_基本的SELECT语句.html" class="sidebar-link">基本的SELECT语句</a></li><li><a href="/dist/mysql/第04章_运算符.html" class="sidebar-link">运算符</a></li><li><a href="/dist/mysql/第05章_排序与分页.html" class="sidebar-link">排序与分页</a></li><li><a href="/dist/mysql/第06章_多表查询.html" class="sidebar-link">多表查询</a></li><li><a href="/dist/mysql/第07章_单行函数.html" class="sidebar-link">单行函数</a></li><li><a href="/dist/mysql/第08章_聚合函数.html" class="active sidebar-link">聚合函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_1-聚合函数介绍" class="sidebar-link">1. 聚合函数介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_1-1-avg和sum函数" class="sidebar-link">1.1 AVG和SUM函数</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_1-2-min和max函数" class="sidebar-link">1.2 MIN和MAX函数</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_1-3-count函数" class="sidebar-link">1.3 COUNT函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_2-group-by" class="sidebar-link">2. GROUP BY</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_2-1-基本使用" class="sidebar-link">2.1 基本使用</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_2-2-使用多个列分组" class="sidebar-link">2.2 使用多个列分组</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_2-3-group-by中使用with-rollup" class="sidebar-link">2.3 GROUP BY中使用WITH ROLLUP</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_3-having" class="sidebar-link">3. HAVING</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_3-1-基本使用" class="sidebar-link">3.1 基本使用</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_3-2-where和having的对比" class="sidebar-link">3.2 WHERE和HAVING的对比</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_4-select的执行过程" class="sidebar-link">4. SELECT的执行过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_4-1-查询的结构" class="sidebar-link">4.1 查询的结构</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_4-2-select执行顺序" class="sidebar-link">4.2 SELECT执行顺序</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第08章_聚合函数.html#_4-3-sql-的执行原理" class="sidebar-link">4.3 SQL 的执行原理</a></li></ul></li></ul></li><li><a href="/dist/mysql/第09章_子查询.html" class="sidebar-link">子查询</a></li><li><a href="/dist/mysql/第10章_创建和管理表.html" class="sidebar-link">创建和管理表</a></li><li><a href="/dist/mysql/第11章_数据处理之增删改.html" class="sidebar-link">数据处理之增删改</a></li><li><a href="/dist/mysql/第12章_MySQL数据类型精讲.html" class="sidebar-link">数据类型精讲</a></li><li><a href="/dist/mysql/第13章_约束.html" class="sidebar-link">约束</a></li><li><a href="/dist/mysql/第14章_视图.html" class="sidebar-link">视图</a></li><li><a href="/dist/mysql/第15章_存储过程与函数.html" class="sidebar-link">存储过程与函数</a></li><li><a href="/dist/mysql/第16章_变量、流程控制与游标.html" class="sidebar-link">变量、流程控制与游标</a></li><li><a href="/dist/mysql/第17章_触发器.html" class="sidebar-link">触发器</a></li><li><a href="/dist/mysql/第18章_MySQL8其它新特性.html" class="sidebar-link">MySQL8其它新特性</a></li></ul></section></li><li><a href="/dist/jdbc/jdbc.html" class="sidebar-link">JDBC</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第08章-聚合函数"><a href="#第08章-聚合函数" class="header-anchor">#</a> 第08章_聚合函数</h1> <p>我们上一章讲到了 SQL 单行函数。实际上 SQL 函数还有一类，叫做聚合（或聚集、分组）函数，它是对一组数据进行汇总的函数，输入的是一组数据的集合，输出的是单个值。</p> <h2 id="_1-聚合函数介绍"><a href="#_1-聚合函数介绍" class="header-anchor">#</a> 1. 聚合函数介绍</h2> <ul><li><strong>什么是聚合函数</strong></li></ul> <p>聚合函数作用于一组数据，并对一组数据返回一个值。</p> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554980924940.3db44958.png" alt="1554980924940"></p> <ul><li><p><strong>聚合函数类型</strong></p> <ul><li><strong>AVG()</strong></li> <li><strong>SUM()</strong></li> <li><strong>MAX()</strong></li> <li><strong>MIN()</strong></li> <li>**COUNT() **</li></ul></li> <li><p>聚合函数语法</p></li></ul> <p><img src="data:image/png;base64,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" alt="1554981029920"></p> <ul><li>聚合函数不能嵌套调用。比如不能出现类似“AVG(SUM(字段名称))”形式的调用。</li></ul> <h3 id="_1-1-avg和sum函数"><a href="#_1-1-avg和sum函数" class="header-anchor">#</a> 1.1 AVG和SUM函数</h3> <p>可以对<strong>数值型数据</strong>使用AVG 和 SUM 函数。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   employees
<span class="token keyword">WHERE</span>  job_id <span class="token operator">LIKE</span> <span class="token string">'%REP%'</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554981279723"></p> <h3 id="_1-2-min和max函数"><a href="#_1-2-min和max函数" class="header-anchor">#</a> 1.2 MIN和MAX函数</h3> <p>可以对<strong>任意数据类型</strong>的数据使用 MIN 和 MAX 函数。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>	  employees<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvkAAAA4CAYAAABnl+dAAAAFdElEQVR4nO3dX27aSBwH8MFu77C9wO4pGvPeHKPpKtoTtA+tiHqFVdRNDxOSK/GGgH1onRJnxn8oGGw+HwkpnvHYkxfry/hnM9lsNpsAAACMRnbsCQAAAPsl5AMAwMi8Kv+Yz+fHnAcAALCDh4eH8OnTp5Dn+VPbq+0diqLofVIAAMDuHh8fX7Qp1wEAgJF5FWuczWZ9zwOAFqbT6dNd15ubm+AFaQDn6eLiIhRFEbIsvmYfDfkhhHB5+eZgkwJgN4vF823XaoDztFhMavuV6wAAwMgI+QAAMDJCPgAAjEyyJh/24e//fv397UN9e9mW2k61le3fPrQbk9quSs03tQ/A2F3fhbD++az37VUI2aS+vW1f7Fixff99H8I/35vHpLarUv9Dah8YEiGfk1cG+Lr+faiG+th5hXqA/qUCeFfVUH999zLEC/WMhXIdelOG8X2F8m3CN0C/yuBdF8CbVtSr7alV/O19gXaEfAYh9cXgEF8YAOhPqsSmtK9VfDg3ynXoxXa9fGy7y9g2DhX+q8d1BwE4R7dXP2rjq9t9hvHru36O6w4CQyXkMxhdgnubh2abjh8L8EI9QDvVlfnbq3Qd/C7aPDQbm1PqGHVtMETKdRiEPsL1tw9CPMCY3V79uM4L8ZwDIZ9eDaGGvunVmgD80GYF/fru1xvLYvu2fd3lPvV5LjgWIZ/BsMoOMAzbwb28S1p+6t6mI3zD/gj59KYM6UMI66nV/HI1qvwAnKtqMB+a1BeK7TsPqbsPMASTzWazCSGE+XweiqIIIYQwm83C5eWbo04M2mr6sSwYk8Xir6dr9c3NTXj37o8jzwgOr/y12yF+mYBDWSz+DG/fXoQsy8LXr1/Dx48fQ57nT/1W8hkFq+oA46aEB7rxCk0Gb5f36O9T3bndYQD4feXrN4/l+nsI63W87/Z9CJklU06QkM8oHDNMC/IAh3d7dcRzvz/euWFX0ZA/nU7DYtH3VADooigK12oAoqIhv3yoC4DT5VoNQIoqMgAAGJnoSv5sNut7HgC0MJ1On71C8+dbkAE4MxcXF6EoipAlnvxOPnj75cuXg00KgN3M5/Nn258/fw6TiZeHA5ybx8fH2n7lOgAAMDJCPgAAjIyQDwAAI9M65FdrPieTSfTT9VipMV33ifXF5vU78wY4VVmWPbumrbd+njPP82RfnTzPo/vuq71pbrvOG4CWIT8WgjebzbNP2XYoXYL4ZDJ5Mb9yfN/zBji0LMvCarV6dm17/fp1WK/XIc/zsFwuo327KI+XOkZdoE8dq495A5ybxpBfBuZj2w7qAPyyXq9P5vq4Wq2EcYAT0Bjy2wT8U/ki0NVQ5w0AAHUG9eBt29X8cr/tjzAP0K2cJjZ2uVw+lQelVuyt5gMcX/LHsNo6xQAdm1O17RTnDbAP1TC+HezLAA7AuP12yI/ZXm3fd5AuV+mrgf1Q5wMYku2AX1qtVsl9t8N/6qfRt/fN8/xFe2xs+eViuVwmzwfA4fxWyE+thjetou9b12NbxQfGKBbw61SDdtP4WJivhv4u5wPgcI5ekx+rs28K4d60A/BclmXRgF6twe/6RaBpjNp8gNN0kHKdqmoorwb4pv42x2zqs3IPjFWWZWGz2bxYVV+tVtGa/LqV+i4lPG2Ux2xzvu1z1vUB0Kx1yG9TltN1fNv+VN8uY9rMBWBImlbKu5TJxPZtGl/2p/arG79rHwD1LIkAAMDICPkAADAyQj4AAIxMtCZ/Op2G+Xze91wA6KAoivDw8HDsaQBwgqIhvyiKvucBQEeu1QCkKNcBAICReVrJv7+/D/f398ecCwAAsAeTjZfGAwDAqCjXAQCAkRHyAQBgZIR8AAAYGSEfAABG5n802fnl2zJAcAAAAABJRU5ErkJggg==" alt="1554981253194"></p> <h3 id="_1-3-count函数"><a href="#_1-3-count函数" class="header-anchor">#</a> 1.3 COUNT函数</h3> <ul><li>COUNT(*)返回表中记录总数，适用于<strong>任意数据类型</strong>。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span>	  employees
<span class="token keyword">WHERE</span>  department_id <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvgAAAA2CAYAAACyX+0OAAADEklEQVR4nO3dQVLiQBQG4AdaZuUB5jKEA3iMsQav4MbiFGMNHgbkSLKJm8zCwlFMBENMMs33VVEVupPmLX+7XtpRWZZlAAAASRj3XQAAANAeAR8AABJyvr1YrVZ91gEAADTw+PgYt7e3cXZ2FhFvAn5ERJ7nvRQFAAA0s16v333XogMAAAk5rxqcz+dd1wEAABxoMplEnucxHn/cr68M+BERV1c/vrUoAACgmc1mVDunRQcAABIi4AMAQEIEfAAASEhtDz4A32e2iCjL92P31xGjUf09dfNvx3fH9t1z8/CxjrqaZouI3z//rVt1DUD/BHyAjtWF7tmiPpjvzjf5zapn768/r2t3brZ4P7ZvfQC6J+ADdKguRO8L2vfXx4f8Y9Xt5m+/AzAMevABTkRVW9BXn5stIn79eQn3Nw8v12/nmqwPQLvs4AOcgG2/fRvrVF0DMBwCPsAJ0UoDkD4tOgAnwkuwAKdBwAcAgIQI+AAd2j0Gc2v78mrVGfbb+bojLJv8PgDp0oMP0LG3R17ujlcdi1k1f+g6AJweAR+gB4ecQNPGPVXzdc98Nn7Iy7n+sAAYBi06AByk7px7598DDIuAD8Be+3bn7d4DDIcWHQAO8tXWHgD6URnwp9NpbDZdlwIAAByrMuDned51HQAAQAv04AMAQEIqd/Dn83nXdQAAAAeaTCaR53mMxx/362tfsr27u/vWogAAgGbW63XtnBYdAABIiIAPAAAJEfABACAhAj4AAAxAlmUxGo3efZ6fn7+8jv9kCwAAA1EURVxcXBy1hh18AABIiIAPAAA9y7Isnp6ejt69jxDwAQBgEHZ78Jv030cI+AAAMAhFUURZlq+fy8tLL9kCAMD/qCiK1taygw8AAAkR8AEAoGdZljXuud+lRQcAAHpWFMWHkN/0THwBHwAABqCtPnwtOgAAkBABHwAAEiLgAwBAQip78KfTaaxWq65rAQAAjlQZ8PM877oOAACgBVp0AAAgIa87+MvlMpbLZZ+1AAAARxqVZVn2XQQAANAOLToAAJAQAR8AABLyFxvZ63TS05NiAAAAAElFTkSuQmCC" alt="1554981241299"></p> <ul><li>COUNT(expr) 返回<strong>expr不为空</strong>的记录总数。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   employees
<span class="token keyword">WHERE</span>  department_id <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvkAAAA3CAYAAACWwVWVAAAETUlEQVR4nO3dTVbiaBQG4Av2kZELqA30Loq4AJdR2tQSdOLhHPcgbdViQJekE5ykByUaQ8JPiBC+fp5zGJBcw41M3nzexF6e53kAAADJ6B+6AQAAoF1CPgAAJEbIBwCAxPxVfDObzQ7VBwAA0NDj42Pc3NzEyclJRJRCfkRElmV7bwoAAGju6enp03vjOgAAkJillfyF8Xi8zz4AAIAtDIfDyLIs+v3ldfvakB8RcXHx7cuaAgAAmnt56dXuM64DAACJEfIBACAxQj4AACRm5Uw+wKGMHiLy0rbJVURvRU3d/uL28rZ1NT8r+qjrafQr4v5HRK/38T4v/fDk8mN/Vc2q/cV9Vdub1NbVbdpv3Wc1Pc9NjlWlqq+qz1l1Dj9/Vx9j3fEAushKPtA5xZD979urGMirasr7m35mWbmHum2jh88BsRhQ32tLQbxcU96/T0363bTnbc5z1/Nf19uqc7j/8XnbJscD6CohH+iUqpX1iOowPykF712D/q5WrZIv9pfDYrGmakW+aLF9k6C5Te2q8ykG3iY1Tc7zq2zyvaxiFR84JkI+wJumFwiHvLBo2zYXEIfs4ZC63h9AhJAPEBHLfznomqrV57pV5W1qq2pGvyL+eVgOspvU7MpqOUA7hHyAgpRW5be17U22dTVtaHrcxcXH4gLERQPwfyXkA7zp+mr+PpTn0+uC/rqaXXtoGsyLN8puMmcPkCohH+CIbBOod73p1o2oAMdLyAc6pe4pOaPFCEZNTd1TeZp+/i7qnh5TnGOvqtnmufBt22TGvskcftPz/IrfwSbfC0Aq/DMsoHMmV39C++hheXtvRU3VYzfXHeerTC7/hMfRr+XtxUdJlmvWBd/yP9xa9/mb1O7S77qe637uUH8FaHoOAMeml+cfaxez2SyyLIuIiPF4HBcX3w7WGMAxGT1E3AuKydvmwgngq728/B3fvw+j3+/H3d1dXF9fx8nJSUQY1wFojeenp833CxwT4zoALZhcLY+A0J5VAXufozbGeoBjIeQDtGRyeegO0tWF320XegDYVG3IPz8/j5eXfbYCAAC0oTbkL27ABQAAjosbbwEAIDG1K/nj8XiffQAAAFsYDoeRZVn0+8vr9itvvL29vf2ypgAAgOaenp5q9xnXAQCAxAj5AACQGCEfAAASI+QDAEBHDAaD6PV676/X19dGxxHyAQCgAwaDQTw/P0ee5++vs7OzRkF/5dN1AACA/ZjP560dy0o+AAAkxko+AAB0yGAweB/Rmc/ncXp6uvUxrOQDAECHzOfznWfyhXwAAEiMkA8AAIkR8gEAoAOKs/i7cuMtAAB0wHw+Xwr6TW+8FfIBAKAj2npWvnEdAABIjJAPAACJEfIBACAxtTP55+fnMZvN9tkLAADQgtqQn2XZPvsAAABaYlwHAAAS82klfzqdxnQ6PVQvAABAC3p5nueHbgIAAGiPcR0AAEiMkA8AAIn5D2s+GWNVt7reAAAAAElFTkSuQmCC" alt="1554981328678"></p> <ul><li><p><strong>问题：用count(*)，count(1)，count(列名)谁好呢?</strong></p> <p>其实，对于MyISAM引擎的表是没有区别的。这种引擎内部有一计数器在维护着行数。</p> <p>Innodb引擎的表用count(*),count(1)直接读行数，复杂度是O(n)，因为innodb真的要去数一遍。但好于具体的count(列名)。</p></li> <li><p><strong>问题：能不能使用count(列名)替换count(*)?</strong></p> <p>不要使用 count(列名)来替代 <code>count(*)</code>，<code>count(*)</code>是 SQL92 定义的标准统计行数的语法，跟数据库无关，跟 NULL 和非 NULL 无关。</p> <p>说明：count(*)会统计值为 NULL 的行，而 count(列名)不会统计此列为 NULL 值的行。</p></li></ul> <h2 id="_2-group-by"><a href="#_2-group-by" class="header-anchor">#</a> 2. GROUP BY</h2> <h3 id="_2-1-基本使用"><a href="#_2-1-基本使用" class="header-anchor">#</a> 2.1 基本使用</h3> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554981374920.265f4374.png" alt="1554981374920"></p> <p><strong>可以使用GROUP BY子句将表中的数据分成若干组</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token punctuation">,</span> group_function<span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> <span class="token keyword">table</span>
<span class="token punctuation">[</span><span class="token keyword">WHERE</span>	condition<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span>	group_by_expression<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span>	<span class="token keyword">column</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><strong>明确：WHERE一定放在FROM后面</strong></p></blockquote> <p><strong>在SELECT列表中所有未包含在组函数中的列都应该包含在 GROUP BY子句中</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>   department_id<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>     employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554981539408"></p> <p><img src="data:image/png;base64,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" alt="1554981544191"></p> <p>包含在 GROUP BY 子句中的列不必包含在SELECT 列表中</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>   <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>     employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554981574152"></p> <h3 id="_2-2-使用多个列分组"><a href="#_2-2-使用多个列分组" class="header-anchor">#</a> 2.2 使用多个列分组</h3> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554981607442.95fb7aa9.png" alt="1554981607442"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>   department_id dept_id<span class="token punctuation">,</span> job_id<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>     employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">,</span> job_id <span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554981624864"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwMAAAAWCAYAAACc0UCWAAABdklEQVR4nO3cwW6DMAwAUDL1/3+ZHSYqRkniUFhY857UQ5ExtCfbCaR5nucJAAAYzlfvGwAAAPrQDAAAwKA0AwAAMCjNAAAADEozAAAAg3ppBlJKL0EppV+fT9P7N/W+PgAAY3qsv+Qage3bR/eOjc5/AgDAf/NcGcgVswpcAAD4TM+VgbOK/qWpWDcX6xWH9bH1NUvf984vXT8XG83TmmM5tvcbank0WwAA9PKoh/xoLcijRX/kutHzaw1FJM+RHNvmpyWP5wUAAOgl/DahpehdCt9abCTfdqKem7C35j4Se8QZ+a0MAADQS3hloJdt81Eqnmux0Sn8WdN6U38AAO7s9s3ANE1N24xKsdEp/FnTelN/AADurLpN6Mrp9navfW7vfdQVsaW4q+4NAAD+QnVlYO8ZgdZ9+y0PH79zfik2muedHHuNTSRPLgcAAFwpzSpPAAAYUvhtQgAAwGfRDAAAwKA0AwAAMCjNAAAADEozAAAAg/oG3CUELB6tEycAAAAASUVORK5CYII=" alt="1554981629733"></p> <h3 id="_2-3-group-by中使用with-rollup"><a href="#_2-3-group-by中使用with-rollup" class="header-anchor">#</a> 2.3 GROUP BY中使用WITH ROLLUP</h3> <p>使用<code>WITH ROLLUP</code>关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">&gt;</span> <span class="token number">80</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token keyword">WITH ROLLUP</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>注意：</p> <p>当使用ROLLUP时，不能同时使用ORDER BY子句进行结果排序，即ROLLUP和ORDER BY是互相排斥的。</p></blockquote> <h2 id="_3-having"><a href="#_3-having" class="header-anchor">#</a> 3. HAVING</h2> <h3 id="_3-1-基本使用"><a href="#_3-1-基本使用" class="header-anchor">#</a> 3.1 基本使用</h3> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554981656798.91b88bc7.png" alt="1554981656798"></p> <p><strong>过滤分组：HAVING子句</strong></p> <ol><li>行已经被分组。</li> <li>使用了聚合函数。</li> <li>满足HAVING 子句中条件的分组将被显示。</li> <li>HAVING 不能单独使用，必须要跟 GROUP BY 一起使用。</li></ol> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1554981808091.508bf130.png" alt="1554981808091"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>   department_id<span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>     employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">HAVING</span>   <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">10000</span> <span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554981824564"></p> <ul><li>**非法使用聚合函数 ： 不能在 WHERE 子句中使用聚合函数。**如下：</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>   department_id<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>     employees
<span class="token keyword">WHERE</span>    <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">8000</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1554981724375"></p> <h3 id="_3-2-where和having的对比"><a href="#_3-2-where和having的对比" class="header-anchor">#</a> 3.2 WHERE和HAVING的对比</h3> <p><strong>区别1：WHERE 可以直接使用表中的字段作为筛选条件，但不能使用分组中的计算函数作为筛选条件；HAVING 必须要与 GROUP BY 配合使用，可以把分组计算的函数和分组字段作为筛选条件。</strong></p> <p>这决定了，在需要对数据进行分组统计的时候，HAVING 可以完成 WHERE 不能完成的任务。这是因为，在查询语法结构中，WHERE 在 GROUP BY 之前，所以无法对分组结果进行筛选。HAVING 在 GROUP BY 之后，可以使用分组字段和分组中的计算函数，对分组的结果集进行筛选，这个功能是 WHERE 无法完成的。另外，WHERE排除的记录不再包括在分组中。</p> <p><strong>区别2：如果需要通过连接从关联表中获取需要的数据，WHERE 是先筛选后连接，而 HAVING 是先连接后筛选。</strong> 这一点，就决定了在关联查询中，WHERE 比 HAVING 更高效。因为 WHERE 可以先筛选，用一个筛选后的较小数据集和关联表进行连接，这样占用的资源比较少，执行效率也比较高。HAVING 则需要先把结果集准备好，也就是用未被筛选的数据集进行关联，然后对这个大的数据集进行筛选，这样占用的资源就比较多，执行效率也较低。</p> <p>小结如下：</p> <table><thead><tr><th></th> <th>优点</th> <th>缺点</th></tr></thead> <tbody><tr><td>WHERE</td> <td>先筛选数据再关联，执行效率高</td> <td>不能使用分组中的计算函数进行筛选</td></tr> <tr><td>HAVING</td> <td>可以使用分组中的计算函数</td> <td>在最后的结果集中进行筛选，执行效率较低</td></tr></tbody></table> <p><strong>开发中的选择：</strong></p> <p>WHERE 和 HAVING 也不是互相排斥的，我们可以在一个查询里面同时使用 WHERE 和 HAVING。包含分组统计函数的条件用 HAVING，普通条件用 WHERE。这样，我们就既利用了 WHERE 条件的高效快速，又发挥了 HAVING 可以使用包含分组统计函数的查询条件的优点。当数据量特别大的时候，运行效率会有很大的差别。</p> <h2 id="_4-select的执行过程"><a href="#_4-select的执行过程" class="header-anchor">#</a> 4. SELECT的执行过程</h2> <h3 id="_4-1-查询的结构"><a href="#_4-1-查询的结构" class="header-anchor">#</a> 4.1 查询的结构</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#方式1：</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> 多表的连接条件
<span class="token operator">AND</span> 不包含组函数的过滤条件
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">HAVING</span> 包含组函数的过滤条件
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">#方式2：</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">JOIN</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">ON</span> 多表的连接条件
<span class="token keyword">JOIN</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">ON</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> 不包含组函数的过滤条件
<span class="token operator">AND</span><span class="token operator">/</span><span class="token operator">OR</span> 不包含组函数的过滤条件
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">HAVING</span> 包含组函数的过滤条件
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">#其中：</span>
<span class="token comment">#（1）from：从哪些表中筛选</span>
<span class="token comment">#（2）on：关联多表查询时，去除笛卡尔积</span>
<span class="token comment">#（3）where：从表中筛选的条件</span>
<span class="token comment">#（4）group by：分组依据</span>
<span class="token comment">#（5）having：在统计结果中再次筛选</span>
<span class="token comment">#（6）order by：排序</span>
<span class="token comment">#（7）limit：分页</span>
</code></pre></div><h3 id="_4-2-select执行顺序"><a href="#_4-2-select执行顺序" class="header-anchor">#</a> 4.2 SELECT执行顺序</h3> <p>你需要记住 SELECT 查询时的两个顺序：</p> <p><strong>1. 关键字的顺序是不能颠倒的：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>SELECT ... FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY ... LIMIT...
</code></pre></div><p><strong>2.SELECT 语句的执行顺序</strong>（在 MySQL 和 Oracle 中，SELECT 执行顺序基本相同）：</p> <div class="language- extra-class"><pre class="language-text"><code>FROM -&gt; WHERE -&gt; GROUP BY -&gt; HAVING -&gt; SELECT 的字段 -&gt; DISTINCT -&gt; ORDER BY -&gt; LIMIT
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1566872301088.532c5d20.png" alt="1566872301088"></p> <p>比如你写了一个 SQL 语句，那么它的关键字顺序和执行顺序是下面这样的：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> player_id<span class="token punctuation">,</span> player_name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> num <span class="token comment"># 顺序 5</span>
<span class="token keyword">FROM</span> player <span class="token keyword">JOIN</span> team <span class="token keyword">ON</span> player<span class="token punctuation">.</span>team_id <span class="token operator">=</span> team<span class="token punctuation">.</span>team_id <span class="token comment"># 顺序 1</span>
<span class="token keyword">WHERE</span> height <span class="token operator">&gt;</span> <span class="token number">1.80</span> <span class="token comment"># 顺序 2</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> player<span class="token punctuation">.</span>team_id <span class="token comment"># 顺序 3</span>
<span class="token keyword">HAVING</span> num <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token comment"># 顺序 4</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> num <span class="token keyword">DESC</span> <span class="token comment"># 顺序 6</span>
<span class="token keyword">LIMIT</span> <span class="token number">2</span> <span class="token comment"># 顺序 7</span>
</code></pre></div><p>在 SELECT 语句执行这些步骤的时候，每个步骤都会产生一个<code>虚拟表</code>，然后将这个虚拟表传入下一个步骤中作为输入。需要注意的是，这些步骤隐含在 SQL 的执行过程中，对于我们来说是不可见的。</p> <h3 id="_4-3-sql-的执行原理"><a href="#_4-3-sql-的执行原理" class="header-anchor">#</a> 4.3 SQL 的执行原理</h3> <p>SELECT 是先执行 FROM 这一步的。在这个阶段，如果是多张表联查，还会经历下面的几个步骤：</p> <ol><li>首先先通过 CROSS JOIN 求笛卡尔积，相当于得到虚拟表 vt（virtual table）1-1；</li> <li>通过 ON 进行筛选，在虚拟表 vt1-1 的基础上进行筛选，得到虚拟表 vt1-2；</li> <li>添加外部行。如果我们使用的是左连接、右链接或者全连接，就会涉及到外部行，也就是在虚拟表 vt1-2 的基础上增加外部行，得到虚拟表 vt1-3。</li></ol> <p>当然如果我们操作的是两张以上的表，还会重复上面的步骤，直到所有表都被处理完为止。这个过程得到是我们的原始数据。</p> <p>当我们拿到了查询数据表的原始数据，也就是最终的虚拟表 <code>vt1</code>，就可以在此基础上再进行 <code>WHERE 阶段</code>。在这个阶段中，会根据 vt1 表的结果进行筛选过滤，得到虚拟表 <code>vt2</code>。</p> <p>然后进入第三步和第四步，也就是 <code>GROUP 和 HAVING 阶段</code>。在这个阶段中，实际上是在虚拟表 vt2 的基础上进行分组和分组过滤，得到中间的虚拟表 <code>vt3</code> 和 <code>vt4</code>。</p> <p>当我们完成了条件筛选部分之后，就可以筛选表中提取的字段，也就是进入到 <code>SELECT 和 DISTINCT 阶段</code>。</p> <p>首先在 SELECT 阶段会提取想要的字段，然后在 DISTINCT 阶段过滤掉重复的行，分别得到中间的虚拟表 <code>vt5-1</code> 和 <code>vt5-2</code>。</p> <p>当我们提取了想要的字段数据之后，就可以按照指定的字段进行排序，也就是 <code>ORDER BY 阶段</code>，得到虚拟表 <code>vt6</code>。</p> <p>最后在 vt6 的基础上，取出指定行的记录，也就是 <code>LIMIT 阶段</code>，得到最终的结果，对应的是虚拟表 <code>vt7</code>。</p> <p>当然我们在写 SELECT 语句的时候，不一定存在所有的关键字，相应的阶段就会省略。</p> <p>同时因为 SQL 是一门类似英语的结构化查询语言，所以我们在写 SELECT 语句的时候，还要注意相应的关键字顺序，<strong>所谓底层运行的原理，就是我们刚才讲到的执行顺序。</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/app.4583570a.js" defer></script><script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/3.536cd329.js" defer></script><script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/9.431357e0.js" defer></script>
  </body>
</html>

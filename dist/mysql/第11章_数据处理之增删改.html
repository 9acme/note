<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第11章_数据处理之增删改 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/css/0.styles.6499bbea.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/app.73e52d88.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/3.536cd329.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/20.04ace2cc.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/10.d58ccbec.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/11.b3c4989d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/12.b14344c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/13.81bff849.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/14.703bc39f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/15.a2ade047.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/16.edfb25ac.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/17.1b2735f1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/18.94197a05.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/19.a0b43549.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/2.99d15e50.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/21.ea1ef9d2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/22.a24a0de9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/23.c0ce6a35.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/24.ff881fc4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/25.d8f2de5e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/26.fca3e023.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/27.0f8d0885.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/28.0889bd94.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/29.e714b390.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/30.291882f8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/31.4918020e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/32.042c4bc5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/33.01b01362.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/34.491c0db7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/35.18ce08f6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/36.5e2336f3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/37.a743b037.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/38.45e42ba5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/39.9930c94c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/4.31546521.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/40.76a4645f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/41.3e8a1baa.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/42.8e480a15.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/43.e5869a53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/44.4c741e95.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/45.73009c1d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/46.c9cfebb6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/47.701926a7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/48.50c642f3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/49.180208d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/5.22910901.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/50.cbfd0dbb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/51.fd8525c2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/52.9511a869.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/53.13125be4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/54.94ca2b32.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/55.ee7f0be2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/56.ce6da91b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/57.d3bd02f5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/58.a6888354.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/59.99ee6835.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/6.995a6a8f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/60.d25881d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/61.45cf720b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/62.e3157c4a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/63.0c2ee505.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/64.64e6c5e4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/65.1729a6d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/66.da0dcdb8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/67.d396d777.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/7.9c473912.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/8.b6d6dac1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/9.f58a3a75.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/css/0.styles.6499bbea.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dist/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/dist/typescript/typescript.html" class="sidebar-link">typescript</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自定义工具库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>发布NPM包</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dist/mysql/第00章_写在前面.html" class="sidebar-link">总纲</a></li><li><a href="/dist/mysql/第01章_数据库概述.html" class="sidebar-link">概述</a></li><li><a href="/dist/mysql/第02章_MySQL环境搭建.html" class="sidebar-link">环境搭建</a></li><li><a href="/dist/mysql/第03章_基本的SELECT语句.html" class="sidebar-link">基本的SELECT语句</a></li><li><a href="/dist/mysql/第04章_运算符.html" class="sidebar-link">运算符</a></li><li><a href="/dist/mysql/第05章_排序与分页.html" class="sidebar-link">排序与分页</a></li><li><a href="/dist/mysql/第06章_多表查询.html" class="sidebar-link">多表查询</a></li><li><a href="/dist/mysql/第07章_单行函数.html" class="sidebar-link">单行函数</a></li><li><a href="/dist/mysql/第08章_聚合函数.html" class="sidebar-link">聚合函数</a></li><li><a href="/dist/mysql/第09章_子查询.html" class="sidebar-link">子查询</a></li><li><a href="/dist/mysql/第10章_创建和管理表.html" class="sidebar-link">创建和管理表</a></li><li><a href="/dist/mysql/第11章_数据处理之增删改.html" class="active sidebar-link">数据处理之增删改</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_1-插入数据" class="sidebar-link">1. 插入数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_1-1-实际问题" class="sidebar-link">1.1 实际问题</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_1-2-方式1-values的方式添加" class="sidebar-link">1.2 方式1：VALUES的方式添加</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_1-3-方式2-将查询结果插入到表中" class="sidebar-link">1.3 方式2：将查询结果插入到表中</a></li></ul></li><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_2-更新数据" class="sidebar-link">2. 更新数据</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_3-删除数据" class="sidebar-link">3. 删除数据</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_4-mysql8新特性-计算列" class="sidebar-link">4. MySQL8新特性：计算列</a></li><li class="sidebar-sub-header"><a href="/dist/mysql/第11章_数据处理之增删改.html#_5-综合案例" class="sidebar-link">5. 综合案例</a></li></ul></li><li><a href="/dist/mysql/第12章_MySQL数据类型精讲.html" class="sidebar-link">数据类型精讲</a></li><li><a href="/dist/mysql/第13章_约束.html" class="sidebar-link">约束</a></li><li><a href="/dist/mysql/第14章_视图.html" class="sidebar-link">视图</a></li><li><a href="/dist/mysql/第15章_存储过程与函数.html" class="sidebar-link">存储过程与函数</a></li><li><a href="/dist/mysql/第16章_变量、流程控制与游标.html" class="sidebar-link">变量、流程控制与游标</a></li><li><a href="/dist/mysql/第17章_触发器.html" class="sidebar-link">触发器</a></li><li><a href="/dist/mysql/第18章_MySQL8其它新特性.html" class="sidebar-link">MySQL8其它新特性</a></li></ul></section></li><li><a href="/dist/jdbc/jdbc.html" class="sidebar-link">JDBC</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第11章-数据处理之增删改"><a href="#第11章-数据处理之增删改" class="header-anchor">#</a> 第11章_数据处理之增删改</h1> <h2 id="_1-插入数据"><a href="#_1-插入数据" class="header-anchor">#</a> 1. 插入数据</h2> <h3 id="_1-1-实际问题"><a href="#_1-1-实际问题" class="header-anchor">#</a> 1.1 实际问题</h3> <img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1555425366064.7aeb30db.png" alt="1555425366064" style="zoom:80%;"> <p>解决方式：使用 INSERT 语句向表中插入数据。</p> <h3 id="_1-2-方式1-values的方式添加"><a href="#_1-2-方式1-values的方式添加" class="header-anchor">#</a> 1.2 方式1：VALUES的方式添加</h3> <p>使用这种语法一次只能向表中插入<strong>一条</strong>数据。</p> <p><strong>情况1：为表的所有字段按默认顺序插入数据</strong></p> <div class="language- extra-class"><pre class="language-text"><code>INSERT INTO 表名
VALUES (value1,value2,....);
</code></pre></div><p>值列表中需要为表的每一个字段指定值，并且值的顺序必须和数据表中字段定义时的顺序相同。</p> <p>举例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> departments
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token string">'Pub'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1700</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span>	departments
<span class="token keyword">VALUES</span>		<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'Finance'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>情况2：为表的指定字段插入数据</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名<span class="token punctuation">(</span>column1 <span class="token punctuation">[</span><span class="token punctuation">,</span> column2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> columnn<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span>value1 <span class="token punctuation">[</span><span class="token punctuation">,</span>value2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> valuen<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>为表的指定字段插入数据，就是在INSERT语句中只向部分字段中插入值，而其他字段的值为表定义时的默认值。</p> <p>在 INSERT 子句中随意列出列名，但是一旦列出，VALUES中要插入的value1,....valuen需要与column1,...columnn列一一对应。如果类型不同，将无法插入，并且MySQL会产生错误。</p> <p>举例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> departments<span class="token punctuation">(</span>department_id<span class="token punctuation">,</span> department_name<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">'IT'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>情况3：同时插入多条记录</strong></p> <p>INSERT语句可以同时向数据表中插入多条记录，插入时指定多个值列表，每个值列表之间用逗号分隔开，基本语法格式如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span>value1 <span class="token punctuation">[</span><span class="token punctuation">,</span>value2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> valuen<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span>value1 <span class="token punctuation">[</span><span class="token punctuation">,</span>value2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> valuen<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
……
<span class="token punctuation">(</span>value1 <span class="token punctuation">[</span><span class="token punctuation">,</span>value2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> valuen<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>或者</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name<span class="token punctuation">(</span>column1 <span class="token punctuation">[</span><span class="token punctuation">,</span> column2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> columnn<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span>value1 <span class="token punctuation">[</span><span class="token punctuation">,</span>value2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> valuen<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span>value1 <span class="token punctuation">[</span><span class="token punctuation">,</span>value2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> valuen<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
……
<span class="token punctuation">(</span>value1 <span class="token punctuation">[</span><span class="token punctuation">,</span>value2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> valuen<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>举例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>emp_id<span class="token punctuation">,</span>emp_name<span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token string">'shkstart'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">1002</span><span class="token punctuation">,</span><span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">1003</span><span class="token punctuation">,</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">3</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
</code></pre></div><p>使用INSERT同时插入多条记录时，MySQL会返回一些在执行单行插入时没有的额外信息，这些信息的含义如下：
●　Records：表明插入的记录条数。
●　Duplicates：表明插入时被忽略的记录，原因可能是这些记录包含了重复的主键值。
●　Warnings：表明有问题的数据值，例如发生数据类型转换。</p> <blockquote><p>一个同时插入多行记录的INSERT语句等同于多个单行插入的INSERT语句，但是多行的INSERT语句在处理过程中<code>效率更高</code>。因为MySQL执行单条INSERT语句插入多行数据比使用多条INSERT语句快，所以在插入多条记录时最好选择使用单条INSERT语句的方式插入。</p></blockquote> <p><strong>小结：</strong></p> <ul><li><p><code>VALUES</code>也可以写成<code>VALUE</code>，但是VALUES是标准写法。</p></li> <li><p>字符和日期型数据应包含在单引号中。</p></li></ul> <h3 id="_1-3-方式2-将查询结果插入到表中"><a href="#_1-3-方式2-将查询结果插入到表中" class="header-anchor">#</a> 1.3 方式2：将查询结果插入到表中</h3> <p>INSERT还可以将SELECT语句查询的结果插入到表中，此时不需要把每一条记录的值一个一个输入，只需要使用一条INSERT语句和一条SELECT语句组成的组合语句即可快速地从一个或多个表中向一个表中插入多行。</p> <p>基本语法格式如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 目标表名
<span class="token punctuation">(</span>tar_column1 <span class="token punctuation">[</span><span class="token punctuation">,</span> tar_column2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> tar_columnn<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span>
<span class="token punctuation">(</span>src_column1 <span class="token punctuation">[</span><span class="token punctuation">,</span> src_column2<span class="token punctuation">,</span> …<span class="token punctuation">,</span> src_columnn<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> 源表名
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> condition<span class="token punctuation">]</span>
</code></pre></div><ul><li>在 INSERT 语句中加入子查询。</li> <li><strong>不必书写</strong> <strong>VALUES</strong> <strong>子句。</strong></li> <li>子查询中的值列表应与 INSERT 子句中的列名对应。</li></ul> <p>举例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp2
<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> sales_reps<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> commission_pct<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span> last_name<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> commission_pct
<span class="token keyword">FROM</span>   employees
<span class="token keyword">WHERE</span>  job_id <span class="token operator">LIKE</span> <span class="token string">'%REP%'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_2-更新数据"><a href="#_2-更新数据" class="header-anchor">#</a> 2. 更新数据</h2> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1555425824246.a2038e0e.png" alt="1555425824246"></p> <ul><li>使用 UPDATE 语句更新数据。语法如下：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>UPDATE table_name
SET column1=value1, column2=value2, … , column=valuen
[WHERE condition]
</code></pre></div><ul><li><p>可以一次更新<strong>多条</strong>数据。</p></li> <li><p>如果需要回滚数据，需要保证在DML前，进行设置：<strong>SET AUTOCOMMIT = FALSE;</strong></p></li></ul> <hr> <ul><li>使用 <strong>WHERE</strong> 子句指定需要更新的数据。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span>    department_id <span class="token operator">=</span> <span class="token number">70</span>
<span class="token keyword">WHERE</span>  employee_id <span class="token operator">=</span> <span class="token number">113</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>如果省略 WHERE 子句，则表中的所有数据都将被更新。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> 	copy_emp
<span class="token keyword">SET</span>    	department_id <span class="token operator">=</span> <span class="token number">110</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>更新中的数据完整性错误</strong></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span>    department_id <span class="token operator">=</span> <span class="token number">55</span>
<span class="token keyword">WHERE</span>  department_id <span class="token operator">=</span> <span class="token number">110</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1555426069578.79111a78.png" alt="1555426069578"></p> <blockquote><p>说明：不存在 55 号部门</p></blockquote> <h2 id="_3-删除数据"><a href="#_3-删除数据" class="header-anchor">#</a> 3. 删除数据</h2> <p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1555426124751.e322acd6.png" alt="1555426124751"></p> <ul><li>使用 DELETE 语句从表中删除数据</li></ul> <p><img src="data:image/png;base64,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" alt="1555426162264"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name <span class="token punctuation">[</span><span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>condition<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>table_name指定要执行删除操作的表；<code>“[WHERE &lt;condition&gt;]”</code>为可选参数，指定删除条件，如果没有WHERE子句，DELETE语句将删除表中的所有记录。</p> <ul><li>使用 WHERE 子句删除指定的记录。</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> departments
<span class="token keyword">WHERE</span>  department_name <span class="token operator">=</span> <span class="token string">'Finance'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>如果省略 WHERE 子句，则表中的全部数据将被删除</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span>  copy_emp<span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>删除中的数据完整性错误</strong></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> departments
<span class="token keyword">WHERE</span>       department_id <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/img/1555426258516.16cd3690.png" alt="1555426258516"></p> <blockquote><p>说明：You cannot delete a row that contains a primary key that is used as a foreign key in another table.</p></blockquote> <h2 id="_4-mysql8新特性-计算列"><a href="#_4-mysql8新特性-计算列" class="header-anchor">#</a> 4. MySQL8新特性：计算列</h2> <p>什么叫计算列呢？简单来说就是某一列的值是通过别的列计算得来的。例如，a列值为1、b列值为2，c列不需要手动插入，定义a+b的结果为c的值，那么c就是计算列，是通过别的列计算得来的。</p> <p>在MySQL 8.0中，CREATE TABLE 和 ALTER TABLE 中都支持增加计算列。下面以CREATE TABLE为例进行讲解。</p> <p>举例：定义数据表tb1，然后定义字段id、字段a、字段b和字段c，其中字段c为计算列，用于计算a+b的值。
首先创建测试表tb1，语句如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tb1<span class="token punctuation">(</span>
id <span class="token keyword">INT</span><span class="token punctuation">,</span>
a <span class="token keyword">INT</span><span class="token punctuation">,</span>
b <span class="token keyword">INT</span><span class="token punctuation">,</span>
c <span class="token keyword">INT</span> GENERATED ALWAYS <span class="token keyword">AS</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> VIRTUAL
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>插入演示数据，语句如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tb1<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>查询数据表tb1中的数据，结果如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tb1<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> a    <span class="token operator">|</span> b    <span class="token operator">|</span> c    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+------+</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">100</span> <span class="token operator">|</span>  <span class="token number">200</span> <span class="token operator">|</span>  <span class="token number">300</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><p>更新数据中的数据，语句如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">UPDATE</span> tb1 <span class="token keyword">SET</span> a <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">1</span>  Changed: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
</code></pre></div><h2 id="_5-综合案例"><a href="#_5-综合案例" class="header-anchor">#</a> 5. 综合案例</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 1、创建数据库test01_library</span>

<span class="token comment"># 2、创建表 books，表结构如下：</span>
</code></pre></div><table><thead><tr><th>字段名</th> <th>字段说明</th> <th>数据类型</th></tr></thead> <tbody><tr><td>id</td> <td>书编号</td> <td>INT</td></tr> <tr><td>name</td> <td>书名</td> <td>VARCHAR(50)</td></tr> <tr><td>authors</td> <td>作者</td> <td>VARCHAR(100)</td></tr> <tr><td>price</td> <td>价格</td> <td>FLOAT</td></tr> <tr><td>pubdate</td> <td>出版日期</td> <td>YEAR</td></tr> <tr><td>note</td> <td>说明</td> <td>VARCHAR(100)</td></tr> <tr><td>num</td> <td>库存</td> <td>INT</td></tr></tbody></table> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 3、向books表中插入记录</span>

<span class="token comment"># 1）不指定字段名称，插入第一条记录</span>
<span class="token comment"># 2）指定所有字段名称，插入第二记录</span>
<span class="token comment"># 3）同时插入多条记录（剩下的所有记录）</span>
</code></pre></div><table><thead><tr><th>id</th> <th>name</th> <th>authors</th> <th>price</th> <th>pubdate</th> <th>note</th> <th>num</th></tr></thead> <tbody><tr><td>1</td> <td>Tal of AAA</td> <td>Dickes</td> <td>23</td> <td>1995</td> <td>novel</td> <td>11</td></tr> <tr><td>2</td> <td>EmmaT</td> <td>Jane lura</td> <td>35</td> <td>1993</td> <td>joke</td> <td>22</td></tr> <tr><td>3</td> <td>Story of Jane</td> <td>Jane Tim</td> <td>40</td> <td>2001</td> <td>novel</td> <td>0</td></tr> <tr><td>4</td> <td>Lovey Day</td> <td>George Byron</td> <td>20</td> <td>2005</td> <td>novel</td> <td>30</td></tr> <tr><td>5</td> <td>Old land</td> <td>Honore Blade</td> <td>30</td> <td>2010</td> <td>law</td> <td>0</td></tr> <tr><td>6</td> <td>The Battle</td> <td>Upton Sara</td> <td>30</td> <td>1999</td> <td>medicine</td> <td>40</td></tr> <tr><td>7</td> <td>Rose Hood</td> <td>Richard haggard</td> <td>28</td> <td>2008</td> <td>cartoon</td> <td>28</td></tr></tbody></table> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 4、将小说类型(novel)的书的价格都增加5。</span>

<span class="token comment"># 5、将名称为EmmaT的书的价格改为40，并将说明改为drama。</span>

<span class="token comment"># 6、删除库存为0的记录。</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 7、统计书名中包含a字母的书</span>

<span class="token comment"># 8、统计书名中包含a字母的书的数量和库存总量</span>

<span class="token comment"># 9、找出“novel”类型的书，按照价格降序排列</span>

<span class="token comment"># 10、查询图书信息，按照库存量降序排列，如果库存量相同的按照note升序排列</span>

<span class="token comment"># 11、按照note分类统计书的数量</span>

<span class="token comment"># 12、按照note分类统计书的库存量，显示库存量超过30本的</span>

<span class="token comment"># 13、查询所有图书，每页显示5本，显示第二页</span>

<span class="token comment"># 14、按照note分类统计书的库存量，显示库存量最多的</span>

<span class="token comment"># 15、查询书名达到10个字符的书，不包括里面的空格</span>

<span class="token comment"># 16、查询书名和类型，其中note值为novel显示小说，law显示法律，medicine显示医药，cartoon显示卡通，joke显示笑话</span>

<span class="token comment"># 17、查询书名、库存，其中num值超过30本的，显示滞销，大于0并低于10的，显示畅销，为0的显示需要无货</span>

<span class="token comment"># 18、统计每一种note的库存量，并合计总量</span>

<span class="token comment"># 19、统计每一种note的数量，并合计总量</span>

<span class="token comment"># 20、统计库存量前三名的图书</span>

<span class="token comment"># 21、找出最早出版的一本书</span>

<span class="token comment"># 22、找出novel中价格最高的一本书</span>

<span class="token comment"># 23、找出书名中字数最多的一本书，不含空格</span>
</code></pre></div><p>答案：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#1、创建数据库test01_library</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> test01_library <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token string">'utf8'</span><span class="token punctuation">;</span>

<span class="token comment">#指定使用哪个数据库</span>
<span class="token keyword">USE</span> test01_library<span class="token punctuation">;</span>

<span class="token comment">#2、创建表 books</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> books<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">`</span>authors<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
	price <span class="token keyword">FLOAT</span><span class="token punctuation">,</span>
	pubdate <span class="token keyword">YEAR</span> <span class="token punctuation">,</span>
	note <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	num <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#3、向books表中插入记录</span>
<span class="token comment"># 1）不指定字段名称，插入第一条记录</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> books
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'Tal of AAA'</span><span class="token punctuation">,</span><span class="token string">'Dickes'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">1995</span><span class="token punctuation">,</span><span class="token string">'novel'</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 2）指定所有字段名称，插入第二记录</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> books <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token punctuation">`</span>authors<span class="token punctuation">`</span><span class="token punctuation">,</span>price<span class="token punctuation">,</span>pubdate<span class="token punctuation">,</span>note<span class="token punctuation">,</span>num<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'EmmaT'</span><span class="token punctuation">,</span><span class="token string">'Jane lura'</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">1993</span><span class="token punctuation">,</span><span class="token string">'Joke'</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 3）同时插入多条记录（剩下的所有记录）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> books <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token punctuation">`</span>authors<span class="token punctuation">`</span><span class="token punctuation">,</span>price<span class="token punctuation">,</span>pubdate<span class="token punctuation">,</span>note<span class="token punctuation">,</span>num<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'Story of Jane'</span><span class="token punctuation">,</span><span class="token string">'Jane Tim'</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">2001</span><span class="token punctuation">,</span><span class="token string">'novel'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'Lovey Day'</span><span class="token punctuation">,</span><span class="token string">'George Byron'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">2005</span><span class="token punctuation">,</span><span class="token string">'novel'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'Old land'</span><span class="token punctuation">,</span><span class="token string">'Honore Blade'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">2010</span><span class="token punctuation">,</span><span class="token string">'Law'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">'The Battle'</span><span class="token punctuation">,</span><span class="token string">'Upton Sara'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">1999</span><span class="token punctuation">,</span><span class="token string">'medicine'</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">'Rose Hood'</span><span class="token punctuation">,</span><span class="token string">'Richard haggard'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token string">'cartoon'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 4、将小说类型(novel)的书的价格都增加5。</span>
<span class="token keyword">UPDATE</span> books <span class="token keyword">SET</span> price<span class="token operator">=</span>price<span class="token operator">+</span><span class="token number">5</span> <span class="token keyword">WHERE</span> note <span class="token operator">=</span> <span class="token string">'novel'</span><span class="token punctuation">;</span>

<span class="token comment"># 5、将名称为EmmaT的书的价格改为40，并将说明改为drama。</span>
<span class="token keyword">UPDATE</span> books <span class="token keyword">SET</span> price<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span>note<span class="token operator">=</span><span class="token string">'drama'</span> <span class="token keyword">WHERE</span> name<span class="token operator">=</span><span class="token string">'EmmaT'</span><span class="token punctuation">;</span>

<span class="token comment"># 6、删除库存为0的记录。</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> books <span class="token keyword">WHERE</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 7、统计书名中包含a字母的书</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'%a%'</span><span class="token punctuation">;</span>

<span class="token comment"># 8、统计书名中包含a字母的书的数量和库存总量</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token keyword">FROM</span> books <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'%a%'</span><span class="token punctuation">;</span>

<span class="token comment"># 9、找出“novel”类型的书，按照价格降序排列</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">WHERE</span> note <span class="token operator">=</span> <span class="token string">'novel'</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> price <span class="token keyword">DESC</span><span class="token punctuation">;</span>

<span class="token comment"># 10、查询图书信息，按照库存量降序排列，如果库存量相同的按照note升序排列</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> num <span class="token keyword">DESC</span><span class="token punctuation">,</span>note <span class="token keyword">ASC</span><span class="token punctuation">;</span>

<span class="token comment"># 11、按照note分类统计书的数量</span>
<span class="token keyword">SELECT</span> note<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> books <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> note<span class="token punctuation">;</span>

<span class="token comment"># 12、按照note分类统计书的库存量，显示库存量超过30本的</span>
<span class="token keyword">SELECT</span> note<span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token keyword">FROM</span> books <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> note <span class="token keyword">HAVING</span> <span class="token function">SUM</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment"># 13、查询所有图书，每页显示5本，显示第二页</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment"># 14、按照note分类统计书的库存量，显示库存量最多的</span>
<span class="token keyword">SELECT</span> note<span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> sum_num <span class="token keyword">FROM</span> books <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> note <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sum_num <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment"># 15、查询书名达到10个字符的书，不包括里面的空格</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">WHERE</span> CHAR_LENGTH<span class="token punctuation">(</span><span class="token keyword">REPLACE</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">' '</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">/*
16、查询书名和类型，
 其中note值为 novel显示小说，law显示法律，medicine显示医药，cartoon显示卡通，joke显示笑话
*/</span>
<span class="token keyword">SELECT</span> name <span class="token keyword">AS</span> <span class="token string">&quot;书名&quot;</span> <span class="token punctuation">,</span>note<span class="token punctuation">,</span> <span class="token keyword">CASE</span> note
 <span class="token keyword">WHEN</span> <span class="token string">'novel'</span> <span class="token keyword">THEN</span> <span class="token string">'小说'</span>
 <span class="token keyword">WHEN</span> <span class="token string">'law'</span> <span class="token keyword">THEN</span> <span class="token string">'法律'</span>
 <span class="token keyword">WHEN</span> <span class="token string">'medicine'</span> <span class="token keyword">THEN</span> <span class="token string">'医药'</span>
 <span class="token keyword">WHEN</span> <span class="token string">'cartoon'</span> <span class="token keyword">THEN</span> <span class="token string">'卡通'</span>
 <span class="token keyword">WHEN</span> <span class="token string">'joke'</span> <span class="token keyword">THEN</span> <span class="token string">'笑话'</span>
 <span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token string">&quot;类型&quot;</span>
<span class="token keyword">FROM</span> books<span class="token punctuation">;</span>


<span class="token comment"># 17、查询书名、库存，其中num值超过30本的，显示滞销，大于0并低于10的，显示畅销，为0的显示需要无货</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>num<span class="token punctuation">,</span><span class="token keyword">CASE</span>
  <span class="token keyword">WHEN</span> num<span class="token operator">&gt;</span><span class="token number">30</span> <span class="token keyword">THEN</span> <span class="token string">'滞销'</span>
  <span class="token keyword">WHEN</span> num<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token operator">AND</span> num<span class="token operator">&lt;</span><span class="token number">10</span> <span class="token keyword">THEN</span> <span class="token string">'畅销'</span>
  <span class="token keyword">WHEN</span> num<span class="token operator">=</span><span class="token number">0</span> <span class="token keyword">THEN</span> <span class="token string">'无货'</span>
  <span class="token keyword">ELSE</span> <span class="token string">'正常'</span>
  <span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token string">&quot;库存状态&quot;</span>
<span class="token keyword">FROM</span> books<span class="token punctuation">;</span>

<span class="token comment"># 18、统计每一种note的库存量，并合计总量</span>
<span class="token keyword">SELECT</span> IFNULL<span class="token punctuation">(</span>note<span class="token punctuation">,</span><span class="token string">'合计总库存量'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> note<span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token keyword">FROM</span> books <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> note <span class="token keyword">WITH ROLLUP</span><span class="token punctuation">;</span>

<span class="token comment"># 19、统计每一种note的数量，并合计总量</span>
<span class="token keyword">SELECT</span> IFNULL<span class="token punctuation">(</span>note<span class="token punctuation">,</span><span class="token string">'合计总数'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> note<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> books <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> note <span class="token keyword">WITH ROLLUP</span><span class="token punctuation">;</span>

<span class="token comment"># 20、统计库存量前三名的图书</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> num <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment"># 21、找出最早出版的一本书</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> pubdate <span class="token keyword">ASC</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment"># 22、找出novel中价格最高的一本书</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">WHERE</span> note <span class="token operator">=</span> <span class="token string">'novel'</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> price <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment"># 23、找出书名中字数最多的一本书，不含空格</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> books <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> CHAR_LENGTH<span class="token punctuation">(</span><span class="token keyword">REPLACE</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">' '</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/app.73e52d88.js" defer></script><script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/3.536cd329.js" defer></script><script src="https://cdn.jsdelivr.net/gh/annarheimur/note/dist/assets/js/20.04ace2cc.js" defer></script>
  </body>
</html>

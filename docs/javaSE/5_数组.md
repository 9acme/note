## 01、 数组的概述

## 02、 一维数组的使用

> 1、代码案例1——ArrayTest.java

```java
public class ArrayTest {
	public static void main(String[] args) {

		int num;
		num = 10;
		int id = 1001;

		int[] ids;

		ids = new int[]{1001,1002,1003,1004};

		String[] names = new String[5];

		int[] arr7 = {1,2,3,5,4};

		names[0] = "张郃";
		names[1] = "王陵";
		names[2] = "张学良";
		names[3] = "王传志";
		names[4] = "李峰";

		System.out.println(names.length);
		System.out.println(ids.length);

		for(int i = 0;i < names.length;i++){
			System.out.println(names[i]);
		}

	}
}
```

> 2、代码案例2——ArrayTest1.java

```java

public class ArrayTest1 {
	public static void main(String[] args) {

		int[] arr = new int[4];
		for(int i = 0;i < arr.length;i++){
			System.out.println(arr[i]);
		}
		System.out.println("*****************");

		short[] arr1 = new short[4];
		for(int i = 0;i < arr1.length;i++){
			System.out.println(arr1[i]);
		}
		System.out.println("*****************");

		float[] arr2 = new float[5];
		for(int i = 0;i < arr2.length;i++){
			System.out.println(arr2[i]);
		}
		System.out.println("*****************");

		char[] arr3 = new char[5];
		for(int i = 0;i < arr3.length;i++){
			System.out.println("----" + arr3[i] + "****");
		}

		if(arr3[0] == 0){
			System.out.println("你好！");
		}
		System.out.println("*****************");

		boolean[] arr4 = new boolean[5];
		System.out.println(arr4[0]);

		System.out.println("*****************");
		String[] arr5 = new String[5];
		System.out.println(arr5[0]);

		if(arr5[0] == null){
			System.out.println("北京天气好差！");
		}

	}
}
```

### 2.1、内存的简化结构

![](https://img-blog.csdnimg.cn/img_convert/c01a07df72a603800e06f07a7f9e9a3b.png)

### 2.2、一维数组的内存解析

```java
int[] arr = new int[]{1,2,3};
String[] arr1 = new String[4];
arr1[1] = "刘德华";
arr1[2] = "张学友";
arr1 = new String[3];
System.out.println(arr1[1]);
```

![](https://img-blog.csdnimg.cn/img_convert/f75d3027e579de8103c4234856135118.png)

> 按照图中步骤，最后数组内存解析完成，数组内部值为null。

### 2.3、练习1

```java

public class ArrayDemo {
	public static void main(String[] args) {
		int[] arr = new int[] { 8, 2, 1, 0, 3 };
		int[] index = new int[] { 2, 0, 3, 2, 4, 0, 1, 3, 2, 3, 3 };
		String tel = "";
		for (int i = 0; i < index.length; i++) {
			tel += arr[index[i]];
		}
		System.out.println("联系方式：" + tel);
	}
}
```

> 1、练习2

```java

import java.util.Scanner;
public class ArrayDemo2 {
	public static void main(String[] args) {

		Scanner scan = new Scanner(System.in);
		System.out.print("请输入学生人数：");
		int num = scan.nextInt();

		int[] str = new int[num];
		System.out.println("请输入" + num + "个学生成绩");

		int maxnum = 0;
		for(int i = 0;i < str.length;i++){
			str[i] = scan.nextInt();

			if(maxnum < str[i]){
				maxnum = str[i];
			}
		}

		char Grade;
		for(int i = 0;i < str.length;i++){
			if(maxnum - str[i]  10){
				Grade = 'A';
			}else if(maxnum - str[i]  20){
				Grade = 'B';
			}else if(maxnum - str[i]  30){
				Grade = 'C';
			}else{
				Grade = 'D';
			}

			System.out.println("student " + i + "score is" + str[i] +
					" grade is " + Grade);
		}
	}
}
```

## 03、 多维数组的使用

Java 语言里提供了支持多维数组的语法。

> 如果说可以把一维数组当成几何中的线性图形，那么二维数组就相当于是一个表格，像下图Excel中的表格一样。

![](https://img-blog.csdnimg.cn/img_convert/dae46ed4406526c468137a4fd25a137a.png)

### 3.1、二位数组

> 1、代码案例——ArrayTest2.java

```java

public class ArrayTest2 {
	public static void main(String[] args) {

		int[] arr = new int[]{1,2,3};

		int[][] arr1 = new int[][]{{1,2,3},{4,5,6},{7,8,9}};

		String[][] arr2 = new String[3][2];

		String[][] arr3 = new String[3][];

		int arr4[][] = new int[][]{{1,2,3},{4,5,12,6},{7,8,9}};
		int[] arr5[] = new int[][]{{1,2,3},{4,5,6},{7,8,9}};
		int[][] arr6 = {{1,2,3},{4,5,6},{7,8,9}};

		System.out.println(arr1[0][1]);
		System.out.println(arr2[1][1]);

		arr3[1] = new String[4];
		System.out.println(arr3[1][0]);

		System.out.println(arr4.length);
		System.out.println(arr4[0].length);
		System.out.println(arr4[1].length);

		for(int i = 0;i < arr4.length;i++){
			for(int j = 0;j < arr4[i].length;j++){
				System.out.print(arr4[i][j] + " ");
			}
			System.out.println();
		}
	}
}
```

> 2、代码案例——ArrayTest3.java

```java

public class ArrayTest3 {
	public static void main(String[] args) {

		int[][] arr = new int[4][3];
		System.out.println(arr[0]);
		System.out.println(arr[0][0]);

		System.out.println("***********************");
		float[][] arr1 = new float[4][3];
		System.out.println(arr1[0]);
		System.out.println(arr1[0][0]);

		System.out.println("***********************");

		String[][] arr2 = new String[4][2];
		System.out.println(arr2[1]);
		System.out.println(arr2[1][1]);

		System.out.println("*********************");
		double[][] arr3 = new double[4][];
		System.out.println(arr3[1]);

	}
}
```

### 3.2、二维数组的内存解析

> 1、案例1

```java
int[][] arr1 = new int[4][];
arr1[1] = new int[]{1,2,3};
arr1[2] = new int[4];
arr1[2][1] = 30;
```

![](https://img-blog.csdnimg.cn/img_convert/d4a8ec46ba57eb97884d158f6ea2f53b.png)

> 2、案例2

```java
int[][] arr4= newint[3][];
System.out.println(arr4[0]);
System.out.println(arr4[0][0]);
arr4[0] = new int[3];
arr4[0][1] = 5;
arr4[1] = new int[]{1,2};
```

![](https://img-blog.csdnimg.cn/img_convert/b1176f460c5c189ca4e7f11d2b75860b.png)

> 3、案例3

```java
int[][] arr = new int[3][];
arr[1] = new int[]{1,2,3};
arr[2] = new int[3];
System.out.println(arr[0]);
System.out.println(arr[0][0]);
```

![](https://img-blog.csdnimg.cn/img_convert/1444b286c98519f9fb912d5f262438a4.png)

> 4、案例4

```java
int[][] arr1= newint[4][];
arr1[0] = new int[3];
arr1[1] = new int[]{1,2,3};
arr1[0][2] = 5;
arr1 = new int[2][];
```

![](https://img-blog.csdnimg.cn/img_convert/cfa92cb4f1db599276d44bc79b0472aa.png)

### 3.3、练习

> 1、练习1

![](https://img-blog.csdnimg.cn/img_convert/f8b4118d2a4743ffc344874fd823048c.png)

```java
public class ArrayEver1 {
	public static void main(String[] args) {
		int[][] arr = new int[][]{{3,5,8},{12,9},{7,0,6,4}};
		int sum = 0;
		for(int i = 0;i < arr.length;i++){
			for(int j = 0;j < arr[i].length;j++){
				sum += arr[i][j];
			}
		}
		System.out.println(sum);
	}
}
```

> 2、练习 2

![](https://img-blog.csdnimg.cn/img_convert/07c284ce1d9f3944040e0f97953bae77.png)

> 3、练习 3

使用二维数组打印一个 10 行杨辉三角。

```java

public class ArrayEver2 {
	public static void main(String[] args) {

		int[][] arr = new int[10][];

		for(int i = 0;i < arr.length;i++){
			arr[i] = new int[i+1];

			arr[i][0]=arr[i][i]=1;

			for(int j = 1;j < arr[i].length-1;j++){
					arr[i][j] = arr[i-1][j-1] + arr[i-1][j];
				}

		}

		for(int i = 0;i < arr.length;i++){
			for(int j = 0;j <arr[i].length;j++){
				System.out.print(arr[i][j] + " ");
			}
			System.out.println();
		}

	}
}
```

### 3.4、面试题目

> 1、创建一个长度为 6 的 int 型数组，要求取值为 1-30，同时元素值各不相同

```java

public class ArrayEver3 {
	public static void main(String[] args) {

		int[] arr2 = new int[6];
		for (int i = 0; i < arr2.length; i++) {
			arr2[i] = (int) (Math.random() * 30) + 1;

			for (int j = 0; j < i; j++) {
				if (arr2[i] == arr2[j]) {
					i--;
					break;
				}
			}
		}

		for (int i = 0; i < arr2.length; i++) {
			System.out.println(arr2[i]);
		}
	}
}
```

## 04、 数组中涉及到的常见算法

1. 数组元素的赋值(杨辉三角、回形数等)
2. 求数值型数组中元素的最大值、最小值、平均数、总和等
3. 数组的复制、反转、查找(线性查找、二分法查找)
4. 数组元素的排序算法

### 4.1、数组元素的赋值

```java
import java.util.Scanner;

public class ArrayTest {
	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);
		System.out.println("输入一个数字:");
		int len = scanner.nextInt();
		int[][] arr = new int[len][len];
		int s = len * len;

		int k = 1;
		int i = 0, j = 0;
		for (int m = 1; m  s; m++) {
			if (k == 1) {
				if (j < len && arr[i][j] == 0) {
					arr[i][j++] = m;
				} else {
					k = 2;
					i++;
					j--;
					m--;
				}
			} else if (k == 2) {
				if (i < len && arr[i][j] == 0) {
					arr[i++][j] = m;
				} else {
					k = 3;
					i--;
					j--;
					m--;
				}
			} else if (k == 3) {
				if (j >= 0 && arr[i][j] == 0) {
					arr[i][j--] = m;
				} else {
					k = 4;
					i--;
					j++;
					m--;
				}
			} else if (k == 4) {
				if (i >= 0 && arr[i][j] == 0) {
					arr[i--][j] = m;
				} else {
					k = 1;
					i++;
					j++;
					m--;
				}
			}
		}

		for (int m = 0; m < arr.length; m++) {
			for (int n = 0; n < arr[m].length; n++) {
				System.out.print(arr[m][n] + "\t");
			}
			System.out.println();
		}
	}
}
```

### 4.2、数组元素的基本操作

```java

public class ArrayTest1 {
	public static void main(String[] args) {
		int[] arr = new int[10];

		for(int i = 0;i <arr.length;i++){
			arr[i] = (int)(Math.random() * (99 - 10 + 1) + 10);
		}

		for(int i =0;i < arr.length;i++){
			System.out.print(arr[i] + " ");
		}
		System.out.println();

		int maxValue = arr[0];
		for(int i = 1;i <arr.length;i++){
			if(maxValue < arr[i]){
				maxValue = arr[i];
			}
		}
		System.out.println("最大值：" + maxValue);

		int minValue = arr[0];
		for(int i = 1;i <arr.length;i++){
			if(minValue > arr[i]){
				minValue = arr[i];
			}
		}
		System.out.println("最小值：" + minValue);

		int sum = 0;
		for(int i = 1;i <arr.length;i++){
			sum += arr[i];
		}
		System.out.println("总和：" + sum);

		double avgVales = sum / arr.length;
		System.out.println("平均数：" + avgVales);
	}
}
```

### 4.3、数组元素的基本操作 2

```java

public class ArrayTest2 {
	public static void main(String[] args) {

		int[] array1,array2;

		array1 = new int[]{2,3,5,7,11,13,17,19};

		for(int i = 0;i < array1.length;i++){
			System.out.print(array1[i] + "\t");
		}

		array2 = array1;

		for(int i = 0;i < array2.length;i++){
			if(i % 2 == 0){
				array2[i] = i;
			}
		}
		System.out.println();

		for(int i = 0;i < array1.length;i++){
			System.out.print(array1[i] + "\t");
		}
	}
}
```

> 1、思考：上述 array1 和 array2 是什么关系？

```java

int[] array1,array2;
array1 = new int[]{2,3,5,7,11,13,17,19};
array2 = array1;
for(int i = 0;i < array2.length;i++){
	if(i % 2 == 0){
		array2[i] = i;
	}
}
```

![](https://img-blog.csdnimg.cn/img_convert/1dbdd407ab4eab6dd35163ef5a7b0378.png)

> 2、拓展：修改题目，实现 array2 对 array1 数组的复制

```java
int[] array1,array2;
array1 = new int[]{2,3,5,7,11,13,17,19};

array2 = new int[array1.length];
for(int i = 0;i < array2.length;i++){
	array2[i] = array1[i];
}
```

![](https://img-blog.csdnimg.cn/img_convert/51135a7e4392b848f47caed509ac902f.png)

### 4.4、数组的复制、反转、查找

> 1、复制、反转

```java

public class ArrayTest3 {
	public static void main(String[] args) {

		String[] arr = new String[]{"SS","QQ","YY","XX","TT","KK","EE","GG"};

		String[] arr1 = new String[arr.length];
		for(int i = 0;i < arr1.length;i++){
			arr1[i] = arr[i];
		}

		for(int i = 0,j = arr.length - 1;i < j;i++,j--){
			String temp = arr[i];
			arr[i] = arr[j];
			arr[j] = temp;
		}

		for(int i = 0;i < arr.length;i++){
			System.out.print(arr[i] + "\t");
		}
		System.out.println();

		String dest = "BB";
		dest = "CC";

		boolean isFlag = true;

		for(int i = 0;i < arr.length;i++){
			if(dest.equals(arr[i])){
				System.out.println("找到了指定元素，位置为：" + i);
				isFlag = false;
				break;
			}
		}
		if(isFlag){
			System.out.println("很遗憾，没找到！");
		}

	}
}
```

> 2、二分法查找算法

![](https://img-blog.csdnimg.cn/img_convert/147a3feee59657d16accdc055c658df3.png)

```java
public class ArrayTest3 {
	public static void main(String[] args) {

		int[] arr2 = new int[]{-98,-34,2,34,54,66,79,105,210,333};

		int dest1 = -34;
		int head = 0;
		int end = arr2.length - 1;
		boolean isFlag1 = true;
		while(head  end){
			int middle = (head + end)/2;

			if(dest1 == arr2[middle]){
				System.out.println("找到了指定元素，位置为：" + middle);
				isFlag1 = false;
				break;
			}else if(arr2[middle] > dest1){
				end = middle - 1;
			}else{
				head = middle + 1;
			}
		}

		if(isFlag1){
			System.out.println("很遗憾，没找到！");
		}
	}
}
```

### 4.5、数组元素的排序算法

* 排序：假设含有 n 个记录的序列为{R1，R2，...,Rn},其相应的关键字序列为{K1，K2，...,Kn}。将这些记录重新排序为{Ri1,Ri2,...,Rin},使得相应的关键字值满足条 Ki1

* 衡量排序算法的优劣：

1. **时间复杂度**：分析关键字的比较次数和记录的移动次数
2. 空间复杂度：分析排序算法中需要多少辅助内存
3. **稳定性**：若两个记录 A 和 B 的关键字值相等，但排序后 A、B 的先后次序保持不变，则称这种排序算法是稳定的。
* 排序算法分类： **内部排序**和 **外部排序**。

* 内部排序：整个排序过程不需要借助于外部存储器（如磁盘等），所有排序操作都在内存中完成。
* 外部排序：参与排序的数据非常多，数据量非常大，计算机无法把整个排序过程放在内存中完成，必须借助于外部存储器（如磁盘）。外部排序最常见的是多路归并排序。可以认为外部排序是由多次内部排序组成。

### 4.6、十大内部排序算法

* 选择排序
  - 直接选择排序、堆排序
* 交换排序
  - **冒泡排序、快速排序**
* 插入排序
  - 直接插入排序、折半插入排序、Shell 排序
* 归并排序
* 桶式排序
* 基数排序

1. 详细操作，见《附录》
[附录：尚硅谷_宋红康_排序算法.pdf](https://shimo.im/docs/TcdrXydwCTHY866T)

### 4.7、算法的 5 大特征

输入（Input）有 0 个或多个输入数据，这些输入必须有清楚的描述和定义输出（Output）至少有 1 个或多个输出结果，不可以没有输出结果有穷性（有限性，Finiteness）算法在有限的步骤之后会自动结束而不会无限循环，并且每一个步骤可以在可接受的时间内完成确定性（明确性，Definiteness）算法中的每一步都有确定的含义，不会出现二义性可行性（有效性，Effectiveness）算法的每一步都是清楚且可行的，能让用户用纸笔计算而求出答案

> 说明：满足确定性的算法也称为：确定性算法。现在人们也关注更广泛的概念，例如考虑各种非确定性的算法，如并行算法、概率算法等。另外，人们也关注并不要求终止的计算描述，这种描述有时被称为过程（procedure）。

### 4.8、冒泡排序(重要)

冒泡排序的基本思想：通过对待排序序列从前向后，依次比较相邻元素的排序码，若发现逆序则交换，使排序码较大的元素逐渐从前部移向后部。

因为排序的过程中，各元素不断接近自己的位置，如果一趟比较下来没有进行过交换，就说明序列有序， 因此要在排序过程中设置一个标志swap判断元素是否进行过交换。从而减少不必要的比较。

![](https://img-blog.csdnimg.cn/img_convert/1652ba31ff3ee377506665fa442de80d.png)

```java

public class BubbleSortTest {
	public static void main(String[] args) {

		int[] arr = new int[]{43,32,76,92,-65,85,71,-42};

		for(int i = 0;i < arr.length - 1;i++){

			for(int j = 0;j < arr.length - 1 - i;j++){

				if(arr[j] > arr[j+1]){
					int temp = arr[j];
					arr[j] = arr[j+1];
					arr[j+1] = temp;
				}
			}
		}

		for(int i = 0;i < arr.length;i++){
			System.out.print(arr[i] + "\t");
		}
	}
}
```

### 4.9、快速排序(初学Java，仅作了解)

> 快速排序（Quick Sort）由图灵奖获得者Tony Hoare发明，被列为20世纪十大算法之一，是迄今为止所有内排序算法中速度最快的一种。冒泡排序的升级版，交换排序的一种。快速排序的时间复杂度为O(nlog(n))。

**排序思想：**

1. 从数列中挑出一个元素，称为"基准"（pivot），
2. 重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这个分区结束之后，该基准就处于数列的中间位置。这个称为分区（partition）操作。
3. 递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序。
4. 递归的最底部情形，是数列的大小是零或一，也就是永远都已经被排序好了。虽然一直递归下去，但是这个算法总会结束，因为在每次的迭代（iteration）中，它至少会把一个元素摆到它最后的位置去。

![](https://img-blog.csdnimg.cn/img_convert/c416b57d8b51b44072a3fa7d7b7aa740.png)

```java

public class QuickSort {
	private static void swap(int[] data, int i, int j) {
		int temp = data[i];
		data[i] = data[j];
		data[j] = temp;
	}
	private static void subSort(int[] data, int start, int end) {
		if (start < end) {
			int base = data[start];
			int low = start;
			int high = end + 1;
			while (true) {
				while (low < end && data[++low] - base  0)
					;
				while (high > start && data[--high] - base >= 0)
					;
				if (low < high) {
					swap(data, low, high);
				} else {
					break;
				}
			}
			swap(data, start, high);

			subSort(data, start, high - 1);
			subSort(data, high + 1, end);
		}
	}
	public static void quickSort(int[] data){
		subSort(data,0,data.length-1);
	}

	public static void main(String[] args) {
		int[] data = { 9, -16, 30, 23, -30, -49, 25, 21, 30 };
		System.out.println("排序之前：\n" + java.util.Arrays.toString(data));
		quickSort(data);
		System.out.println("排序之后：\n" + java.util.Arrays.toString(data));
	}
}
```

### 4.10排序算法性能对比

![](https://img-blog.csdnimg.cn/img_convert/9d43d5e3a110648c15f953275931755b.png)

> **各种内部排序方法性能比较**

1. 从平均时间而言：快速排序最佳。但在最坏情况下时间性能不如堆排序和归并排序。
2. 从算法简单性看：由于直接选择排序、直接插入排序和冒泡排序的算法比较简单，将其认为是简单算法。对于Shell排序、堆排序、快速排序和归并排序算法，其算法比较复杂，认为是复杂排序。
3. 从稳定性看：直接插入排序、冒泡排序和归并排序是稳定的；而直接选择排序、快速排序、Shell排序和堆排序是不稳定排序
4. 从待排序的记录数n的大小看，n较小时，宜采用简单排序；而n较大时宜采用改进排序。

> **排序算法的选择**

(1) 若n较小(如n≤50)，可采用直接插入或直接选择排序。当记录规模较小时，直接插入排序较好；否则因为直接选择移动的记录数少于直接插入，应选直接选择排序为宜。
(2) 若文件初始状态基本有序(指正序)，则应选用直接插入、冒泡或随机的快速排序为宜；
(3) 若n较大，则应采用时间复杂度为O(nlgn)的排序方法：快速排序、堆排序或归并排序。

## 05、 Arrays 工具类的使用

> java.util.Arrays类即为操作数组的工具类，包含了用来操作数组（比如排序和搜索）的各种方法。

1boolean equals(int[] a,int[] b)判断两个数组是否相等。2String toString(int[] a)输出数组信息。3void fill(int[] a,int val)将指定值填充到数组之中。4void sort(int[] a)对数组进行排序。5int binarySearch(int[] a,int key)对排序后的数组进行二分法检索指定的值。

```java
import java.util.Arrays;

public class ArrayTest4 {
	public static void main(String[] args) {

		int[] arr1 = new int[]{1,2,3,4};
		int[] arr2 = new int[]{1,2,9,3};
		boolean isEquals = Arrays.equals(arr1, arr2);
		System.out.println(isEquals);

		System.out.println(Arrays.toString(arr1));

		Arrays.fill(arr1, 10);
		System.out.println(Arrays.toString(arr1));

		Arrays.sort(arr2);
		System.out.println(Arrays.toString(arr2));

		int[] arr3 = new int[]{43,32,76,92,-65,85,71,-42};
		int index = Arrays.binarySearch(arr3, 210);
		if(index >= 0){
			System.out.println(index);
		}else{
			System.err.println("未找到。");
		}
	}
}
```

## 06、 数组使用中的常见异常

```java

public class ArrayExceptionTest {
	public static void main(String[] args) {

		int[] arr = new int[]{1,2,3,4,5,6};

	}
}
```

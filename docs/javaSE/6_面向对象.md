## 01、面向过程与面向对象

何谓"面向对象"的编程思想？
首先解释一下"思想"。
先问你个问题：你想做个怎样的人？
可能你会回答：我想做个好人，孝敬父母，尊重长辈，关爱亲朋...

你看，这就是思想。这是你做人的思想，或者说，是你做人的原则。做人有做人的原则，编程也有编程的原则。这些编程的原则呢，就是编程思想。

> 面向过程(POP) 与面向对象(OOP)

* 面向对象：Object Oriented Programming
* 面向过程：Procedure Oriented Programming

> 面向对象的思想概述

* 程序员从面向过程的执行者转化成了面向对象的指挥者
* 面向对象分析方法分析问题的思路和步骤：
  - 根据问题需要，选择问题所针对的现实世界中的实体。
  - 从实体中寻找解决问题相关的属性和功能，这些属性和功能就形成了概念世界中的类。
  - 把抽象的实体用计算机语言进行描述，形成计算机世界中类的定义。即借助某种程序语言，把类构造成计算机能够识别和处理的数据结构。
  - 将类实例化成计算机世界中的对象。对象是计算机世界中解决问题的最终工具。

## 02、 类和对象

### 2.1、Java 类及类的成员

现实世界的生物体，大到鲸鱼，小到蚂蚁，都是由最基本的细胞构成的。同理，Java 代码世界是由诸多个不同功能的类构成的。

现实生物世界中的细胞又是由什么构成的呢？细胞核、细胞质、... 那么，Java 中用类 class 来描述事物也是如此。常见的类的成员有：

* 属性：对应类中的成员变量
* 行为：对应类中的成员方法

![](https://img-blog.csdnimg.cn/img_convert/e79fe23f155bb7d7a4fc1d9305df21d7.png)

### 2.2、类与对象的创建及使用

```java

public class PersonTest {
	public static void main(String[] args) {

		Person p1 = new Person();

		p1.name = "Tom";
		p1.age = 25;
		p1.isMale = true;
		System.out.println(p1.name);

		p1.eat();
		p1.sleep();
		p1.talk("chinese");

		Person p2 = new Person();
		System.out.println(p2.name);
		System.out.println(p2.isMale);

		Person p3 = p1;
		System.out.println(p3.name);

		p3.age = 10;
		System.out.println(p1.age);
	}
}
/*
 * 类的语法格式：
 * 修饰符 class 类名{
 * 		属性声明;
 * 		方法声明;
 * }
 * 说明：修饰符 public：类可以被任意访问类的正文要用{  }括起来
 */

class Person{

	String name;
	int age;
	boolean isMale;

	public void eat(){
		System.out.println("吃饭");
	}

	public void sleep(){
		System.out.println("睡觉");
	}

	public void talk(String language){
		System.out.println("人可以说话，使用的是：" + language);
	}
}
```

### 2.3、对象的创建和使用：内存解析

![](https://img-blog.csdnimg.cn/img_convert/fd7a664a69d935533b176a0397576172.png)

* 堆（Heap），此内存区域的唯一目的就是存放对象实例，几乎所有的对象实例都在这里分配内存。这一点在 Java 虚拟机规范中的描述是：所有的对象实例以及数组都要在堆上分配。
* 通常所说的栈（Stack），是指虚拟机栈。虚拟机栈用于存储局部变量等。局部变量表存放了编译期可知长度的各种基本数据类型（boolean、byte、char、short、int、float、long、double）、对象引用（reference 类型，它不等同于对象本身，是对象在堆内存的首地址）。方法执行完，自动释放。
* 方法区（MethodArea），用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。

> 1、案例 1

```java
Person p1= newPerson();
p1.name = "Tom";
p1.isMale = true;
Person p2 = new Person();
sysout(p2.name);
Person p3 = p1;
p3.age = 10;
```

![](https://img-blog.csdnimg.cn/img_convert/e10710c43389ff33e23d546de2ee864a.png)

> 2、案例 2

```java
Person p1= newPerson();
p1.name = "胡利民";
p1.age = 23;
Person p2 = new Person();
p2.age = 10;
```

![](https://img-blog.csdnimg.cn/img_convert/d18ba9800da19fa278004bee59637fa4.png)

## 03、类的成员之一：属性

```java

public class UserTest {
	public static void main(String[] args) {
		User u1 = new User();
		System.out.println(u1.name);
		System.out.println(u1.age);
		System.out.println(u1.isMale);

		u1.talk("俄语");
	}
}
class User{

	String name;
	public int age;
	boolean isMale;

	public void talk(String language){
		System.out.println("我们使用" + language + "进行交流。");
	}

	public void eat(){
		String food = "石头饼";
		System.out.println("北方人喜欢吃:" + food);
	}
}
```

> 1、练习1

```java

public class School {
	public static void main(String[] args) {
		Student stu = new Student();
        stu.name = "小明";
        stu.age = 16;

		Teacher tea = new Teacher();
		tea.name = "王老师";
        tea.age = 27;

        tea.say(stu.name,stu.age);
        stu.say(tea.name, tea.age);
	}
}
class Student{
	String name;
	int age;
	String major;
	String interests;

	void say(String name, int age){
		System.out.println("这个学生是："+name+"年龄是："+age);	}
}
class Teacher{
	String name;
	int age;
	String teachAge;
	String course;

	void say(String name, int age){
		System.out.println("这个老师是："+name+"年龄是："+age);
	}
}
```

## 04、 类的成员之二：方法

### 4.1、类中方法的声明和使用

```java

public class CustomerTest {
	public static void main(String[] args) {

		Customer cust1 = new Customer();

		cust1.eat();

		cust1.sleep(8);

	}
}

class Customer{

	String name;
	int age;
	boolean isMale;

	public void eat(){
		System.out.println("客户吃饭");
		return;

	}

	public void sleep(int hour){
		System.out.println("休息了" + hour + "个小时");

		eat();

	}

	public String getName(){

		if(age > 18){
			return name;

		}else{
			return "Tom";
		}
	}

	public String getNation(String nation){
		String info = "我的国籍是：" + nation;
		return info;
	}

	public void info(){

	}
}
```

> 1、练习1

创建一个Person类，其定义如下：

![](https://img-blog.csdnimg.cn/img_convert/6911778e7f45ba2b3131c9e970544582.png)

```java
public class Person {
	String name;
	int age;

	int sex;

	public void study(){
		System.out.println("studying");
	}

	public void showAge(){
		System.out.println("age:" + age);
	}

	public int addAge(int i){
		age += i;
		return age;
	}
}
```

测试类

```java

public class PersonTest {
	public static void main(String[] args) {
		Person p1 = new Person();

		p1.name = "Tom";
		p1.age = 18;
		p1.sex = 1;

		p1.study();

		p1.showAge();

		int newAge = p1.addAge(2);
		System.out.println(p1.name + "的年龄为" + newAge);

		System.out.println(p1.age);

		Person p2 = new Person();
		p2.showAge();
		p2.addAge(10);
		p2.showAge();

		p1.showAge();
	}
}
```

> 2、练习2

```java

public class CircleTest {
	public static void main(String[] args) {
		Circle c1 = new Circle();

		c1.radius = 2.1;

		c1.findArea();

		double area = c1.findArea(3.4);
		System.out.println(area);
	}
}

class Circle{

	double radius;

	public void findArea(){
		double area = Math.PI * radius * radius;
		System.out.println("面积为:" + area);
	}

	public double findArea(Double r){
		double area = 3.14 * r * r;
		return area;
	}
}
```

> 3、练习3

```java

public class ExerTest {

	public static void main(String[] args) {

		ExerTest esr = new ExerTest();

		System.out.println("面积为:" + esr.method(6,5));
	}

	public int method(int m,int n){
		for(int i = 0;i < m;i++){
			for(int j = 0;j < n;j++){
				System.out.print("* ");
			}
			System.out.println();
		}
		return m * n;
	}
}
```

> 4、练习四

```java

public class StudentTest {
	public static void main(String[] args) {

		Student[] stu = new Student[20];

		for(int i = 0;i <stu.length;i++){

			stu[i] = new Student();

			stu[i].number = i + 1;

			stu[i].state = (int)(Math.random() * (6 - 1 + 1) + 1);

			stu[i].score = (int)(Math.random() * (100 - 0 + 1));
		}

		for(int i = 0;i < stu.length;i++){

			System.out.println(stu[i].info());
		}
		System.out.println("*********以下是问题1*********");

		for(int i = 0;i < stu.length;i++){
			if(stu[i].state == 3){
				System.out.println(stu[i].info());
			}
		}
		System.out.println("********以下是问题2**********");

		for(int i = 0;i < stu.length - 1;i++){
			for(int j = 0;j <stu.length - 1 - i;j++){
				if(stu[j].score >stu[j+1].score){

					Student temp = stu[j];
					stu[j] = stu[j+1];
					stu[j+1] = temp;
				}
			}
		}

		for(int i = 0;i < stu.length;i++){
			System.out.println(stu[i].info());
		}

	}
}
class Student{
	int number;
	int state;
	int score;

	public String info(){
		return "学号:" + number + ",年级:" + state + ",成绩:" + score;
	}
}
```

> 4-1、练习四优化

```java

public class StudentTest2 {
	public static void main(String[] args) {

		Student2[] stu = new Student2[20];

		for(int i = 0;i <stu.length;i++){

			stu[i] = new Student2();

			stu[i].number = i + 1;

			stu[i].state = (int)(Math.random() * (6 - 1 + 1) + 1);

			stu[i].score = (int)(Math.random() * (100 - 0 + 1));
		}

		StudentTest2 test = new StudentTest2();

		test.print(stu);

		System.out.println("*********以下是问题1*********");

		test.searchState(stu, 3);
		System.out.println("********以下是问题2**********");

		test.sort(stu);

		for(int i = 0;i < stu.length;i++){
			System.out.println(stu[i].info());
		}
	}

	public void print(Student2[] stu){
		for(int i = 0;i < stu.length;i++){
			System.out.println(stu[i].info());
		}
	}

	public void searchState(Student2[] stu,int state){
		for(int i = 0;i < stu.length;i++){
			if(stu[i].state == state){
				System.out.println(stu[i].info());
			}
		}
	}

	public void sort(Student2[] stu){
		for(int i = 0;i < stu.length - 1;i++){
			for(int j = 0;j <stu.length - 1 - i;j++){
				if(stu[j].score >stu[j+1].score){

					Student2 temp = stu[j];
					stu[j] = stu[j+1];
					stu[j+1] = temp;
				}
			}
		}
	}
}
class Student2{
	int number;
	int state;
	int score;

	public String info(){
		return "学号:" + number + ",年级:" + state + ",成绩:" + score;
	}
}
```

### 4.2、理解"万事万物皆对象"

### 4.3、对象数组的内存解析

```java

Student[] stus= newStudent[5];
stus[0] = new Student();
sysout(stus[0].state);
sysout(stus[1]);
sysout(stus[1].number);
stus[1] = new Student();
sysout(stus[1].number);

class Student{
  int number;
  int state = 1;
  int score;
}
```

![](https://img-blog.csdnimg.cn/img_convert/b076c453b52bf6f3643b8cfc66809c25.png)

### 4.4、匿名对象的使用

```java

public class InstanceTest {
	public static void main(String[] args) {
		Phone p = new Phone();

		System.out.println(p);

		p.sendEmail();
		p.playGame();

		new Phone().price = 1999;
		new Phone().showPrice();

		PhoneMall mall = new PhoneMall();

		mall.show(new Phone());
	}
}

class PhoneMall{

	public void show(Phone phone){
		phone.sendEmail();
		phone.playGame();
	}
}

class Phone{
	double price;

	public void sendEmail(){
		System.out.println("发邮件");
	}
	public void playGame(){
		System.out.println("打游戏");
	}
	public void showPrice(){
		System.out.println("手机价格为:" + price);
	}
}
```

### 4.5、自定义数组的工具类

> 1、 **工具类**

```java

public class ArrayUtil {

	public int getMax(int[] arr) {
		int maxValue = arr[0];
		for (int i = 1; i < arr.length; i++) {
			if (maxValue < arr[i]) {
				maxValue = arr[i];
			}
		}
		return maxValue;
	}

	public int getMin(int[] arr) {
		int minValue = arr[0];
		for (int i = 1; i < arr.length; i++) {
			if (minValue > arr[i]) {
				minValue = arr[i];
			}
		}
		return minValue;
	}

	public int getSum(int[] arr) {
		int sum = 0;
		for (int i = 0; i < arr.length; i++) {
			sum += arr[i];
		}
		return sum;
	}

	public int getAvg(int[] arr) {
		int avgValue = getSum(arr) / arr.length;
		return avgValue;
	}

	public void reverse(int[] arr) {
		for (int i = 0; i < arr.length / 2; i++) {
			int temp = arr[i];
			arr[i] = arr[arr.length - i - 1];
			arr[arr.length - i - 1] = temp;
		}
	}

	public int[] copy(int[] arr) {
		int[] arr1 = new int[arr.length];
		for (int i = 0; i < arr1.length; i++) {
			arr1[i] = arr[i];
		}
		return null;
	}

	public void sort(int[] arr) {
		for (int i = 0; i < arr.length - 1; i++) {
			for (int j = 0; j < arr.length - 1 - i; j++) {
				if (arr[j] > arr[j + 1]) {
					int temp = arr[j];
					arr[j] = arr[j + 1];
					arr[j + 1] = temp;
				}
			}
		}
	}

	public void print(int[] arr) {
		System.out.print("[");
		for (int i = 0; i < arr.length; i++) {
			System.out.print(arr[i] + ",");
		}
		System.out.println("]");
	}

	public int getIndex(int[] arr, int dest) {

		for (int i = 0; i < arr.length; i++) {
			if (dest==arr[i]) {
				return i;
			}
		}
		return -1;
	}
}
```

> 2、 **测试类**

```java

public class ArrayUtilTest {

	public static void main(String[] args) {
		ArrayUtil util = new ArrayUtil();
		int[] arr = new int[]{32,5,26,74,0,96,14,-98,25};
		int max = util.getMax(arr);
		System.out.println("最大值为:" + max);

		System.out.println("查找:");
		int index = util.getIndex(arr, 5);
		if(index > 0){
			System.out.println("找到了，索引地址:" + index);
		}else{
			System.out.println("没找到");
		}
	}
}
```

### 4.6、方法的重载(overload)

```java

public class OverLoadTest {

	public static void main(String[] args) {
		OverLoadTest test = new OverLoadTest();
		test.getSum(1, 2);
	}

	public void getSum(int i,int j){
		System.out.println("1");
	}
	public void getSum(double d1,double d2){
		System.out.println("2");
	}
	public void getSum(String s,int i){
		System.out.println("3");
	}

	public void getSum(int i,String s){

	}

}
```

> 1、 **举例**

```java
1.判断：与void show(int a,char b,double c){}构成重载的有：

a)void show(int x,char y,double z){}
b)int show(int a,double c,char b){}
c) void show(int a,double c,char b){}
d) boolean show(int c,char b){}
e) void show(double c){}
f) double show(int x,char y,double z){}
g) void shows(){double c}
```

> 2、 **编程**

```java

public class OverLoadever {

	public static void main(String[] args) {
		OverLoadever test = new OverLoadever();

		test.mOL(5);
		test.mOL(6, 4);
		test.mOL("fg");

		int num1 = test.max(18, 452);
		System.out.println(num1);
		double num2 = test.max(5.6, -78.6);
		System.out.println(num2);
		double num3 = test.max(15, 52, 42);
		System.out.println(num3);
	}

	public void mOL(int i){
		System.out.println(i*i);
	}
	public void mOL(int i,int j){
		System.out.println(i*j);
	}
	public void mOL(String s){
		System.out.println(s);
	}

	public int max(int i,int j){
		return (i > j) ? i : j;
	}
	public double max(double i,double j){
		return (i > j) ? i : j;
	}
	public double max(double d1,double d2,double d3){
		double max = (d1 > d2) ? d1 : d2;
		return (max > d3) ? max : d3;
	}
}
```

### 4.7、可变个数的形参

JavaSE 5.0 中提供了Varargs(variable number of arguments)机制，允许 `&#x76F4;&#x63A5;&#x5B9A;&#x4E49;&#x80FD;&#x548C;&#x591A;&#x4E2A;&#x5B9E;&#x53C2;&#x76F8;&#x5339;&#x914D;&#x7684;&#x5F62;&#x53C2;`。从而，可以用一种更简单的方式，来传递个数可变的实参。

```java

public class MethodArgs {

	public static void main(String[] args) {
		MethodArgs test = new MethodArgs();
		test.show(12);

		test.show(new String[] { "AA", "BB", "CC" });
	}

	public void show(int i) {

	}

	public void show(String... strs) {
		System.out.println("show(String ...strs)");

		for (int i = 0; i < strs.length; i++) {
			System.out.println(strs[i]);
		}
	}

	public void show(int i, String... strs) {

	}

}
```

### 4.8、方法参数的值传递机制(重点！！！)

```java

public class ValueTransferTest {

	public static void main(String[] args) {

		System.out.println("**********基本数据类型：***********");
		int m = 10;
		int n = m;

		System.out.println("m = " + m + ", n = " + n);

		n = 20;

		System.out.println("m = " + m + ", n = " + n);

		System.out.println("***********引用数据类型:********");

		Order o1 = new Order();
		o1.orderId = 1001;

		Order o2 = o1;
		System.out.println("o1.orderId = " + o1.orderId + ",o2.orderId = " + o2.orderId);

		o2.orderId = 1002;
		System.out.println("o1.orderId = " + o1.orderId + ",o2.orderId = " + o2.orderId);

	}
}

class Order{
	int orderId;
}
```

#### 4.8.1、 **针对基本数据类型**

```java

public class ValueTransferTest1 {

	public static void main(String[] args) {

		int m = 10;
		int n = 20;

		System.out.println("m = " + m + ", n = " + n);

		ValueTransferTest1 test = new ValueTransferTest1();
		test.swap(m, n);

		System.out.println("m = " + m + ", n = " + n);

	}

	public void swap(int m,int n){
		int temp = m;
		m = n;
		n = temp;
	}
}
```

![](https://gitee.com/lsqpic/BlogPicBed-1/raw/master/img/2021/01/28/20210131185954)

#### 4.8.2、 **针对引用数据类型**

```java

public class ValueTransferTest2 {

	public static void main(String[] args) {
		Data data = new Data();

		data.m = 10;
		data.n = 20;

		System.out.println("m = " + data.m + ", n = " + data.n);

		ValueTransferTest2 test = new ValueTransferTest2();
		test.swap(data);

		System.out.println("m = " + data.m + ", n = " + data.n);

	}

	public void swap(Data data){
		int temp = data.m;
		data.m = data.n;
		data.n = temp;
	}
}

class Data{

	int m;
	int n;
}
```

![](https://img-blog.csdnimg.cn/img_convert/4e2fc6b32f4a88bd95ddc2691f84d3e0.png)

#### 4.8.3、 **练习1**

```java
public class TransferTest3{
	public static void main(String args[]){
		TransferTest3 test=new TransferTest3();
		test.first();
	}

	public void first(){
		int i=5;
		Value v=new Value();
		v.i=25;
		second(v,i);
		System.out.println(v.i);
	}

	public void second(Value v,int i){
		i=0;
		v.i=20;
		Value val=new Value();
		v=val;
		System.out.println(v.i+" "+i);

	}
}
class Value {
	int i= 15;
}
```

![](https://img-blog.csdnimg.cn/img_convert/beae8aceffb02040a75f507e5f740b90.png)

#### 4.8.4、 **练习2**

![](https://img-blog.csdnimg.cn/img_convert/435f302831c0ca1b9cebff25ac099693.png)

```java
public static void method(int a,int b){
	a = a * 10;
	b = b * 20;
	System.out.println(a);
	System.out.println(b);
	System.exit(0);
}
```

#### 4.8.5、 **练习3**

```java

for(int i= 0;i < arr.length;i++){
	arr[i] = arr[i] / arr[0];
}

for(int i = arr.length –1;i >= 0;i--){
	arr[i] = arr[i] / arr[0];
}

int temp = arr[0];
for(int i= 0;i < arr.length;i++){
	arr[i] = arr[i] / temp;
}
```

#### 4.8.6、 **练习4**

```java

public class ArrayPrint {

	public static void main(String[] args) {
		int[] arr = new int[]{1,2,3};

		System.out.println(arr);

		char[] arr1 = new char[]{'a','b','c'};

		System.out.println(arr1);
	}
}
```

#### 4.8.7、 **练习5：将对象作为参数传递给方法**

```java

public class Circle {

	double radius;

	public double findArea(){
		return radius * radius * Math.PI;
	}
}
```

> **PassObject类**

```java
public class PassObject {

	public static void main(String[] args) {
		PassObject test = new PassObject();

		Circle c = new Circle();

		test.printAreas(c, 5);

		System.out.println("no radius is:" + c.radius);
	}

	public void printAreas(Circle c,int time){

		System.out.println("Radius\t\tAreas");

		for(int i = 1;i  time ;i++){
			c.radius = i;
			System.out.println(c.radius + "\t\t" + c.findArea());
		}

		c.radius = time + 1;
	}
}
```

### 4.9、递归(recursion)方法

```java

public class RecursionTest {

	public static void main(String[] args) {

		int sum = 0;
		for (int i = 1; i  100; i++) {
			sum += i;
		}
		System.out.println("sum = " + sum);

		RecursionTest test = new RecursionTest();
		int sum1 = test.getSum(100);
		System.out.println("sum1 = " + sum1);
	}

	public int getSum(int n) {

		if (n == 1) {
			return 1;
		} else {
			return n + getSum(n - 1);
		}
	}

	public int getSum1(int n) {

		if (n == 1) {
			return 1;
		} else {
			return n * getSum1(n - 1);
		}
	}
}
```

> 1、 **练习1**

```java
public class RecursionTest {

	public static void main(String[] args) {

		int value = test.f(10);
		System.out.println(value);
	}

	public int f(int n){
		if(n == 0){
			return 1;
		}else if(n == 1){
			return 4;
		}else{
			return 2*f(n-1) + f(n-2);
		}
	}

	public int f1(int n){
		if(n == 20){
			return 1;
		}else if(n == 21){
			return 4;
		}else{
			return 2*f1(n-1) + f1(n-2);
		}
	}
}
```

> 2、 **练习2**

```java

public class Recursion2 {

	public static void main(String[] args) {

		Recursion2 test = new Recursion2();
		int value = test.f(10);
		System.out.println(value);
	}

	public int f(int n) {

		if (n == 1 || n == 2) {
			return 1;
		} else {
			return f(n - 1) + f(n - 2);
		}
	}
}
```

## 05、面向对象特征之一：封装与隐藏

> 1、封装性的引入与体现

为什么需要封装？封装的作用和含义？
我要用洗衣机，只需要按一下开关和洗涤模式就可以了。有必要了解洗衣机内部的结构吗？有必要碰电动机吗？
我要开车，...

> 2、我们程序设计追求"高内聚，低耦合"。

高内聚：类的内部数据操作细节自己完成，不允许外部干涉；
低耦合：仅对外暴露少量的方法用于使用。

> 3、隐藏对象内部的复杂性，只对外公开简单的接口。

便于外界调用，从而提高系统的可扩展性、可维护性。通俗的说， **把该隐藏的隐藏起来，该暴露的暴露出来。这就是封装性的设计思想。**

```java

public class AnimalTest {

	public static void main(String[] args) {
		Animal a = new Animal();
		a.name = "大黄";

		a.show();

		a.setLegs(-6);

		a.show();

		System.out.println(a.name);
		System.out.println(a.getLegs());
	}
}
class Animal{

	String name;
	private int age;
	private int legs;

	public void setLegs(int l){
		if(l >= 0 && l % 2 == 0){
			legs = l;
		}else{
			legs = 0;
		}
	}

	public int getLegs(){
		return legs;
	}

	public void eat(){
		System.out.println("动物进食");
	}

	public void show(){
		System.out.println("name = " + name + ",age = " + age + ",legs = " + legs);
	}

	public int getAge(){
		return age;
	}

	public void setAge(int a){
		age = a;
	}
}
```

### 5.1、四种权限修饰符的理解与测试

Java 权限修饰符 `public&#x3001;protected&#x3001;default(&#x7F3A;&#x7701;)&#x3001;private` 置于类的成员定义前，用来限定对象对该类成员的访问权限。

![](https://img-blog.csdnimg.cn/img_convert/ab992b12ef5b16774376e00dab0415e0.png)

**对于 class 的权限修饰只可以用 public 和 default(缺省)。**

* public 类可以在任意地方被访问。
* default 类只可以被同一个包内部的类访问。

> 1、 **Order 类**

```java

public class Order {

	private int orderPrivate;
	int orderDefault;
	public int orderPublic;

	private void methodPrivate(){
		orderPrivate = 1;
		orderDefault = 2;
		orderPublic = 3;
	}

	void methodDefault(){
		orderPrivate = 1;
		orderDefault = 2;
		orderPublic = 3;
	}

	public void methodPublic(){
		orderPrivate = 1;
		orderDefault = 2;
		orderPublic = 3;
	}
}
```

> 2、 **OrderTest 类**

```java
public class OrderTest {

	public static void main(String[] args) {

		Order order = new Order();

		order.orderDefault = 1;
		order.orderPublic = 2;

		order.methodDefault();
		order.methodPublic();

	}
}
```

> **相同项目不同包的 OrderTest 类**

```java
import github.Order;

public class OrderTest {

	public static void main(String[] args) {
		Order order = new Order();

		order.orderPublic = 2;

		order.methodPublic();

	}
}
```

![](https://gitee.com/lsqpic/BlogPicBed-1/raw/master/img/2021/01/28/20210131190033.png)

### 5.2、封装性的练习

![](https://img-blog.csdnimg.cn/img_convert/14df2c230ae124b47badd1df03f7f4ec.png)

```java

public class Person {

	private int age;

	public void setAge(int a){
		if(a < 0 || a > 130){

			System.out.println("传入的数据据非法");
			return;
		}

		age = a;

	}

	public int getAge(){
		return age;
	}

	public int doAge(int a){
		age = a;
		return age;
	}
}
```

> 3、 **测试类**

```java

public class PersonTest {

	public static void main(String[] args) {
		Person p1 = new Person();

		p1.setAge(12);

		System.out.println("年龄为:" + p1.getAge());
	}
}
```

## 06、 构造器(构造方法)

### 6.1、构造器的理解

```java

public class PersonTest {

	public static void main(String[] args) {

		Person p = new Person();

		p.eat();

		Person p1 = new Person("Tom");
		System.out.println(p1.name);
	}
}
class Person{

	String name;
	int age;

	public Person(){
		System.out.println("Person()......");
	}

	public Person(String n){
		name = n;
	}

	public Person(String n,int a){
		name = n;
		age = a;
	}

	public void eat(){
		System.out.println("人吃饭");
	}

	public void study(){
		System.out.println("人学习");
	}
}
```

> 1、 **练习 1**

```java

public class Person {

	private int age;

	public Person(){
		age = 18;
	}
}

public class PersonTest {

	public static void main(String[] args) {
		Person p1 = new Person();

		System.out.println("年龄为:" + p1.getAge());
	}
}
```

> 2、 **练习 2**

```java

public class Person {

	private int age;
	private String name;

	public Person(){
		age = 18;
	}

	public Person(String n,int a){
		name = n;
		age = a;
	}

	public void setName(String n){
		name = n;
	}

	public String getName(){
		return name;
	}

	public void setAge(int a){
		if(a < 0 || a > 130){

			System.out.println("传入的数据据非法");
			return;
		}

		age = a;

	}

	public int getAge(){
		return age;
	}
}

public class PersonTest {

	public static void main(String[] args) {

		Person p2 = new Person("Tom",21);

		System.out.println("name = " + p2.getName() + ",age = " + p2.getAge());
	}
}
```

> 3、 **练习 3**

```java

public class TriAngle {

	private double base;
	private double height;

	public TriAngle(){

	}

	public TriAngle(double b,double h){
		base = b;
		height = h;
	}

	public void setBase(double b){
		base = b;
	}

	public double getBase(){
		return base;
	}

	public void setHeight(double h){
		height = h;
	}

	public double getHeight(){
		return height;
	}
}

public class TriAngleTest {

	public static void main(String[] args) {

		TriAngle t1 = new TriAngle();
		t1.setBase(2.0);
		t1.setHeight(2.5);

		System.out.println("base : " + t1.getBase() + ",height : " + t1.getHeight());

		TriAngle t2 = new TriAngle(5.1,5.6);
		System.out.println("面积 : " + t2.getBase() * t2.getHeight() / 2);

	}
}
```

### 6.2、总结属性赋值的过程

```java

public class UserTest {

	public static void main(String[] args) {
		User u = new User();

		System.out.println(u.age);

		User u1 = new User(2);

		u1.setAge(3);

		System.out.println(u1.age);
	}
}
class User{
	String name;
	int age = 1;

	public User(){

	}

	public User(int a){
		age = a;
	}

	public void setAge(int a){
		age = a;
	}
}
```

### 6.3、JavaBean 的使用

```java

public class Customer {

	private int id;
	private String name;

	public Customer(){

	}

	public void setId(int i){
		id = i;
	}

	public int getId(){
		return id;
	}

	public void setName(String n){
		name = n;
	}

	public String getName(){
		return name;
	}
}
```

### 6.4、UML 类图

![](https://img-blog.csdnimg.cn/img_convert/4245a65d9610ec85f6b80c6f520d989e.png)

* 表示 public 类型，-表示 private 类型，#表示 protected 类型
* 方法的写法: 方法的类型(+、-) 方法名(参数名：参数类型)：返回值类型

## 07、关键字：this 的使用

### 7.1、this 调用属性、方法、构造器

```java

public class PersonTest {

	public static void main(String[] args) {
		Person p1 = new Person();

		p1.setAge(1);
		System.out.println(p1.getAge());

		p1.eat();
		System.out.println();

		Person p2 = new Person("jerry" ,20);
		System.out.println(p2.getAge());
	}
}
class Person{

	private String name;
	private int age;

	public Person(){
		this.eat();
		String info = "Person 初始化时，需要考虑如下的 1,2,3,4...(共 40 行代码)";
		System.out.println(info);
	}

	public Person(String name){
		this();
		this.name = name;
	}

	public Person(int age){
		this();
		this.age = age;
	}

	public Person(String name,int age){
		this(age);
		this.name = name;

	}

	public void setNmea(String name){
		this.name = name;
	}

	public String getName(){
		return this.name;
	}

	public void setAge(int age){
		this.age = age;
	}

	public int getAge(){
		return this.age;
	}

	public void eat(){
		System.out.println("人吃饭");
		this.study();
	}

	public void study(){
		System.out.println("学习");
	}
}
```

### 7.2、this 的练习

![](https://img-blog.csdnimg.cn/img_convert/d806071ae40c28f681eb09446130c886.png)

> 1、 **Boy 类**

```java
public class Boy {

	private String name;
	private int age;

	public void setName(String name){
		this.name = name;
	}

	public String getName(){
		return name;
	}

	public void setAge(int ahe){
		this.age = age;
	}

	public int getAge(){
		return age;
	}

	public Boy(String name, int age) {
		this.name = name;
		this.age = age;
	}

	public void marry(Girl girl){
		System.out.println("我想娶" + girl.getName());
	}

	public void shout(){
		if(this.age >= 22){
			System.out.println("可以考虑结婚");
		}else{
			System.out.println("好好学习");
		}
	}
}
```

> 2、 **Girl 类**

```java
public class Girl {

	private String name;
	private int age;

	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}

	public Girl(){

	}
	public Girl(String name, int age) {
		this.name = name;
		this.age = age;
	}

	public void marry(Boy boy){
		System.out.println("我想嫁给" + boy.getName());
	}

	public int compare(Girl girl){

		return this.age - girl.age;
	}

}
```

> 3、 **测试类**

```java
public class BoyGirlTest {

	public static void main(String[] args) {

		Boy boy = new Boy("罗密欧",21);
		boy.shout();

		Girl girl = new Girl("朱丽叶", 18);
		girl.marry(boy);

		Girl girl1 = new Girl("祝英台", 19);
		int compare = girl.compare(girl1);
		if(compare > 0){
			System.out.println(girl.getName() + "大");
		}else if(compare < 0){
			System.out.println(girl1.getName() + "大");
		}else{
			System.out.println("一样的");
		}
	}
}
```

> 2、练习2

**Account 类**

```java
public class Account {

	private int id;
	private double balance;
	private double annualInterestRate;

	public void setId(int id) {

	}

	public double getBalance() {
		return balance;
	}

	public void setBalance(double balance) {
		this.balance = balance;
	}

	public double getAnnualInterestRate() {
		return annualInterestRate;
	}

	public void setAnnualInterestRate(double annualInterestRate) {
		this.annualInterestRate = annualInterestRate;
	}

	public int getId() {
		return id;
	}

	public void withdraw(double amount) {
		if(balance < amount){
			System.out.println("余额不足，取款失败");
			return;
		}
		balance -= amount;
		System.out.println("成功取出" + amount);
	}

	public void deposit(double amount) {
		if(amount > 0){
			balance += amount;
			System.out.println("成功存入" + amount);
		}
	}

	public Account(int id, double balance, double annualInterestRate) {
		this.id = id;
		this.balance = balance;
		this.annualInterestRate = annualInterestRate;
	}

}
```

**Customer 类**

```java
public class Customer {

	private String firstName;
	private String lastName;
	private Account account;

	public Customer(String f, String l) {
		this.firstName = f;
		this.lastName = l;
	}

	public String getFirstName() {
		return firstName;
	}

	public String getLastName() {
		return lastName;
	}

	public Account getAccount() {
		return account;
	}

	public void setAccount(Account account) {
		this.account = account;
	}

}
```

**CustomerTest 类**

```java

public class CustomerTest {

	public static void main(String[] args) {
		Customer cust = new Customer("Jane" , "Smith");

		Account acct = new Account(1000,2000,0.0123);

		cust.setAccount(acct);

		cust.getAccount().deposit(100);
		cust.getAccount().withdraw(960);
		cust.getAccount().withdraw(2000);

		System.out.println("Customer[" + cust.getLastName() + cust.getFirstName() + "]  has  a  account:  id  is "
				+ cust.getAccount().getId() + ",annualInterestRate  is " + cust.getAccount().getAnnualInterestRate() * 100 + "%,  balance  is "
				+ cust.getAccount().getBalance());
	}
}
```

> 3、练习3

**Account 类**

```java
public class Account {

	private double balance;

	public double getBalance() {
		return balance;
	}

	public Account(double init_balance){
		this.balance = init_balance;
	}

	public void deposit(double amt){
		if(amt > 0){
			balance += amt;
			System.out.println("存钱成功");
		}
	}

	public void withdraw(double amt){
		if(balance >= amt){
			balance -= amt;
			System.out.println("取钱成功");
		}else{
			System.out.println("余额不足");
		}
	}
}
```

**Customer 类**

```java
public class Customer {

	private String firstName;
	private String lastName;
	private Account account;

	public String getFirstName() {
		return firstName;
	}
	public String getLastName() {
		return lastName;
	}
	public Account getAccount() {
		return account;
	}
	public void setAccount(Account account) {
		this.account = account;
	}
	public Customer(String f, String l) {
		this.firstName = f;
		this.lastName = l;
	}
}
```

**Bank 类**

```java
public class Bank {

	private int numberOfCustomers;
	private Customer[] customers;

	public Bank(){
		customers = new Customer[10];
	}

	public void addCustomer(String f,String l){
		Customer cust = new Customer(f,l);

		customers[numberOfCustomers++] = cust;
	}

	public int getNumberOfCustomers() {
		return numberOfCustomers;
	}

	public Customer getCustomers(int index) {

		if(index >= 0 && index < numberOfCustomers){
			return customers[index];
		}

		return null;
	}

}
```

**BankTest 类**

```java
public class BankTest {

	public static void main(String[] args) {

		Bank bank = new Bank();

		bank.addCustomer("Jane", "Smith");

		bank.getCustomers(0).setAccount(new Account(2000));

		bank.getCustomers(0).getAccount().withdraw(500);

		double balance = bank.getCustomers(0).getAccount().getBalance();

		System.out.println("客户: " + bank.getCustomers(0).getFirstName() + "的账户余额为：" + balance);

		System.out.println("***************************");
		bank.addCustomer("万里", "杨");

		System.out.println("银行客户的个数为: " + bank.getNumberOfCustomers());

	}
}
```

## 08、 关键字：package、import 的使用

### 8.1、关键字—package

```java

public class PackageImportTest {

}
```

> **JDK 中主要的包介绍**

```java
1.java.lang----包含一些 Java 语言的核心类，如 String、Math、Integer、System 和 Thread，提供常用功能
2.java.net----包含执行与网络相关的操作的类和接口。
3.java.io----包含能提供多种输入/输出功能的类。
4.java.util----包含一些实用工具类，如定义系统特性、接口的集合框架类、使用与日期日历相关的函数。
5.java.text----包含了一些 java 格式化相关的类
6.java.sql----包含了 java 进行 JDBC 数据库编程的相关类/接口
7.java.awt----包含了构成抽象窗口工具集（abstractwindowtoolkits）的多个类，这些类被用来构建和管理应用程序的图形用户界面(GUI)。B/S  C/S
```

### 8.2、MVC 设计模式

MVC 是常用的设计模式之一，将整个程序分为三个层次： **视图模型层，控制器层，数据模型层**。这种将程序输入输出、数据处理，以及数据的展示分离开来的设计模式使程序结构变的灵活而且清晰，同时也描述了程序各个对象间的通信方式，降低了程序的耦合性。

![](https://img-blog.csdnimg.cn/img_convert/9f9ff69148f88dede9093114379f7173.png)
![](https://img-blog.csdnimg.cn/img_convert/4e1a5995c0b08f5fe36fb09d25e53b61.png)

### 8.3、关键字—import

```java
import java.util.*;

import account2.Bank;

public class PackageImportTest {

	public static void main(String[] args) {
		String info = Arrays.toString(new int[]{1,2,3});

		Bank bank = new Bank();

		ArrayList list = new ArrayList();
		HashMap map = new HashMap();

		Scanner s = null;

		System.out.println("hello");

		UserTest us = new UserTest();

	}
}
```

## 09、继承性的使用与理解

> 1、Person 类

```java

public class Person {

	String name;
	private int age;

	public Person(){

	}

	public Person(String name,int age){
		this.name = name;
		this.age = age;
	}

	public void eat(){
		System.out.println("吃饭");
		sleep();
	}

	private void sleep(){
		System.out.println("睡觉");
	}

	public int getAge() {
		return age;
	}

	public void setAge(int age) {
		this.age = age;
	}

}
```

> 2、Student 类

```java

public class Student extends Person {

	String major;

	public Student(){

	}

	public Student(String name,int age,String major){
		this.name = name;

		setAge(age);
		this.major = major;
	}

	public void study(){
		System.out.println("学习");
	}

	public void show(){
		System.out.println("name:" + name + ",age = " + getAge());
	}

}
```

> 3、测试类

```java

public class ExtendsTest {

	public static void main(String[] args) {
		Person p1 = new Person();

		p1.eat();
		System.out.println("********************");

		Student s1 = new Student();
		s1.eat();

		s1.name = "Tom";

		s1.setAge(10);
		System.out.println(s1.getAge());

	}
}
```

![](https://img-blog.csdnimg.cn/img_convert/cb041fed5ec912d35815aa8e72d8ecdf.png)
![](https://img-blog.csdnimg.cn/img_convert/cc9569b92c2b8879b873cd05741fe753.png)

> 3、Java 中关于继承性的规定

```java

public class ExtendsTest {

	public static void main(String[] args) {
		s1.brease();

		Creature c = new Creature();
		System.out.println(c.toString());

	}
}
```

> 4、将上述 Person 类改为如下

```java
public class Person extends Creature {
    ...

}
```

> 5、Creature 类

```java
public class Creature {

	public void brease(){
		System.out.println("呼吸");
	}
}
```

![](https://img-blog.csdnimg.cn/img_convert/8db4be3118c475db5598c470284c8dd4.png)

### 9.1、继承性练习

> 1、练习1

![](https://img-blog.csdnimg.cn/img_convert/fddefc1254d3110ff26903251083c36b.png)

```java

public class Kids extends ManKind{

	private int yearsOld;

	public Kids() {

	}

	public Kids(int yearsOld) {
		this.yearsOld = yearsOld;
	}

	public int getYearsOld() {
		return yearsOld;
	}

	public void setYearsOld(int yearsOld) {
		this.yearsOld = yearsOld;
	}

	public void printAge(){
		System.out.println("I am " + yearsOld);
	}
}
```

ManKind类

```java

public class ManKind {

	private int sex;
	private int salary;

	public ManKind() {

	}

	public ManKind(int sex, int salary) {
		this.sex = sex;
		this.salary = salary;
	}

	public void manOrWoman(){
		if(sex==1){
			System.out.println("man");
		}else if(sex==0){
			System.out.println("woman");
		}
	}

	public void employeed(){
		if(salary==0){
			System.out.println("no job");
		}else if(salary!=0){
			System.out.println("job");
		}
	}

	public int getSex() {
		return sex;
	}

	public void setSex(int sex) {
		this.sex = sex;
	}

	public int getSalary() {
		return salary;
	}

	public void setSalary(int salary) {
		this.salary = salary;
	}

}
```

KidsTest

```java

public class KidsTest {
	public static void main(String[] args) {

		Kids someKid = new Kids(12);

		someKid.printAge();

		someKid.setYearsOld(15);
		someKid.setSalary(0);
		someKid.setSex(1);

		someKid.employeed();
		someKid.manOrWoman();
	}
}
```

> 2、练习2

![](https://img-blog.csdnimg.cn/img_convert/c0be1eac6215b7a27e0b209d2fb4dd97.png)

```java
public class Circle {

	public double radius;

	public Circle(){
		radius = 1.0;
	}

	public double getRadius() {
		return radius;
	}

	public void setRadius(double radius) {
		this.radius = radius;
	}

	public double findArea(){
		return Math.PI * radius * radius;
	}
}
```

Cylinder类

```java
public class Cylinder extends Circle{

	private double length;

	public Cylinder(){
		length = 1.0;
	}

	public double getLength() {
		return length;
	}

	public void setLength(double length) {
		this.length = length;
	}

	public double findVolume(){
		return findArea() * length;
	}
}
```

测试类

```java
public class CylinderTest {
	public static void main(String[] args) {

		Cylinder cy = new Cylinder();

		cy.setRadius(2.1);
		cy.setLength(3.4);
		double volues = cy.findVolume();
		System.out.println("圆柱的体积:" + volues);

		double area = cy.findArea();
		System.out.println("圆的面积: " + area);
	}
}
```

## 10、方法的重写(override/overwrite)

> 1、Person类

```java
public class Person {

	String name;
	int age;

	public Person(){

	}

	public Person(String name,int age){
		this.name = name;
		this.age = age;
	}

	public void eat(){
		System.out.println("吃饭");
	}

	public void walk(int distance){
		System.out.println("走路，走的距离是：" + distance + "公里");
		show();
	}

	private void show(){
		System.out.println("我是一个人。");
	}

	public Object info(){
		return null;
	}

	public double info1(){
		return 1.0;
	}
}
```

> 2、Student类

```java
public class Student extends Person{

	String major;

	public Student(){

	}

	public Student(String major){
		this.major = major;
	}

	public void study(){
		System.out.println("学习，专业是:" + major);
	}

	public void eat(){
		System.out.println("学生应该多吃有营养的。");
	}

	public void show(){
		System.out.println("我是一个学生。");
	}

	public String info(){
		return null;
	}

	@Override
	public void walk(int distance) {
		System.out.println("自动生成");
	}
}
```

> 3、测试类

```java

public class PersonTest {

	public static void main(String[] args) {
		Student s = new Student("计算机科学与技术");
		s.eat();
		s.walk(10);

		s.study();
	}
}
```

### 10.1、方法重写的细节

> 1、Person类

```java
public class Person {

	String name;
	int age;

	public Person(){

	}

	public Person(String name,int age){
		this.name = name;
		this.age = age;
	}

	static void eat(){
		System.out.println("吃饭");
	}

	public void walk(int distance){
		System.out.println("走路，走的距离是：" + distance + "公里");
		show();
	}

	private void show(){
		System.out.println("我是一个人。");
	}

	public Object info(){
		return null;
	}

	public double info1(){
		return 1.0;
	}
}
```

> 2、Student类

```java
public class Student extends Person{

	String major;

	public Student(){

	}

	public Student(String major){
		this.major = major;
	}

	public void study(){
		System.out.println("学习，专业是:" + major);
	}

	public static void eat(){
		System.out.println("学生应该多吃有营养的。");
	}

	public void show(){
		System.out.println("我是一个学生。");
	}

	public String info(){
		return null;
	}

	@Override
	public void walk(int distance) {
		System.out.println("自动生成");
	}
}
```

> 3、测试类

```java

public class PersonTest {

	public static void main(String[] args) {
		Student s = new Student("计算机科学与技术");
		s.eat();
		s.walk(10);
		System.out.println("*******************");

		s.study();

		Person p1 = new Person();
		p1.eat();
	}
}
```

### 10.2、方法的练习

> 1、练习1

```java
1.如果现在父类的一个方法定义成private访问权限，在子类中将此方法声明为default访问权限，那么这样还叫重写吗？(NO)
1
```

> 2、练习2

```java

public class Kids extends ManKind{

	private int yearsOld;

	public Kids() {

	}

	public Kids(int yearsOld) {
		this.yearsOld = yearsOld;
	}

	public int getYearsOld() {
		return yearsOld;
	}

	public void setYearsOld(int yearsOld) {
		this.yearsOld = yearsOld;
	}

	public void printAge(){
		System.out.println("I am " + yearsOld);
	}

	public void employeed(){
		System.out.println("Kids should study and no job.");
	}
}
```

MindKids类

```java
public class ManKind {

	private int sex;
	private int salary;

	public ManKind() {

	}

	public ManKind(int sex, int salary) {
		this.sex = sex;
		this.salary = salary;
	}

	public void manOrWoman(){
		if(sex==1){
			System.out.println("man");
		}else if(sex==0){
			System.out.println("woman");
		}
	}

	public void employeed(){
		if(salary==0){
			System.out.println("no job");
		}else if(salary!=0){
			System.out.println("job");
		}
	}

	public int getSex() {
		return sex;
	}

	public void setSex(int sex) {
		this.sex = sex;
	}

	public int getSalary() {
		return salary;
	}

	public void setSalary(int salary) {
		this.salary = salary;
	}

}
```

测试类

```java
public class KidsTest {
	public static void main(String[] args) {

		Kids someKid = new Kids(12);

		someKid.printAge();

		someKid.setYearsOld(15);
		someKid.setSalary(0);
		someKid.setSex(1);

		someKid.employeed();
		someKid.manOrWoman();
	}
}
```

## 11、四种访问权限修饰符

> 四种权限修饰符

![](https://img-blog.csdnimg.cn/img_convert/c10d9f7a2cfc118c122baa567ba968ca.png)

> Order类

```java
package githubb;

public class Order {

	private int orderPrivate;
	int orderDefault;
	protected int orderProtected;
	public int orderPublic;

	private void methodPrivate(){
		orderPrivate = 1;
		orderDefault = 2;
		orderProtected = 3;
		orderPublic = 4;
	}

	void methodDefault(){
		orderPrivate = 1;
		orderDefault = 2;
		orderProtected = 3;
		orderPublic = 4;
	}

	protected void methodProtected(){
		orderPrivate = 1;
		orderDefault = 2;
		orderProtected = 3;
		orderPublic = 4;
	}

	public void methodPublic(){
		orderPrivate = 1;
		orderDefault = 2;
		orderProtected = 3;
		orderPublic = 4;
	}
}
```

> Ordertest类

```java
package githubb;

public class OrderTest {
	public static void main(String[] args) {

		Order order = new Order();

		order.orderDefault = 1;
		order.orderProtected = 2;
		order.orderPublic = 3;

		order.methodDefault();
		order.methodProtected();
		order.methodPublic();

	}
}
```

> SubOrder类

```java
package githubc;

import githubb.Order;

public class SubOrder extends Order{

	public void method(){
		orderProtected = 1;
		orderPublic = 2;

		methodProtected();
		methodPublic();

	}
}
```

> OrderTest类

```java
package githubc;

import githubb.Order;

public class OrderTest {
	public static void main(String[] args) {

		Order order = new Order();
		order.orderPublic = 1;
		order.methodPublic();

	}

	public void show(Order order){
		order.orderPublic = 1;
		order.methodPublic();

	}
}
```

## 12、关键字：super

> Person类

```java
public class Person {

	String name;
	int age;
	int id = 1003;

	public Person(){
		System.out.println("我无处不在");
	}

	public Person(String name){
		this.name = name;
	}

	public Person(String name,int age){
		this(name);
		this.age = age;
	}

	public void eat(){
		System.out.println("人，吃饭");
	}

	public void walk(){
		System.out.println("人，走路");
	}
}
```

> Student类

```java
public class Student extends Person{

	String major;
	int id = 1002;

	public Student(){

	}

	public Student(String name,int age,String major){

		super(name,age);
		this.major = major;
	}

	public Student(String major){
		this.major = major;
	}

	public void eat(){
		System.out.println("学生多吃有营养的食物");
	}

	public void Study(){
		System.out.println("学生，学习知识。");
		this.eat();

		super.eat();
		super.walk();
	}
	public void show(){
		System.out.println("name = " + this.name + ",age = " + super.age);
		System.out.println("id = " + this.id);
		System.out.println("id = " + super.id);
	}
}
```

> 测试类

```java

public class SuperTest {
	public static void main(String[] args) {

		Student s = new Student();
		s.show();

		s.Study();

		Student s1 = new Student("Ton",21,"IT" );
		s1.show();

		System.out.println("***********************");
		Student s2 = new Student();

	}
}
```

## 13、子类对象实例化过程

![](https://img-blog.csdnimg.cn/img_convert/2add7cbc6ccf4e7b02966a050c178675.png)
![](https://img-blog.csdnimg.cn/img_convert/408eeec5cf31085be7d7e0321aa39b3d.png)

```java

public class InstanceTest {

}
```

> 练习

Account类

```java

public class Account {

	private int id;
	private double balance;
	private double annualInterestRate;

	public Account(int id, double balance, double annualInterestRate) {
		super();
		this.id = id;
		this.balance = balance;
		this.annualInterestRate = annualInterestRate;
	}

	public int getId() {
		return id;
	}

	public void setId(int id) {
		this.id = id;
	}

	public double getBalance() {
		return balance;
	}

	public void setBalance(double balance) {
		this.balance = balance;
	}

	public double getAnnualInterestRate() {
		return annualInterestRate;
	}

	public void setAnnualInterestRate(double annualInterestRate) {
		this.annualInterestRate = annualInterestRate;
	}

	public double getMonthlyInterest(){
		return annualInterestRate / 12;
	}

	public void withdraw (double amount){
		if(balance >= amount){
			balance -= amount;
			return;
		}
		System.out.println("余额不足");
	}

	public void deposit (double amount){
		if(amount > 0){
			balance += amount;

		}
	}

}
```

AccountTest类

```java

public class AccountTest {
	public static void main(String[] args) {
		Account acct = new Account(1122,20000,0.045);

		acct.withdraw(30000);
		System.out.println("你的账户余额为:" + acct.getBalance());
		acct.withdraw(2500);
		System.out.println("你的账户余额为:" + acct.getBalance());
		acct.deposit(3000);
		System.out.println("你的账户余额为:" + acct.getBalance());

		System.out.println("月利率为: " + (acct.getAnnualInterestRate() * 100) + "%");
	}
}
```

CheckAccount类

```java

public class CheckAccount extends Account{

	private double overdraft;

	public CheckAccount(int id, double balance, double annualInterestRate,double overdraft){
		super(id, balance, annualInterestRate);
		this.overdraft = overdraft;
	}

	public double getOverdraft() {
		return overdraft;
	}

	public void setOverdraft(double overdraft) {
		this.overdraft = overdraft;
	}

	@Override
	public void withdraw(double amount) {
		if(getBalance() >= amount){

			super.withdraw(amount);
		}else if(overdraft >= amount - getBalance()){

			overdraft -= (amount - getBalance());

			super.withdraw(getBalance());

		}else{
			System.out.println("超过可透支限额！");
		}

	}
}
```

CheckAccountTest类

```java

public class CheckAccountTest {
	public static void main(String[] args) {
		CheckAccount cat = new CheckAccount(1122,20000,0.045,5000);

		cat.withdraw(5000);
		System.out.println("您的账户余额为: " + cat.getBalance());
		System.out.println("您的可透支额度为: " + cat.getOverdraft());

		cat.withdraw(18000);
		System.out.println("您的账户余额为: " + cat.getBalance());
		System.out.println("您的可透支额度为: " + cat.getOverdraft());

		cat.withdraw(3000);
		System.out.println("您的账户余额为: " + cat.getBalance());
		System.out.println("您的可透支额度为: " + cat.getOverdraft());
	}
}
```

## 14、面向对象特征之三：多态性

> Person类

```java
public class Person {
	String name;
	int age;

	public void eat(){
		System.out.println("人，吃饭");
	}

	public void walk(){
		System.out.println("人，走路");
	}

}
```

> Woman类

```java
public class Woman extends Person{

	boolean isBeauty;

	public void goShopping(){
		System.out.println("女人喜欢购物");
	}

	public void eat(){
		System.out.println("女人少吃，为了减肥。");
	}

	public void walk(){
		System.out.println("女人，窈窕的走路。");
	}
}
```

> Man类

```java
public class Man extends Person{

	boolean isSmoking;

	public void earnMoney(){
		System.out.println("男人负责工作养家");
	}

	public void eat() {
		System.out.println("男人多吃肉，长肌肉");
	}

	public void walk() {
		System.out.println("男人霸气的走路");
	}
}
```

> 测试类

```java

public class PersonTest {
	public static void main(String[] args) {

	Person p1 = new Person();
	p1.eat();

	Man man = new Man();
	man.eat();
	man.age = 25;
	man.earnMoney();

	Person p2 = new Man();

	p2.eat();
	p2.walk();

	}
}
```

> 举例

```java

public class AnimalTest {

	public static void main(String[] args) {
		AnimalTest test = new AnimalTest();
		test.func(new Dog());

		test.func(new Cat());
	}

	public void func(Animal animal){
		animal.eat();
		animal.shout();
	}

	public void func(Dog dog){
		dog.eat();
		dog.shout();
	}

	public void func(Cat cat){
		cat.eat();
		cat.shout();
	}
}

class Animal{

	public void eat(){
		System.out.println("动物，进食");
	}

	public void shout(){
		System.out.println("动物：叫");
	}
}

class Dog extends Animal{
	public void eat(){
		System.out.println("狗吃骨头");
	}

	public void shout() {
		System.out.println("汪！汪！汪！");
	}
}

class Cat extends Animal{
	public void eat(){
		System.out.println("猫吃鱼");
	}

	public void shout() {
		System.out.println("喵！喵！喵！");
	}
}
```

### 14.1、虚拟方法的补充

```java
import java.util.Random;

class Animal  {

	protected void eat() {
		System.out.println("animal eat food");
	}
}

class Cat  extends Animal  {

	protected void eat() {
		System.out.println("cat eat fish");
	}
}

class Dog  extends Animal  {

	public void eat() {
		System.out.println("Dog eat bone");

	}

}

class Sheep  extends Animal  {

	public void eat() {
		System.out.println("Sheep eat grass");

	}

}

public class InterviewTest {

	public static Animal  getInstance(int key) {
		switch (key) {
		case 0:
			return new Cat ();
		case 1:
			return new Dog ();
		default:
			return new Sheep ();
		}

	}

	public static void main(String[] args) {
		int key = new Random().nextInt(3);

		System.out.println(key);

		Animal  animal = getInstance(key);

		animal.eat();

	}

}
```

### 14.2、向下转型的使用

> Person 类

```java
public class Person {
	String name;
	int age;

	public void eat(){
		System.out.println("人，吃饭");
	}

	public void walk(){
		System.out.println("人，走路");
	}

}
```

> Man 类

```java
public class Man extends Person{

	boolean isSmoking;

	public void earnMoney(){
		System.out.println("男人负责工作养家");
	}

	public void eat() {
		System.out.println("男人多吃肉，长肌肉");
	}

	public void walk() {
		System.out.println("男人霸气的走路");
	}
}
```

> Woman 类

```java
public class Woman extends Person{

	boolean isBeauty;

	public void goShopping(){
		System.out.println("女人喜欢购物");
	}

	public void eat(){
		System.out.println("女人少吃，为了减肥。");
	}

	public void walk(){
		System.out.println("女人，窈窕的走路。");
	}
}
```

> PersonTest 类

```java

public class PersonTest {
	public static void main(String[] args) {

		Person p1 = new Person();
		p1.eat();

		Man man = new Man();
		man.eat();
		man.age = 25;
		man.earnMoney();

		System.out.println("************************");

		Person p2 = new Man();

		p2.eat();
		p2.walk();

		System.out.println("**************************");

		p2.name = "Tom";

		Man m1 = (Man) p2;
		m1.earnMoney();
		m1.isSmoking = true;

		if (p2 instanceof Woman) {
			Woman w1 = (Woman) p2;
			w1.goShopping();
			System.out.println("**********Woman*********");
		}

		if (p2 instanceof Man) {
			Man m2 = (Man) p2;
			m2.earnMoney();
			System.out.println("*********Man************");
		}

		if (p2 instanceof Person) {
			System.out.println("***********Person************");
		}

		if (p2 instanceof Object) {
			System.out.println("***********object************");
		}

		Person p4 = new Person();
		Man m4 = (Man)p4;

		Object obj = new Woman();
		Person p = (Person)obj;

	}
}
```

![](https://img-blog.csdnimg.cn/img_convert/c6dcce377d1fae98ba497cc11d3b4163.png)

### 14.3、多态性的练习

> 1、练习1

```java

public class FieldMethodTest {
	public static void main(String[] args){
		Sub s= new Sub();
		System.out.println(s.count);
		s.display();

		Base b = s;

		System.out.println(b == s);
		System.out.println(b.count);
		b.display();
	}
}

class Base {
	int count= 10;
	public void display() {
		System.out.println(this.count);
	}
}

class Sub extends Base {
	int count= 20;
	public void display() {
		System.out.println(this.count);
	}
}
```

> 2、练习2

```java

class Person {
	protected String name = "person";
	protected int age = 50;

	public String getInfo() {
		return "Name: " + name + "\n" + "age: " + age;
	}
}

class Student extends Person {
	protected String school = "pku";

	public String getInfo() {
		return "Name: " + name + "\nage: " + age + "\nschool: " + school;
	}
}

class Graduate extends Student {
	public String major = "IT";

	public String getInfo() {
		return "Name: " + name + "\nage: " + age + "\nschool: " + school + "\nmajor:" + major;
	}
}

public class InstanceTest{

	public static void main(String[] args) {

		InstanceTest test = new InstanceTest();
		test.method(new Student());

	}

	public void method(Person e){
		String info = e.getInfo();
		System.out.println(info);

		if(e instanceof Graduate){
			System.out.println("a graduated student");
			System.out.println("a student");
			System.out.println("a person");
		}else if(e instanceof Student){
			System.out.println("a student");
			System.out.println("a person");
		}else{
			System.out.println("a person");
		}

		if(e instanceof Graduate){
			System.out.println("a graduated student");
		}
		if(e instanceof Student){
			System.out.println("a student");
		}
		if(e instanceof Person){
			System.out.println("a person");
		}
	}
}
```

> 3、练习3

GeometricObject类

```java

public class GeometricObject {
	protected String color;
	protected double weight;
	public String getColor() {
		return color;
	}
	public void setColor(String color) {
		this.color = color;
	}
	public double getWeight() {
		return weight;
	}
	public void setWeight(double weight) {
		this.weight = weight;
	}
	public GeometricObject(String color, double weight) {
		super();
		this.color = color;
		this.weight = weight;
	}

	public double findArea(){
		return 0.0;
	}
}
```

Circle类

```java
public class Circle extends GeometricObject {

	private double radius;

	public Circle(double weight,String color, double radius) {
		super(color,weight);
		this.radius = radius;
	}

	public double getRadius() {
		return radius;
	}

	public void setRadius(double radius) {
		this.radius = radius;
	}

	@Override
	public double findArea() {
		return 3.14 * radius * radius;
	}
}
```

MyRectangle类

```java
public class MyRectangle extends GeometricObject {

	private double width;
	private double height;

	public MyRectangle(double width, double height,String color,double weight) {
		super(color, weight);
		this.height = height;
		this.width = width;
	}

	public double getWidth() {
		return width;
	}

	public void setWidth(double width) {
		this.width = width;
	}

	public double getHeight() {
		return height;
	}

	public void setHeight(double height) {
		this.height = height;
	}

	@Override
	public double findArea() {
		return width * height;
	}
}
```

GeometricTest类

```java

public class GeometricTest {

	public static void main(String[] args) {
		GeometricTest test = new GeometricTest();

		Circle c1 = new Circle(2.3,"white",1.0);
		test.displayGeometricObject(c1);

		Circle c2 = new Circle(3.3,"white",1.0);
		test.displayGeometricObject(c2);

		boolean isEqual = test.equalsArea(c1, c2);
		System.out.println("面积是否相等: " + isEqual);

		MyRectangle rect = new MyRectangle(2.1, 3.4,"red",1.0);
		test.displayGeometricObject(rect);
	}

	public void displayGeometricObject(GeometricObject o){
		System.out.println("面积为: " + o.findArea());
	}

	public boolean equalsArea(GeometricObject o1,GeometricObject o2){
		return o1.findArea() == o2.findArea();
	}
}
```

练习4

```java

import java.util.Random;

class Animal  {

	protected void eat() {
		System.out.println("animal eat food");
	}
}

class Cat  extends Animal  {

	protected void eat() {
		System.out.println("cat eat fish");
	}
}

class Dog  extends Animal  {

	public void eat() {
		System.out.println("Dog eat bone");
	}
}

class Sheep  extends Animal  {

	public void eat() {
		System.out.println("Sheep eat grass");

	}

}

public class InterviewTest {

	public static Animal  getInstance(int key) {
		switch (key) {
		case 0:
			return new Cat ();
		case 1:
			return new Dog ();
		default:
			return new Sheep ();
		}

	}

	public static void main(String[] args) {
		int key = new Random().nextInt(3);

		System.out.println(key);

		Animal  animal = getInstance(key);

		animal.eat();

	}
}
```

> 4、面试题拓展

```java

public class InterviewTest1 {

	public static void main(String[] args) {
		Base base = new Sub();
		base.add(1, 2, 3);

	}
}

class Base {
	public void add(int a, int... arr) {
		System.out.println("base");
	}
}

class Sub extends Base {

	public void add(int a, int[] arr) {
		System.out.println("sub_1");
	}

}
```

## 15、Object 类的使用

```java

public class ObjectTest {

	public static void main(String[] args) {

	}
}

class Order{

}
```

### 15.1、Object类中的主要结构

![](https://img-blog.csdnimg.cn/img_convert/d9de1281feb25f434a69f809adeb4a24.png)

### 15.2、==操作符与equals方法

```java
import java.sql.Date;

public class EqualsTest {
	public static void main(String[] args) {

		int i = 10;
		int j = 10;
		double d = 10.0;
		System.out.println(i == j);
		System.out.println(i == d);

		char c = 10;
		System.out.println(i == c);

		char c1 = 'A';
		char c2 = 65;
		System.out.println(c1 == c2);

		Customer cust1 = new Customer("Tom" ,21);
		Customer cust2 = new Customer("Tom" ,21);
		System.out.println(cust1 == cust2);

		String str1 = new String("BAT");
		String str2 = new String("BAT");
		System.out.println(str1 == str2);
		System.out.println("*************************");
		System.out.println(cust1.equals(cust2));
		System.out.println(str1.equals(str2));

		Date date1 = new Date(23432525324L);
		Date date2 = new Date(23432525324L);
		System.out.println(date1.equals(date2));
	}
}
```

> Customer类

```java
public class Customer {

	private String name;
	private int age;
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public int getAge() {
		return age;
	}
	public void setAge(int age) {
		this.age = age;
	}
	public Customer() {
		super();
	}
	public Customer(String name, int age) {
		super();
		this.name = name;
		this.age = age;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		Customer other = (Customer) obj;
		if (age != other.age)
			return false;
		if (name == null) {
			if (other.name != null)
				return false;
		} else if (!name.equals(other.name))
			return false;
		return true;
	}

		System.out.println("Customer equals()....");

			if(this.age == cust.age && this.name.equals(cust.name)){
				return true;
			}else{
				return false;
			}

}
```

#### 7.2.1、重写equals()方法的原则

* 对称性：如果x.equals(y)返回是"true"，那么y.equals(x)也应该返回是"true"。
* 自反性：x.equals(x)必须返回是"true"。
* 传递性：如果x.equals(y)返回是"true"，而且y.equals(z)返回是"true"，那么z.equals(x)也应该返回是"true"。
* 一致性：如果x.equals(y)返回是"true"，只要x和y内容一直不变，不管你重复x.equals(y)多少次，返回都是"true"。
* 任何情况下，x.equals(null)，永远返回是"false"；x.equals(和x不同类型的对象)永远返回是"false"。

```java
	int it = 65;
    float fl= 65.0f;
	System.out.println("65和65.0f是否相等？" + (it == fl));
	char ch1 = 'A';
	char ch2 = 12;
	System.out.println("65和'A'是否相等？" + (it == ch1));
	System.out.println("12和ch2是否相等？" + (12 == ch2));
	String str1 = new String("hello");
	String str2 = new String("hello");
	System.out.println("str1和str2是否相等？"+ (str1 == str2));
	System.out.println("str1是否equals str2？"+(str1.equals(str2)));
	System.out.println("hello" == new java.util.Date());
```

> 练习一

```java

public class OrderTest {
	public static void main(String[] args) {
		Order order1 = new Order(1001,"AA");
		Order order2 = new Order(1001,"BB");

		System.out.println(order1.equals(order2));

		Order order3 = new Order(1001,"BB");
		System.out.println(order2.equals(order3));
	}
}

class Order{
	private int orderId;
	private String orderName;
	public int getOrderId() {
		return orderId;
	}
	public void setOrderId(int orderId) {
		this.orderId = orderId;
	}
	public String getOrderName() {
		return orderName;
	}
	public void setOrderName(String orderName) {
		this.orderName = orderName;
	}
	public Order(int orderId, String orderName) {
		super();
		this.orderId = orderId;
		this.orderName = orderName;
	}
	public boolean equals(Object obj){
		if(this == obj){
			return true;
		}
		if(obj instanceof Order){
			Order order = (Order)obj;

			return this.orderId == order.orderId && this.orderName.equals(order.orderName);

		}
		return false;
	}
}
```

> 练习二

```java

public class MyDateTest {
	public static void main(String[] args) {
		MyDate m1= new MyDate(14, 3, 1976);
		MyDate m2= new MyDate(14, 3, 1976);
		if(m1== m2) {
			System.out.println("m1==m2");
		} else{
			System.out.println("m1!=m2");
		}

		if(m1.equals(m2)) {
			System.out.println("m1 is equal to m2");
		} else{
			System.out.println("m1 is not equal to m2");
		}
	}
}

class MyDate{
	private int day;
	private int month;
	private int year;

	public MyDate(int day, int month, int year) {
		super();
		this.day = day;
		this.month = month;
		this.year = year;
	}

	public int getDay() {
		return day;
	}

	public void setDay(int day) {
		this.day = day;
	}

	public int getMonth() {
		return month;
	}

	public void setMonth(int month) {
		this.month = month;
	}

	public int getYear() {
		return year;
	}

	public void setYear(int year) {
		this.year = year;
	}

	@Override
	public boolean equals(Object obj) {
		if(this == obj){
			return true;
		}
		if(obj instanceof MyDate){
			MyDate myDate = (MyDate)obj;
			return this.day == myDate.day && this.month == myDate.month &&
					this.year == myDate.year;
		}
		return false;
	}

}
```

### 15.3、toString的使用

```java
public class Customer {

	private String name;
	private int age;
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public int getAge() {
		return age;
	}
	public void setAge(int age) {
		this.age = age;
	}
	public Customer() {
		super();
	}
	public Customer(String name, int age) {
		super();
		this.name = name;
		this.age = age;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		Customer other = (Customer) obj;
		if (age != other.age)
			return false;
		if (name == null) {
			if (other.name != null)
				return false;
		} else if (!name.equals(other.name))
			return false;
		return true;
	}

		System.out.println("Customer equals()....");

			if(this.age == cust.age && this.name.equals(cust.name)){
				return true;
			}else{
				return false;
			}

	@Override
	public String toString() {
		return "Customer [name=" + name + ", age=" + age + "]";
	}

}
```

> ToStringTest类

```java
import java.util.Date;

public class ToStringTest {
	public static void main(String[] args) {

		Customer cust1 = new Customer("Tom" ,21);
		System.out.println(cust1.toString());
		System.out.println(cust1);

		String str = new String("MM");
		System.out.println(str);

		Date date = new Date(45362348664663L);
		System.out.println(date.toString());

	}
}
```

> 练习

GeometricObject类

```java
public class GeometricObject {
	protected  String  color;
	protected  double  weight;

	public GeometricObject() {
		super();
		this.color = "white";
		this.weight = 1.0;
	}

	public GeometricObject(String color, double weight) {
		super();
		this.color = color;
		this.weight = weight;
	}

	public String getColor() {
		return color;
	}

	public void setColor(String color) {
		this.color = color;
	}

	public double getWeight() {
		return weight;
	}

	public void setWeight(double weight) {
		this.weight = weight;
	}
}
```

> Circle类

```java
public class Circle extends GeometricObject{
	private double radius;

	public Circle() {
		super();

		this.radius = 1.0;
	}

	public Circle(double radius) {
		super();

		this.radius = radius;
	}

	public Circle(double radius,String color,double weight) {
		super(color,weight);
		this.radius = radius;
	}

	public double getRadius() {
		return radius;
	}

	public void setRadius(double radius) {
		this.radius = radius;
	}

	public double findArea(){
		return Math.PI * radius * radius;
	}

	@Override
	public boolean equals(Object obj) {
		if(this == obj){
			return true;
		}

		if(obj instanceof Circle){
			Circle c = (Circle)obj;
			return this.radius == c.radius;
		}

		return false;
	}

	@Override
	public String toString() {
		return "Circle [radius=" + radius + "]";
	}

}
```

> 测试类

```java

public class CircleTest {
	public static void main(String[] args) {

		Circle circle1 = new Circle(2.3);
		Circle circle2 = new Circle(3.3,"white",2.0);

		System.out.println("颜色是否相等: " + circle1.getColor().equals(circle2.color));

		System.out.println("半径是否相等: " + circle1.equals(circle2));

		System.out.println(circle1);
		System.out.println(circle2.toString());
	}
}
```

## 16、包装类(Wrapper)的使用

### 16.1、单元测试方法的使用

```java
import java.util.Date;
import org.junit.Test;

public class JUnit {

	int num = 10;

	@Test
	public void testEquals(){
		String s1 = "MM";
		String s2 = "MM";
		System.out.println(s1.equals(s2));

		System.out.println(num);
		show();
	}

	public void show(){
		num = 20;
		System.out.println("show()...");
	}

	@Test
	public void testToString(){
		String s2 = "MM";
		System.out.println(s2.toString());
	}
}
```

![](https://img-blog.csdnimg.cn/img_convert/2ed96054861a4fa797a564eee2d09cbb.png)
![](https://img-blog.csdnimg.cn/img_convert/9cacb9d5a49fbe6e8ca4f7831975db7d.png)
![](https://img-blog.csdnimg.cn/img_convert/cef0b809e8ecccc1ad7c7bb7f71d625d.png)

### 16.2、包装类的使用

### 16.3、包装类与基本数据类型相互转换

![](https://img-blog.csdnimg.cn/img_convert/fa0116bbaf03d264cc9650a3319da2a8.png)

```java
import org.junit.Test;

public class WrapperTest {

	@Test
	public void test5(){
		String str1 = "123";

		int num2 = Integer.parseInt(str1);
		System.out.println(num2 + 1);

		String str2 = "true";
		Boolean b1 = Boolean.parseBoolean(str2);
		System.out.println(b1);

	}

	@Test
	public void test4(){
		int num1 = 10;

		String str1 = num1 + "";

		float f1 = 12.3f;
		String str2 = String.valueOf(f1);

		Double d1 = new Double(12.4);
		String str3 = String.valueOf(d1);
		System.out.println(str2);
		System.out.println(str3);

	}

	@Test
	public void test3(){

		int num2 = 10;
		Integer in1 = num2;

		boolean b1 = true;
		Boolean b2 = b1;

		System.out.println(in1.toString());

		int num3 = in1;

	}

	public void method(Object obj){
		System.out.println(obj);
	}

	@Test
	public void test2() {
		Integer in1 = new Integer(12);
		int i1 = in1.intValue();
		System.out.println(i1 + 1);

		Float f1 = new Float(12.3f);
		float f2 = f1.floatValue();
		System.out.println(f2 + 1);
	}

	@Test
	public void test1() {
		int num1 = 10;

		Integer in1 = new Integer(num1);
		System.out.println(in1.toString());

		Integer in2 = new Integer("123");
		System.out.println(in2.toString());

		Float f1 = new Float(12.3f);
		Float f2 = new Float("12.3");
		System.out.println(f1);
		System.out.println(f2);

		Boolean b1 = new Boolean(true);
		Boolean b2 = new Boolean("true");

		Boolean b3 = new Boolean("true123");
		System.out.println(b3);

		Order order = new Order();
		System.out.println(order.isMale);
		System.out.println(order.isFemale);

	}
}

class Order{

	boolean isMale;
	Boolean isFemale;
}
```

### 16.4、练习

> 1、面试题

```java
import org.junit.Test;

public class InterViewTest {

	@Test
	public void test(){
		Object o1= true? new Integer(1) : new Double(2.0);
		System.out.println(o1);
	}

	@Test
	public void test2(){
		Object o2;
		if(true)
			o2 = new Integer(1);
		else
			o2 = new Double(2.0);
		System.out.println(o2);
	}

	@Test
	public void method1() {
		Integer i = new Integer(1);
		Integer j = new Integer(1);
		System.out.println(i == j);

		Integer m = 1;
		Integer n = 1;
		System.out.println(m == n);

		Integer x = 128;
		Integer y = 128;
		System.out.println(x == y);

	}
}
```

> 2、编程题

![](https://img-blog.csdnimg.cn/img_convert/c80ea8669572b20379dbbd018fadb155.png)

```java
import java.util.Scanner;
import java.util.Vector;

public class VectorTest {
	public static void main(String[] args) {

		Scanner scan = new Scanner(System.in);

		Vector v = new Vector();

		int maxScore = 0;
		for (;;) {
			System.out.println("请输入学生成绩（以负数代表输入结束）");
			int score = scan.nextInt();

			if (score < 0) {
				break;
			}
			if (score > 100) {
				System.out.println("输入的数据非法，请重新输入");
				continue;
			}

			v.addElement(score);

			if (maxScore < score) {
				maxScore = score;
			}
		}

		char level;
		for (int i = 0; i < v.size(); i++) {
			Object obj = v.elementAt(i);

			int score = (int) obj;

			if (maxScore - score  10) {
				level = 'A';
			} else if (maxScore - score  20) {
				level = 'B';
			} else if (maxScore - score  30) {
				level = 'C';
			} else {
				level = 'D';
			}

			System.out.println("student-" + i + " score is " + score + ",level is " + level);

		}
	}
}
```

## 17、关键字：static

### 17.1、static 的使用

当我们编写一个类时，其实就是在描述其对象的属性和行为，而并没有产生实质上的对象，只有通过 new 关键字才会产生出对象，这时系统才会分配内存空间给对象，其方法才可以供外部调用。

我们有时候希望无论是否产生了对象或无论产生了多少对象的情况下， **某些特定的数据在内存空间里只有一份。**

例如所有的中国人都有个国家名称，每一个中国人都共享这个国家名称，不必在每一个中国人的实例对象中都单独分配一个用于代表国家名称的变量。

![](https://img-blog.csdnimg.cn/img_convert/2057c0097587294fd28906287961f445.png)

```java

public class StaticTest {
	public static void main(String[] args) {

		Chinese.nation = "中国";

		Chinese c1 = new Chinese();
		c1.name = "姚明";
		c1.age = 40;
		c1.nation = "CHN";

		Chinese c2 = new Chinese();
		c2.name = "马龙";
		c2.age = 30;
		c2.nation = "CHINA";

		System.out.println(c1.nation);

	}
}

class Chinese{

	String name;
	int age;
	static String nation;
}
```

### 17.2、类变量 vs 实例变量内存解析

![](https://img-blog.csdnimg.cn/img_convert/97cc52e6668ddb59b0a2fc1d63b99607.png)

### 17.3、static 修饰方法

```java

public class StaticTest {
	public static void main(String[] args) {

		Chinese.nation = "中国";

		Chinese c1 = new Chinese();

		c1.eat();

		Chinese.show();

	}
}

class Chinese{

	String name;
	int age;
	static String nation;

	public void eat(){
		System.out.println("中国人吃中餐");

		this.info();
		System.out.println("name : " + name);

		walk();
		System.out.println("nation : " + Chinese.nation);
	}

	public static void show(){
		System.out.println("我是一个中国人！");

		System.out.println(Chinese.nation);
		walk();
	}

	public void info(){
		System.out.println("name : " + name + ",age : " + age);
	}

	public static void walk(){

	}
}
```

### 17.4、自定义 ArrayUtil 的优化

```java

public class ArrayUtil {

	public static int getMax(int[] arr) {
		int maxValue = arr[0];
		for (int i = 1; i < arr.length; i++) {
			if (maxValue < arr[i]) {
				maxValue = arr[i];
			}
		}
		return maxValue;
	}

	public static int getMin(int[] arr) {
		int minValue = arr[0];
		for (int i = 1; i < arr.length; i++) {
			if (minValue > arr[i]) {
				minValue = arr[i];
			}
		}
		return minValue;
	}

	public static int getSum(int[] arr) {
		int sum = 0;
		for (int i = 0; i < arr.length; i++) {
			sum += arr[i];
		}
		return sum;
	}

	public static int getAvg(int[] arr) {
		int avgValue = getSum(arr) / arr.length;
		return avgValue;
	}

	public static void reverse(int[] arr) {
		for (int i = 0; i < arr.length / 2; i++) {
			int temp = arr[i];
			arr[i] = arr[arr.length - i - 1];
			arr[arr.length - i - 1] = temp;
		}
	}

	public void reverse(String[] arr){

	}

	public static int[] copy(int[] arr) {
		int[] arr1 = new int[arr.length];
		for (int i = 0; i < arr1.length; i++) {
			arr1[i] = arr[i];
		}
		return null;
	}

	public static void sort(int[] arr) {
		for (int i = 0; i < arr.length - 1; i++) {
			for (int j = 0; j < arr.length - 1 - i; j++) {
				if (arr[j] > arr[j + 1]) {

					swap(arr,j ,j+1);
				}
			}
		}
	}

	private static void swap(int[] arr,int i,int j){
		int temp = arr[i];
		arr[i] = arr[j];
		arr[j] = temp;
	}

	public static void print(int[] arr) {
		System.out.print("[");
		for (int i = 0; i < arr.length; i++) {
			System.out.print(arr[i] + ",");
		}
		System.out.println("]");
	}

	public static int getIndex(int[] arr, int dest) {

		for (int i = 0; i < arr.length; i++) {

			if (dest==arr[i]) {
				return i;
			}

		}
		return -1;
	}

}
```

> 测试类

```java
public class ArrayUtilTest {

	public static void main(String[] args) {

		int[] arr = new int[]{32,5,26,74,0,96,14,-98,25};
		int max = ArrayUtil.getMax(arr);
		System.out.println("最大值为:" + max);

		System.out.print("排序前:");
		ArrayUtil.print(arr);

		ArrayUtil.sort(arr);
		System.out.print("排序后:");
		ArrayUtil.print(arr);

	}
}
```

### 17.5、static 的应用举例

```java

public class CircleTest {
	public static void main(String[] args) {

		Circle c1 = new Circle();

		Circle c2 = new Circle();

		Circle c3 = new Circle();

		System.out.println("c1 的 ID:" + c1.getId());
		System.out.println("c2 的 ID:" + c2.getId());
		System.out.println("c3 的 ID:" + c3.getId());

		System.out.println("创建圆的个数: " + Circle.getTotal());

	}

}

class Circle{

	private double radius;
	private int id;

	public Circle(){
		id = init++;
		total++;
	}

	public Circle(double radius){
		this();

		this.radius = radius;
	}

	private static int total;
	private static int init = 1001;

	public double findArea(){
		return 3.14 * radius * radius;
	}

	public double getRadius() {
		return radius;
	}

	public void setRadius(double radius) {
		this.radius = radius;
	}

	public int getId() {
		return id;
	}

	public static int getTotal() {
		return total;
	}

}
```

### 17.6、static 的练习

```java

public class Account {

	private int id;
	private String pwd = "000000";
	private double balance;

	private static double interestRate;
	private static double minMoney = 1.0;
	private static int init = 1001;

	public Account(){
		id = init++;
	}

	public Account(String pwd,double balance){
		id = init++;
		this.pwd = pwd;
		this.balance = balance;
	}

	public String getPwd() {
		return pwd;
	}

	public void setPwd(String pwd) {
		this.pwd = pwd;
	}

	public static double getInterestRate() {
		return interestRate;
	}

	public static void setInterestRate(double interestRate) {
		Account.interestRate = interestRate;
	}

	public static double getMinMoney() {
		return minMoney;
	}

	public static void setMinMoney(double minMoney) {
		Account.minMoney = minMoney;
	}

	public int getId() {
		return id;
	}

	public double getBalance() {
		return balance;
	}

	@Override
	public String toString() {
		return "Account [id=" + id + ", pwd=" + pwd + ", balance=" + balance + "]";
	}

}
```

> **测试类**

```java
public class AccountTest {
	public static void main(String[] args) {

		Account acct1 = new Account();
		Account acct2 = new Account("qwerty",2000);

		Account.setInterestRate(0.012);
		Account.setMinMoney(100);

		System.out.println(acct1);
		System.out.println(acct2);

		System.out.println(acct1.getInterestRate());
		System.out.println(acct1.getMinMoney());
	}
}
```

### 17.7、单例(Singleton)设计模式

设计模式是**在大量的实践中总结和理论化之后优选的代码结构、编程风格、以及解决问题的思考方式。**设计模免去我们自己再思考和摸索。就像是经典的棋谱，不同的棋局，我们用不同的棋谱。"套路"

所谓类的单例设计模式，就是采取一定的方法保证在整个的软件系统中，对 **某个类只能存在一个对象实例**。并且该类只提供一个取得其对象实例的方法。如果我们要让类在一个虚拟机中只能产生一个对象，我们首先必须将类的 **构造器的访问权限设置为 private**，这样，就不能用 new 操作符在类的外部产生类的对象了，但在类内部仍可以产生该类的对象。因为在类的外部开始还无法得到类的对象， **只能调用该类的某个静态方法以返回类内部创建的对象，静态方法只能访问类中的静态成员变量，所以，指向类内部产生的该类对象的变量也必须定义成静态的。**

> 1、 **单例模式的饿汉式**

```java

public class SingletonTest {
	public static void main(String[] args) {

		Bank bank1 = Bank.getInstance();
		Bank bank2 = Bank.getInstance();

		System.out.println(bank1 == bank2);

	}
}

class Bank{

	private Bank(){

	}

	private static Bank instance = new Bank();

	public static Bank getInstance(){
		return instance;
	}
}
```

> 2、 **单例模式的懒汉式**

```java

public class SingletonTest2 {
	public static void main(String[] args) {

		Order order1 = Order.getInstance();
		Order order2 = Order.getInstance();

		System.out.println(order1 == order2);
	}
}
class Order{

	private Order(){

	}

	private static Order instance = null;

	public static Order getInstance(){
		if(instance == null){
			instance = new Order();
		}
		return instance;
	}
}
```

> 3、 **单例模式的优点**

由于单例模式只生成一个实例， **减少了系统性能开销**，当一个对象的产生需要比较多的资源时，如读取配置、产生其他依赖对象时，则可以通过在应用启动时直接产生一个单例对象，然后永久驻留内存的方式来解决。
![](https://img-blog.csdnimg.cn/img_convert/5b12c0fa376f3b691fe7b660b1d73baf.png)

> 4、单例(Singleton)设计模式-应用场景

* **网站的计数器**，一般也是单例模式实现，否则难以同步。
* **应用程序的日志应用**，一般都使用单例模式实现，这一般是由于共享的日志文件一直处于打开状态，因为只能有一个实例去操作，否则内容不好追加。
* **数据库连接池**的设计一般也是采用单例模式，因为数据库连接是一种数据库资源。
* 项目中， **读取配置文件的类**，一般也只有一个对象。没有必要每次使用配置文件数据，都生成一个对象去读取。
* **Application**也是单例的典型应用
* Windows 的 **Task Manager (任务管理器)**就是很典型的单例模式
* Windows 的 **Recycle Bin(回收站)**也是典型的单例应用。在整个系统运行过程中，回收站一直维护着仅有的一个实例。

## 18、理解 main 方法的语法（了解)

由于 Java 虚拟机需要调用类的 main()方法，所以该方法的访问权限必须是 public，又因为 Java 虚拟机在执行 main()方法时不必创建对象，所以该方法必须是 static 的，该方法接收一个 String 类型的数组参数，该数组中保存执行 Java 命令时传递给所运行的类的参数。

又因为 main() 方法是静态的，我们不能直接访问该类中的非静态成员，必须创建该类的一个实例对象后，才能通过这个对象去访问类中的非静态成员，这种情况，我们在之前的例子中多次碰到。

```java

public class MainTest {
	public static void main(String[] args) {

		Main.main(new String[100]);

		MainTest test = new MainTest();
		test.show();
	}

	public void show(){

	}
}

class Main{
	public static void main(String[] args) {
		args = new String[100];
		for(int i = 0;i < args.length;i++){
			args[i] = "args_" + i;
			System.out.println(args[i]);
		}
	}
}
```

> **命令行参数用法举例**

```java
public class MainDemo {
	public static void main(String[] args) {

		for(int i = 0;i < args.length;i++){
			System.out.println("/*/*/*/"+ args[i]);
		}
	}
}
```

> //运行程序 MainDemo.java

```java
javac MainDemo.java
java MainDemo "Tom" "Jerry" "Shkstart"
```

![](https://img-blog.csdnimg.cn/img_convert/433e2dc60420147446a1954fc80dff97.png)

## 19、类的成员之四：代码块

```java

public class BlockTest {
	public static void main(String[] args) {

		String desc = Person.desc;
		System.out.println(desc);

		Person p1 = new Person();
		Person p2 = new Person();
		System.out.println(p1.age);

		Person.info();
	}
}

class Person{

	String name;
	int age;
	static String desc = "我是一个青年";

	public Person(){

	}

	static{
		System.out.println("hello,static block-1");

		desc = "我是一个爱小说的人";
		info();

	}

	static{
		System.out.println("hello,static block-2");
	}

	{
		System.out.println("hello,block-2");
	}
	{
		System.out.println("hello,block-1");

		age = 1;
		eat();

		desc = "我是一个爱小说的人 1";
		info();
	}

	public Person(String name,int age){
		this.name = name;
		this.age = age;
	}

	public void eat(){
		System.out.println("吃饭");
	}

	@Override
	public String toString() {
		return "Person [name=" + name + ", age=" + age + "]";
	}
	public static void info(){
		System.out.println("我是一个快乐的人。");
	}

}
```

> **静态初始化块举例 1**

```java

class Root{
	static{
		System.out.println("Root 的静态初始化块");
	}
	{
		System.out.println("Root 的普通初始化块");
	}
	public Root(){
		System.out.println("Root 的无参数的构造器");
	}
}
class Mid extends Root{
	static{
		System.out.println("Mid 的静态初始化块");
	}
	{
		System.out.println("Mid 的普通初始化块");
	}
	public Mid(){
		System.out.println("Mid 的无参数的构造器");
	}
	public Mid(String msg){

		this();
		System.out.println("Mid 的带参数构造器，其参数值："
			+ msg);
	}
}
class Leaf extends Mid{
	static{
		System.out.println("Leaf 的静态初始化块");
	}
	{
		System.out.println("Leaf 的普通初始化块");
	}
	public Leaf(){

		super("尚硅谷");
		System.out.println("Leaf 的构造器");
	}
}
public class LeafTest{
	public static void main(String[] args){
		new Leaf();

	}
}
```

> **静态初始化块举例 2**

```java
class Father {
	static {
		System.out.println("11111111111");
	}
	{
		System.out.println("22222222222");
	}

	public Father() {
		System.out.println("33333333333");

	}

}

public class Son extends Father {
	static {
		System.out.println("44444444444");
	}
	{
		System.out.println("55555555555");
	}
	public Son() {
		System.out.println("66666666666");
	}

	public static void main(String[] args) {
		System.out.println("77777777777");
		System.out.println("************************");
		new Son();
		System.out.println("************************");

		new Son();
		System.out.println("************************");
		new Father();
	}

}
```

> **总结：程序中成员变量赋值的执行顺序**

![](https://img-blog.csdnimg.cn/img_convert/35c39171e6d8d7a2a25bd0c9edd48ee9.png)

```java

public class OrderTest {
	public static void main(String[] args) {
		Order order = new Order();
		System.out.println(order.orderId);
	}
}
class Order{

	int orderId = 3;
	{
		orderId = 4;
	}

}
```

## 20、关键字：final

```java

public class FinalTest {

	final int WIDTH = 0;
	final int LEFT;
	final int RIGHT;

	{
		LEFT = 1;
	}

	public FinalTest(){
		RIGHT = 2;
	}

	public FinalTest(int n){
		RIGHT = n;
	}

	public void dowidth(){

	}

	public void show(){
		final int NUM = 10;

	}

	public void show(final int num){
		System.out.println(num);
	}

	public static void main(String[] args) {

		int num = 10;

		num = num + 5;

		FinalTest test = new FinalTest();

		test.show(10);
	}
}

final class FianlA{

}

class AA{
	public final void show(){

	}
}

```

> 1、 **面试题1**

```java
public class Something {
	public int addOne(final int x) {
		return ++x;
	}
}
```

> 2、 **面试题2**

```java
public class Something {

	public static void main(String[] args) {
		Other o = new Other();
		new Something().addOne(o);
	}

	public void addOne(final Other o) {

		o.i++;
	}
}

class Other {
	public int i;
}
```

## 21、抽象类与抽象方法

随着继承层次中一个个新子类的定义，类变得越来越具体，而父类则更一般，更通用。类的设计应该保证父类和子类能够共享特征。有时将一个父类设计得非常抽象，以至于它没有具体的实例，这样的类叫做 **抽象类**。

![](https://img-blog.csdnimg.cn/img_convert/367a5bc4e1045fec15a665827ad1a665.png)

```java

public class AbstractTest {
	public static void main(String[] args) {

	}
}

abstract class Creature{
	public abstract void breath();
}

abstract class Person extends Creature{
	String name;
	int age;

	public Person(){

	}

	public Person(String name,int age){
		this.name = name;
		this.age = age;
	}

	public abstract void eat();

	public void walk(){
		System.out.println("人走路");
	}
}

class Student extends Person{
	public Student(String name,int age){
		super(name,age);
	}
	public void eat(){
		System.out.println("学生应该多吃有营养的。");
	}
	@Override
	public void breath() {
		System.out.println("学生应该呼吸新鲜的无雾霾空气");
	}
}
```

### 21.1、抽象类应用

> 抽象类是用来模型化那些父类无法确定全部实现，而是由其子类提供具体实现的对象的类。

![](https://img-blog.csdnimg.cn/img_convert/fae4ad700aef40c0402a7e092da91106.png)

> 问题：卡车(Truck)和驳船(RiverBarge)的燃料效率和行驶距离的计算方法完全不同。Vehicle 类不能提供计算方法，但子类可以。

```java

public abstract class Vehicle{
	public abstract double calcFuelEfficiency();
	public abstract double calcTripDistance();
}
public class Truck extends Vehicle{
	public double calcFuelEfficiency(){

	}
	public double calcTripDistance(){

	}
}
public class RiverBarge extends Vehicle{
	public double calcFuelEfficiency() {

	}
	public double calcTripDistance( )  {

	}
}
```

### 21.2、练习

```java

public abstract class Employee {

	private String name;
	private int id;
	private double salary;

	public Employee(){
		super();
	}

	public Employee(String name, int id, double salary) {
		super();
		this.name = name;
		this.id = id;
		this.salary = salary;
	}

	public abstract void work();
}
```

> Manager 类

```java

public class Manager extends Employee{

	private double bonus;

	public Manager(double bonus) {
		super();
		this.bonus = bonus;
	}

	public Manager(String name, int id, double salary, double bonus) {
		super(name, id, salary);
		this.bonus = bonus;
	}

	@Override
	public void work() {
		System.out.println("管理员工，提高公司运行效率。");
	}
}
```

> CommonEmployee 类

```java
public class CommonEmployee extends Employee {

	@Override
	public void work() {
		System.out.println("员工在一线车间生产产品。");
	}

}
```

> 测试类

```java

public class EmployeeTest {
	public static void main(String[] args) {

		Employee manager = new Manager("库克",1001,5000,50000);

		manager.work();

		CommonEmployee commonEmployee = new CommonEmployee();
		commonEmployee.work();
	}
}
```

### 21.3、创建抽象类的匿名子类对象

```java
public class Num {

}

abstract class Creature{
	public abstract void breath();
}

abstract class Person extends Creature{
	String name;
	int age;

	public Person(){

	}

	public Person(String name,int age){
		this.name = name;
		this.age = age;
	}

	public abstract void eat();

	public void walk(){
		System.out.println("人走路");
	}
}

class Student extends Person{
	public Student(String name,int age){
		super(name,age);
	}
	public Student(){

	}
	public void eat(){
		System.out.println("学生应该多吃有营养的。");
	}
	@Override
	public void breath() {
		System.out.println("学生应该呼吸新鲜的无雾霾空气");
	}
}
```

> PersonTest 类

```java

public class PersonTest {
	public static void main(String[] args) {

		method(new Student());

		Worker worker = new Worker();
		method1(worker);

		method1(new Worker());

		System.out.println("*********************");

		Person p = new Person(){

			@Override
			public void eat() {
				System.out.println("吃东西");
			}

			@Override
			public void breath() {
				System.out.println("呼吸空气");
			}

		};
		method1(p);
		System.out.println("**********************");

		method1(new Person(){

			@Override
			public void eat() {
				System.out.println("吃零食");
			}

			@Override
			public void breath() {
				System.out.println("云南的空气");
			}

		});
	}

	public static void method1(Person p){
		p.eat();
		p.walk();
	}

	public static void method(Student s){

	}
}
class Worker extends Person{

	@Override
	public void eat() {
	}

	@Override
	public void breath() {
	}
}
```

### 21.4、多态的应用：模板方法设计模式(TemplateMethod)

抽象类体现的就是一种模板模式的设计，抽象类作为多个子类的通用模板，子类在抽象类的基础上进行扩展、改造，但子类总体上会保留抽象类的行为方式。

> 解决的问题：

当功能内部一部分实现是确定的，一部分实现是不确定的。这时可以把不确定的部分暴露出去，让子类去实现。
换句话说， **在软件开发中实现一个算法时，整体步骤很固定、通用，这些步骤已经在父类中写好了。但是某些部分易变，易变部分可以抽象出来，供不同子类实现。这就是一种模板模式。**

> 1、例 1

```java

public class TemplateTest {
	public static void main(String[] args) {

		SubTemlate t = new SubTemlate();

		t.sendTime();
	}
}
abstract class Template{

	public void sendTime(){

		long start = System.currentTimeMillis();

		code();

		long end = System.currentTimeMillis();

		System.out.println("花费的时间为:" + (end - start));
	}

	public abstract void code();
}

class SubTemlate extends Template{

	@Override
	public void code() {

		for(int i = 2;i  1000;i++){
			boolean isFlag = true;
			for(int j = 2;j  Math.sqrt(i);j++){
				if(i % j == 0){
					isFlag = false;
					break;
				}
			}
			if(isFlag){
				System.out.println(i);
			}
		}
	}
}
```

> 2、例 2

```java

public class TemplateMethodTest {

	public static void main(String[] args) {
		BankTemplateMethod btm = new DrawMoney();
		btm.process();

		BankTemplateMethod btm2 = new ManageMoney();
		btm2.process();
	}
}
abstract class BankTemplateMethod {

	public void takeNumber() {
		System.out.println("取号排队");
	}

	public abstract void transact();

	public void evaluate() {
		System.out.println("反馈评分");
	}

	public final void process() {
		this.takeNumber();

		this.transact();

		this.evaluate();
	}
}

class DrawMoney extends BankTemplateMethod {
	public void transact() {
		System.out.println("我要取款！！！");
	}
}

class ManageMoney extends BankTemplateMethod {
	public void transact() {
		System.out.println("我要理财！我这里有 2000 万美元!!");
	}
}
```

> 模板方法设计模式是编程中经常用得到的模式。各个框架、类库中都有他的影子，比如常见的有：

* 数据库访问的封装
* Junit 单元测试
* JavaWeb 的 Servlet 中关于 doGet/doPost 方法调用
* Hibernate 中模板程序
* Spring 中 JDBCTemlate、HibernateTemplate 等

### 21.5、抽象类的练习

![](https://img-blog.csdnimg.cn/img_convert/a36e51e665b20673f270cb9b2b921e20.png)
![](https://img-blog.csdnimg.cn/img_convert/56ace48e046b22da15db7100a2edfccb.png)

> 1、Employee 类

```java

public abstract class Employee {
	private String name;
	private int number;
	private MyDate birthday;

	public Employee(String name, int number, MyDate birthday) {
		super();
		this.name = name;
		this.number = number;
		this.birthday = birthday;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public int getNumber() {
		return number;
	}

	public void setNumber(int number) {
		this.number = number;
	}

	public MyDate getBirthday() {
		return birthday;
	}

	public void setBirthday(MyDate birthday) {
		this.birthday = birthday;
	}

	public abstract double earnings();

	@Override
	public String toString() {
		return "name=" + name + ", number=" + number + ", birthday=" + birthday.toDateString() + "]";
	}

}
```

> 2、MyDate 类

```java

public class MyDate {
	private int year;
	private int month;
	private int day;

	public MyDate(int year, int month, int day) {
		super();
		this.year = year;
		this.month = month;
		this.day = day;
	}

	public int getYear() {
		return year;
	}

	public void setYear(int year) {
		this.year = year;
	}

	public int getMonth() {
		return month;
	}

	public void setMonth(int month) {
		this.month = month;
	}

	public int getDay() {
		return day;
	}

	public void setDay(int day) {
		this.day = day;
	}

	public String toDateString(){
		return year + "年" + month + "月" + day + "日";
	}
}
```

> 3、SalariedEmployee 类

```java

public class SalariedEmployee extends Employee{
	private double monthlySalary;

	public SalariedEmployee(String name,int number,MyDate birthday) {
		super(name,number,birthday);
	}

	public SalariedEmployee(String name, int number, MyDate birthday, double monthlySalary) {
		super(name, number, birthday);
		this.monthlySalary = monthlySalary;
	}

	@Override
	public double earnings() {
		return monthlySalary;
	}

	@Override
	public String toString() {
		return "SalariedEmployee [" + super.toString() + "]";
	}
}
```

> 4、HourlyEmployee 类

```java

public class HourlyEmployee extends Employee{
	private int wage;
	private int hour;

	public HourlyEmployee(String name, int number, MyDate birthday) {
		super(name, number, birthday);
	}

	public HourlyEmployee(String name, int number, MyDate birthday, int wage, int hour) {
		super(name, number, birthday);
		this.wage = wage;
		this.hour = hour;
	}

	@Override
	public double earnings() {
		return wage*hour;
	}

	public int getWage() {
		return wage;
	}

	public void setWage(int wage) {
		this.wage = wage;
	}

	public int getHour() {
		return hour;
	}

	public void setHour(int hour) {
		this.hour = hour;
	}

	public String toString(){
		return "HourlyEmployee[" + super.toString() + "]";
	}
}
```

> 5、PayrollSystem 类

```java
import java.util.Calendar;
import java.util.Scanner;

public class PayrollSystem {
	public static void main(String[] args) {

		Calendar calendar = Calendar.getInstance();
		int month = calendar.get(Calendar.MONTH);

		Employee[] emps = new Employee[2];

		emps[0] = new SalariedEmployee("马良", 1002,new MyDate(1992, 2, 28),10000);
		emps[1] = new HourlyEmployee("博西", 2001, new MyDate(1991, 1, 6),60,240);

		for(int i = 0;i < emps.length;i++){
			System.out.println(emps[i]);
			double salary = emps[i].earnings();
			System.out.println("月工资为：" + salary);

			if((month+1) == emps[i].getBirthday().getMonth()){
				System.out.println("生日快乐！奖励 100 元");
			}

		}
	}
}
```

## 22、接口(interface)

### 22.1、概述

一方面，有时必须从几个类中派生出一个子类，继承它们所有的属性和方法。但是，Java 不支持多重继承。有了接口，就可以得到多重继承的效果。

另一方面，有时必须从几个类中抽取出一些共同的行为特征，而它们之间又没有 is-a 的关系，仅仅是具有相同的行为特征而已。例如：鼠标、键盘、打印机、扫描仪、摄像头、充电器、MP3 机、手机、数码相机、移动硬盘等都支持 USB 连接。

接口就是规范，定义的是一组规则，体现了现实世界中"如果你是/要...则必须能..."的思想。 **继承是一个"是不是"的关系，而接口实现则是"能不能"的关系。**

**接口的本质是契约，标准，规范**，就像我们的法律一样。制定好后大家都要遵守。
![](https://img-blog.csdnimg.cn/img_convert/aec8823d72652f568ac820b927069e4e.png)

![](https://img-blog.csdnimg.cn/img_convert/729b5a0b77e2881568a2c029920e0f2e.png)

```java

public class InterfaceTest {
	public static void main(String[] args) {
		System.out.println(Flayable.MAX_SPEED);
		System.out.println(Flayable.MIN_SPEED);
	}
}
interface Flayable{

	public static final int MAX_SPEED = 7900;
	int MIN_SPEED = 1;

	public abstract void fly();

	void stop();

}
interface Attackable{
	void attack();
}

class Plane implements Flayable{

	@Override
	public void fly() {
		System.out.println("飞机通过引擎起飞");

	}

	@Override
	public void stop() {
		System.out.println("驾驶员减速停止");
	}

}
abstract class Kite implements Flayable{

	@Override
	public void fly() {

	}
}

class Bullet extends Object implements Flayable,Attackable,CC{

	@Override
	public void attack() {

	}

	@Override
	public void fly() {

	}

	@Override
	public void stop() {

	}

	@Override
	public void method1() {

	}

	@Override
	public void method2() {

	}
}

interface AA{
	void method1();
}
interface BB{
	void method2();
}
interface CC extends AA,BB{

}
```

![](https://img-blog.csdnimg.cn/img_convert/1c9cab10d5aac0ca205e787df6f7bed2.png)
![](https://img-blog.csdnimg.cn/img_convert/e0c3ab2a9f72d5c2aaaca773adc0017d.png)

### 22.2、举例

```java

public class USBTest {
	public static void main(String[] args) {

		Computer com = new Computer();

		Flash flash = new Flash();
		com.transferData(flash);

		com.transferData(new Printer());

		USB phone = new USB(){

			@Override
			public void start() {
				System.out.println("手机开始工作");
			}

			@Override
			public void stop() {
				System.out.println("手机结束工作");
			}

		};
		com.transferData(phone);

		com.transferData(new USB(){
			@Override
			public void start() {
				System.out.println("mp3 开始工作");
			}

			@Override
			public void stop() {
				System.out.println("mp3 结束工作");
			}
		});
	}
}

class Computer{

	public void transferData(USB usb){
		usb.start();

		System.out.println("具体传输数据的细节");

		usb.stop();
	}

}

interface USB{

	void start();

	void stop();
}
class Flash implements USB{

	@Override
	public void start() {
		System.out.println("U 盘开始工作");
	}

	@Override
	public void stop() {
		System.out.println("U 盘结束工作");
	}
}
class Printer implements USB{
	@Override
	public void start() {
		System.out.println("打印机开启工作");
	}

	@Override
	public void stop() {
		System.out.println("打印机结束工作");
	}

}
```

### 22.3、接口的应用：代理模式(Proxy)

代理模式是 Java 开发中使用较多的一种设计模式。代理设计就是为其他对象提供一种代理以控制对这个对象的访问。

![](https://img-blog.csdnimg.cn/img_convert/6be3acfe541841343c9338f669a58d0c.png)

```java

public class NetWorkTest {
	public static void main(String[] args) {

		Server server = new Server();

		ProxyServer proxyServer = new ProxyServer(server);

		proxyServer.browse();
	}
}
interface NetWork{
	public void browse();

}

class Server implements NetWork{

	@Override
	public void browse() {
		System.out.println("真实的服务器来访问网络");
	}
}

class ProxyServer implements NetWork{

	private NetWork work;

	public ProxyServer(NetWork work){
		this.work = work;
	}

	public void check(){
		System.out.println("联网前的检查工作");
	}

	@Override
	public void browse() {
		check();

		work.browse();
	}

}
```

> 应用场景：

* 安全代理：屏蔽对真实角色的直接访问。
* 远程代理：通过代理类处理远程方法调用（RMI）
* 延迟加载：先加载轻量级的代理对象，真正需要再加载真实对象

比如你要开发一个大文档查看软件，大文档中有大的图片，有可能一个图片有 100MB，在打开文件时，不可能将所有的图片都显示出来，这样就可以使用代理模式，当需要查看图片时，用 proxy 来进行大图片的打开。

> 分类

* 静态代理（静态定义代理类）
* 动态代理（动态生成代理类）
  - JDK 自带的动态代理，需要反射等知识

```java
public class StaticProxyTest {

	public static void main(String[] args) {
		Proxy s = new Proxy(new RealStar());
		s.confer();
		s.signContract();
		s.bookTicket();
		s.sing();
		s.collectMoney();
	}
}

interface Star {
	void confer();

	void signContract();

	void bookTicket();

	void sing();

	void collectMoney();
}

class RealStar implements Star {

	public void confer() {
	}

	public void signContract() {
	}

	public void bookTicket() {
	}

	public void sing() {
		System.out.println("明星：歌唱~~~");
	}

	public void collectMoney() {
	}
}

class Proxy implements Star {
	private Star real;

	public Proxy(Star real) {
		this.real = real;
	}

	public void confer() {
		System.out.println("经纪人面谈");
	}

	public void signContract() {
		System.out.println("经纪人签合同");
	}

	public void bookTicket() {
		System.out.println("经纪人订票");
	}

	public void sing() {
		real.sing();
	}

	public void collectMoney() {
		System.out.println("经纪人收钱");
	}
}
```

### 22.4、接口的应用：工厂模式

拓展：[工厂设计模式.pdf](https://www.yuque.com/nizhegechouloudetuboshu/library/mlenxx)

> 接口和抽象类之间的对比

No.区别点抽象类接口1定义包含抽象方法的类主要是抽象方法和全局常量的集合2组成构造方法、抽象方法、普通方法、常量、变量常量、抽象方法、(jdk8.0:默认方法、静态方法)3使用子类继承抽象类(extends)子类实现接口(implements)4关系抽象类可以实现多个接口接口不能继承抽象类，但允许继承多个接口5常见设计模式模板方法简单工厂、工厂方法、代理模式6对象都通过对象的多态性产生实例化对象7局限抽象类有单继承的局限接口没有此局限8实际作为一个模板是作为一个标准或是表示一种能力9选择如果抽象类和接口都可以使用的话，优先使用接口，因为避免单继承的局限

> 在开发中，常看到一个类不是去继承一个已经实现好的类，而是要么继承抽象类，要么实现接口。
-【面试题】排错：

```java
interface A {
	int x = 0;
}
class B {
	int x = 1;
}
class C extends B implements A {
	public void pX() {

		System.out.println(x);

	}
	public static void main(String[] args) {
		new C().pX();
	}
}
```

> 排错 2：

```java
interface Playable {
	void play();
}
interface Bounceable {
	void play();
}
interface Rollable extends Playable, Bounceable {
	Ball ball= new Ball("PingPang");
}
public class Ball implements Rollable {
	private String name;
	public String getName() {
		return name;
	}
	public Ball(String name) {
		this.name= name;
	}
	public void play() {
		ball = new Ball("Football");
		System.out.println(ball.getName());
	}
}
```

> 练习

![](https://img-blog.csdnimg.cn/img_convert/6593e549625053470aca56f338387d98.png)

CompareObject 类

```java

public interface CompareObject {
	public int compareTo(Object o);

}
```

Circle 类

```java

public class Circle {

	private Double radius;

	public Double getRadius() {
		return radius;
	}

	public void setRadius(Double radius) {
		this.radius = radius;
	}

	public Circle() {
		super();
	}

	public Circle(Double radius) {
		super();
		this.radius = radius;
	}

}
```

ComparableCircle 类

```java

public class ComparableCircle extends Circle implements CompareObject{

	public ComparableCircle(double radius) {
		super(radius);
	}
	@Override
	public int compareTo(Object o) {
		if(this == o){
			return 0;
		}
		if(o instanceof ComparableCircle){
			ComparableCircle c = (ComparableCircle)o;

			return this.getRadius().compareTo(c.getRadius());
		}else{
			return 0;

		}
	}
}
```

InterfaceTest 类

```java

public class InterfaceTest {
	public static void main(String[] args) {

		ComparableCircle c1 = new ComparableCircle(3.4);
		ComparableCircle c2 = new ComparableCircle(3.6);

		int compareValue = c1.compareTo(c2);
		if(compareValue > 0){
			System.out.println("c1 对象大");
		}else if(compareValue < 0){
			System.out.println("c2 对象大");
		}else{
			System.out.println("两个一样的");
		}

		int compareValue1 = c1.compareTo(new String("AA"));
		System.out.println(compareValue1);
	}
}
```

## 23、Java 8 中关于接口的改进

Java 8 中，你可以为接口添加静态方法和默认方法。从技术角度来说，这是完全合法的，只是它看起来违反了接口作为一个抽象定义的理念。

> 静态方法：

使用 static 关键字修饰。可以通过接口直接调用静态方法，并执行其方法体。我们经常在相互一起使用的类中使用静态方法。你可以在标准库中找到像 Collection/Collections 或者 Path/Paths 这样成对的接口和类。

> 默认方法：

默认方法使用 default 关键字修饰。可以通过实现类对象来调用。我们在已有的接口中提供新方法的同时，还保持了与旧版本代码的兼容性。比如：java 8 API 中对 Collection、List、Comparator 等接口提供了丰富的默认方法。

> 例1

interface 类

```java

public interface CompareA {

	public static void method1() {
		System.out.println("CompareA:西安");
	}

	public default void method2(){
		System.out.println("CompareA:深圳");
	}

	default void method3(){
		System.out.println("CompareA:杭州");
	}
}
```

SubClassTest 类

```java
public class SubClassTest {

	public static void main(String[] args) {
		SubClass s = new SubClass();

		CompareA.method1();

		s.method2();

		s.method3();

	}
}
class SubClass extends SuperClass implements CompareA,CompareB{

	public void method2(){
		System.out.println("SubClass：上海");
	}

	public void method3(){
		System.out.println("SubClass：深圳");
	}

	public void myMethod(){
		method3();
		super.method3();

		CompareA.super.method3();
		CompareB.super.method3();
	}
}
```

SuperClass 类

```java
public class SuperClass {
	public void method3(){
		System.out.println("SuperClass:北京");
	}
}
```

CompareB 类

```java
public interface CompareB {
	default void method3(){
		System.out.println("CompareB：上海");
	}
}
```

> 例2

```java

interface Filial {
	default void help() {
		System.out.println("老妈，我来救你了");
	}
}

interface Spoony {
	default void help() {
		System.out.println("媳妇，别怕，我来了");
	}
}

class Father{
	public void help(){
		System.out.println("儿子，救我媳妇！");
	}
}

class Man extends Father implements Filial, Spoony {

	@Override
	public void help() {
		System.out.println("我该就谁呢？");
		Filial.super.help();
		Spoony.super.help();
	}

}
```

## 24、类的内部成员之五：内部类

当一个事物的内部，还有一个部分需要一个完整的结构进行描述，而这个内部的完整的结构又只为外部事物提供服务，那么整个内部的完整结构最好使用内部类。

```java

public class InnerClassTest {
	public static void main(String[] args) {

		Person.Dog dog = new Person.Dog();
		dog.show();

		Person p = new Person();
		Person.Bird bird = p.new Bird();
		bird.sing();

		System.out.println();

		bird.display("喜鹊");
	}
}
class Person{
	String name = "李雷";
	int age;

	public void eat(){
		System.out.println("人，吃饭");
	}

	static class Dog{
		String name;
		int age;

		public void show(){
			System.out.println("卡拉是条狗");

		}
	}

	class Bird{
		String name = "杜鹃";
		public Bird(){

		}

		public void sing(){
			System.out.println("我是一只猫头鹰");
			Person.this.eat();
			eat();
			System.out.println(age);
		}

		public void display(String name){
			System.out.println(name);
			System.out.println(this.name);
			System.out.println(Person.this.name);
		}
	}
	public void method(){

		class AA{

		}
	}

	{

		class BB{

		}
	}

	public Person(){

		class CC{

		}
	}
}
```

> InnerClassTest1类

```java
public class InnerClassTest1 {

	public void method(){

		class AA{

		}
	}

	public Comparable getComparable(){

		return new Comparable(){

			@Override
			public int compareTo(Object o) {
				return 0;
			}

		};

	}
}
```

### 24.1、匿名内部类

```java

interface Product{
	public double getPrice();
	public String getName();
}
public class AnonymousTest{
	public void test(Product p){
		System.out.println("购买了一个" + p.getName() + "，花掉了" + p.getPrice());
	}
	public static void main(String[] args) {
		AnonymousTest ta = new AnonymousTest();

		ta.test(new Product(){
			public double getPrice(){
				return 567.8;
			}
			public String getName(){
				return "AGP显卡";
			}
		});
	}
}
```

### 24.2、局部内部类的使用注意

```java
public class InnerClassTest {

	public void method(){

		int num = 10;

		class AA{

			public void show(){

				System.out.println(num);
			}
		}
	}
}
```


